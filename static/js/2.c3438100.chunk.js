/*! For license information please see 2.c3438100.chunk.js.LICENSE.txt */
(this["webpackJsonptp-f"]=this["webpackJsonptp-f"]||[]).push([[2],[function(e,t,n){e.exports=n(103)},function(e,t,n){"use strict";e.exports=n(97)},function(e,t,n){"use strict";function r(e,t,n,r,a,i,o){try{var u=e[i](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,a)}function a(e){return function(){var t=this,n=arguments;return new Promise((function(a,i){var o=e.apply(t,n);function u(e){r(o,a,i,u,s,"next",e)}function s(e){r(o,a,i,u,s,"throw",e)}u(void 0)}))}}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(5);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){Object(r.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return A})),n.d(t,"c",(function(){return C})),n.d(t,"d",(function(){return N})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return H})),n.d(t,"g",(function(){return P})),n.d(t,"h",(function(){return y})),n.d(t,"i",(function(){return q})),n.d(t,"j",(function(){return M})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return W})),n.d(t,"n",(function(){return b})),n.d(t,"o",(function(){return w})),n.d(t,"p",(function(){return O})),n.d(t,"q",(function(){return x})),n.d(t,"r",(function(){return L})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return T})),n.d(t,"u",(function(){return g})),n.d(t,"v",(function(){return k})),n.d(t,"w",(function(){return j})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return E})),n.d(t,"z",(function(){return U})),n.d(t,"A",(function(){return V})),n.d(t,"B",(function(){return S}));var r=n(9),a=n(15),i=n(48),o=n(12),u=n(13),s=n(85),c=n(3),l=n(4),f=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var a=e.charCodeAt(r);a<128?t[n++]=a:a<2048?(t[n++]=a>>6|192,t[n++]=63&a|128):55296===(64512&a)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++r)),t[n++]=a>>18|240,t[n++]=a>>12&63|128,t[n++]=a>>6&63|128,t[n++]=63&a|128):(t[n++]=a>>12|224,t[n++]=a>>6&63|128,t[n++]=63&a|128)}return t},h={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],a=0;a<e.length;a+=3){var i=e[a],o=a+1<e.length,u=o?e[a+1]:0,s=a+2<e.length,c=s?e[a+2]:0,l=i>>2,f=(3&i)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(f(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var a=e[n++];if(a<128)t[r++]=String.fromCharCode(a);else if(a>191&&a<224){var i=e[n++];t[r++]=String.fromCharCode((31&a)<<6|63&i)}else if(a>239&&a<365){var o=((7&a)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&a)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],a=0;a<e.length;){var i=n[e.charAt(a++)],o=a<e.length?n[e.charAt(a)]:0,u=++a<e.length?n[e.charAt(a)]:64,s=++a<e.length?n[e.charAt(a)]:64;if(++a,null==i||null==o||null==u||null==s)throw Error();var c=i<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},d=function(e){return function(e){var t=f(e);return h.encodeByteArray(t,!0)}(e).replace(/\./g,"")},p=function(e){try{return h.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function v(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=v(e[n],t[n]));return e}var m=function(){function e(){var t=this;Object(c.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Object(l.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function y(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,a=e.sub||e.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var i=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},e);return[d(JSON.stringify({alg:"none",type:"JWT"})),d(JSON.stringify(i)),""].join(".")}function b(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())}function k(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}function w(){return"object"===typeof self&&self.self===self}function O(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function j(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function x(){return b().indexOf("Electron/")>=0}function _(){var e=b();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return b().indexOf("MSAppHost/")>=0}function I(){return!k()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){return"object"===typeof indexedDB}function S(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=function(){a.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},a.onupgradeneeded=function(){n=!1},a.onerror=function(){var e;t((null===(e=a.error)||void 0===e?void 0:e.message)||"")}}catch(i){t(i)}}))}function N(){return!("undefined"===typeof navigator||!navigator.cookieEnabled)}var C=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(e,r,a){var o;return Object(c.a)(this,n),(o=t.call(this,r)).code=e,o.customData=a,o.name="FirebaseError",Object.setPrototypeOf(Object(i.a)(o),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(i.a)(o),A.prototype.create),o}return n}(Object(s.a)(Error)),A=function(){function e(t,n,r){Object(c.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(l.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],a=r?R(r,t):"Error",i="".concat(this.serviceName,": ").concat(a," (").concat(n,")."),o=new C(n,i,t);return o}}]),e}();function R(e,t){return e.replace(D,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var D=/\{\$([^}]+)}/g;function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function M(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),a=0,i=n;a<i.length;a++){var o=i[a];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(F(u)&&F(s)){if(!M(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function F(e){return null!==e&&"object"===typeof e}function U(e){for(var t=[],n=function(){var e=Object(a.a)(i[r],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function V(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=Object(a.a)(n,2),i=r[0],o=r[1];t[decodeURIComponent(i)]=decodeURIComponent(o)}})),t}function B(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function q(e,t){var n=new z(e,t);return n.subscribe.bind(n)}var z=function(){function e(t,n){var r=this;Object(c.a)(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Object(l.a)(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var a,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(a=function(e,t){if("object"!==typeof e||null===e)return!1;var n,a=Object(r.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(o){a.e(o)}finally{a.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(a.next=K),void 0===a.error&&(a.error=K),void 0===a.complete&&(a.complete=K);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?a.error(i.finalError):a.complete()}catch(e){}})),this.observers.push(a),o}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function K(){}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,r=t*Math.pow(n,e),a=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+a)}function W(e){return e&&e._delegate?e._delegate:e}}).call(this,n(67))},function(e,t,n){"use strict";e.exports=n(108)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(44);function a(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Object(r.a)(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i,o=!0,u=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return o=e.done,e},e:function(e){u=!0,i=e},f:function(){try{o||null==a.return||a.return()}finally{if(u)throw i}}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return T})),n.d(t,"b",(function(){return rt})),n.d(t,"c",(function(){return Ft})),n.d(t,"d",(function(){return qt})),n.d(t,"e",(function(){return Kt})),n.d(t,"f",(function(){return zt})),n.d(t,"g",(function(){return St})),n.d(t,"h",(function(){return Bt})),n.d(t,"i",(function(){return ga})),n.d(t,"j",(function(){return Ii})),n.d(t,"k",(function(){return I})),n.d(t,"l",(function(){return oa})),n.d(t,"m",(function(){return Ht})),n.d(t,"n",(function(){return Wt})),n.d(t,"o",(function(){return Gt})),n.d(t,"p",(function(){return V})),n.d(t,"q",(function(){return Xe})),n.d(t,"r",(function(){return P})),n.d(t,"s",(function(){return Tr})),n.d(t,"t",(function(){return K})),n.d(t,"u",(function(){return Ja})),n.d(t,"v",(function(){return Le})),n.d(t,"x",(function(){return Cn})),n.d(t,"y",(function(){return jr})),n.d(t,"z",(function(){return _i})),n.d(t,"A",(function(){return _r})),n.d(t,"B",(function(){return Rn})),n.d(t,"C",(function(){return Sn})),n.d(t,"D",(function(){return et})),n.d(t,"F",(function(){return Mn})),n.d(t,"G",(function(){return N})),n.d(t,"H",(function(){return Gn})),n.d(t,"I",(function(){return dr})),n.d(t,"J",(function(){return mr})),n.d(t,"K",(function(){return Ya})),n.d(t,"L",(function(){return Pe})),n.d(t,"M",(function(){return Wr})),n.d(t,"N",(function(){return qn})),n.d(t,"O",(function(){return mn})),n.d(t,"P",(function(){return fa})),n.d(t,"Q",(function(){return Aa})),n.d(t,"R",(function(){return Ga})),n.d(t,"S",(function(){return kr})),n.d(t,"T",(function(){return bn})),n.d(t,"U",(function(){return da})),n.d(t,"V",(function(){return Na})),n.d(t,"W",(function(){return Ha})),n.d(t,"X",(function(){return Yn})),n.d(t,"Y",(function(){return In})),n.d(t,"Z",(function(){return Vn})),n.d(t,"ab",(function(){return Xt})),n.d(t,"bb",(function(){return pn})),n.d(t,"cb",(function(){return On})),n.d(t,"db",(function(){return Un})),n.d(t,"eb",(function(){return zn})),n.d(t,"fb",(function(){return ca})),n.d(t,"gb",(function(){return Ta})),n.d(t,"hb",(function(){return za})),n.d(t,"ib",(function(){return rn})),n.d(t,"jb",(function(){return rr})),n.d(t,"kb",(function(){return ar})),n.d(t,"lb",(function(){return ya})),n.d(t,"mb",(function(){return tr})),n.d(t,"nb",(function(){return Jn})),n.d(t,"ob",(function(){return Pn})),n.d(t,"w",(function(){return Zi})),n.d(t,"E",(function(){return Ji}));var r=n(70),a=n(72),i=n(44),o=n(71);var u=n(0),s=n.n(u),c=n(3),l=n(4),f=n(24),h=n(22),d=n(12),p=n(13),v=n(2),m=n(48),y=n(9),b=n(15),g=n(20),k=n(5),w=n(7),O=n(18);function j(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]])}return n}Object.create;Object.create;var x,_=n(25),E=n(23),I={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},T={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function S(){return Object(k.a)({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var N=function(){var e;return e={},Object(k.a)(e,"admin-restricted-operation","This operation is restricted to administrators only."),Object(k.a)(e,"argument-error",""),Object(k.a)(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Object(k.a)(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Object(k.a)(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Object(k.a)(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Object(k.a)(e,"cordova-not-ready","Cordova framework is not ready."),Object(k.a)(e,"cors-unsupported","This browser is not supported."),Object(k.a)(e,"credential-already-in-use","This credential is already associated with a different user account."),Object(k.a)(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Object(k.a)(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Object(k.a)(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Object(k.a)(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Object(k.a)(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Object(k.a)(e,"email-already-in-use","The email address is already in use by another account."),Object(k.a)(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Object(k.a)(e,"expired-action-code","The action code has expired."),Object(k.a)(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Object(k.a)(e,"internal-error","An internal AuthError has occurred."),Object(k.a)(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Object(k.a)(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Object(k.a)(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Object(k.a)(e,"invalid-auth-event","An internal AuthError has occurred."),Object(k.a)(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Object(k.a)(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Object(k.a)(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Object(k.a)(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Object(k.a)(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Object(k.a)(e,"invalid-email","The email address is badly formatted."),Object(k.a)(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Object(k.a)(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Object(k.a)(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Object(k.a)(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Object(k.a)(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Object(k.a)(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Object(k.a)(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Object(k.a)(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Object(k.a)(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Object(k.a)(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Object(k.a)(e,"wrong-password","The password is invalid or the user does not have a password."),Object(k.a)(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Object(k.a)(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Object(k.a)(e,"invalid-provider-id","The specified provider ID is invalid."),Object(k.a)(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Object(k.a)(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Object(k.a)(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Object(k.a)(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Object(k.a)(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Object(k.a)(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Object(k.a)(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Object(k.a)(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Object(k.a)(e,"missing-continue-uri","A continue URL must be provided in the request."),Object(k.a)(e,"missing-iframe-start","An internal AuthError has occurred."),Object(k.a)(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Object(k.a)(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Object(k.a)(e,"missing-multi-factor-info","No second factor identifier is provided."),Object(k.a)(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Object(k.a)(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Object(k.a)(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Object(k.a)(e,"app-deleted","This instance of FirebaseApp has been deleted."),Object(k.a)(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Object(k.a)(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Object(k.a)(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Object(k.a)(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Object(k.a)(e,"no-auth-event","An internal AuthError has occurred."),Object(k.a)(e,"no-such-provider","User was not linked to an account with the given provider."),Object(k.a)(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Object(k.a)(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Object(k.a)(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Object(k.a)(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Object(k.a)(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Object(k.a)(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Object(k.a)(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Object(k.a)(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Object(k.a)(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Object(k.a)(e,"rejected-credential","The request contains malformed or mismatching credentials."),Object(k.a)(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Object(k.a)(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Object(k.a)(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Object(k.a)(e,"timeout","The operation has timed out."),Object(k.a)(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Object(k.a)(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Object(k.a)(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Object(k.a)(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Object(k.a)(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Object(k.a)(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Object(k.a)(e,"unverified-email","The operation requires a verified email."),Object(k.a)(e,"user-cancelled","The user did not grant your application the permissions it requested."),Object(k.a)(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Object(k.a)(e,"user-disabled","The user account has been disabled by an administrator."),Object(k.a)(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Object(k.a)(e,"user-signed-out",""),Object(k.a)(e,"weak-password","The password must be 6 characters long or more."),Object(k.a)(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Object(k.a)(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},C=S,A=new w.b("auth","Firebase",S()),R=new _.b("@firebase/auth");function D(e){if(R.logLevel<=_.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];R.error.apply(R,["Auth (".concat(O.SDK_VERSION,"): ").concat(e)].concat(n))}}function P(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw U.apply(void 0,[e].concat(n))}function L(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return U.apply(void 0,[e].concat(n))}function M(e,t,n){var r=Object.assign(Object.assign({},C()),Object(k.a)({},t,n));return new w.b("auth","Firebase",r).create(t,{appName:e.name})}function F(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&P(e,"argument-error"),M(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function U(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var a,i=n[0],o=Object(g.a)(n.slice(1));return o[0]&&(o[0].appName=e.name),(a=e._errorFactory).create.apply(a,[i].concat(Object(g.a)(o)))}return A.create.apply(A,[e].concat(n))}function V(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];throw U.apply(void 0,[t].concat(r))}}function B(e){var t="INTERNAL ASSERTION FAILED: "+e;throw D(t),new Error(t)}function q(e,t){e||B(t)}var z=new Map;function K(e){q(e instanceof Function,"Expected a class definition");var t=z.get(e);return t?(q(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,z.set(e,t),t)}function H(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function W(){return"http:"===G()||"https:"===G()}function G(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Q=function(){function e(t,n){Object(c.a)(this,e),this.shortDelay=t,this.longDelay=n,q(n>t,"Short delay should be less than long delay!"),this.isMobile=Object(w.u)()||Object(w.w)()}return Object(l.a)(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(W()||Object(w.p)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Y(e,t){q(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var $=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void B("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void B("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void B("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),J=(x={},Object(k.a)(x,"CREDENTIAL_MISMATCH","custom-token-mismatch"),Object(k.a)(x,"MISSING_CUSTOM_TOKEN","internal-error"),Object(k.a)(x,"INVALID_IDENTIFIER","invalid-email"),Object(k.a)(x,"MISSING_CONTINUE_URI","internal-error"),Object(k.a)(x,"INVALID_PASSWORD","wrong-password"),Object(k.a)(x,"MISSING_PASSWORD","internal-error"),Object(k.a)(x,"EMAIL_EXISTS","email-already-in-use"),Object(k.a)(x,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Object(k.a)(x,"INVALID_IDP_RESPONSE","invalid-credential"),Object(k.a)(x,"INVALID_PENDING_TOKEN","invalid-credential"),Object(k.a)(x,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Object(k.a)(x,"MISSING_REQ_TYPE","internal-error"),Object(k.a)(x,"EMAIL_NOT_FOUND","user-not-found"),Object(k.a)(x,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Object(k.a)(x,"EXPIRED_OOB_CODE","expired-action-code"),Object(k.a)(x,"INVALID_OOB_CODE","invalid-action-code"),Object(k.a)(x,"MISSING_OOB_CODE","internal-error"),Object(k.a)(x,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Object(k.a)(x,"INVALID_ID_TOKEN","invalid-user-token"),Object(k.a)(x,"TOKEN_EXPIRED","user-token-expired"),Object(k.a)(x,"USER_NOT_FOUND","user-token-expired"),Object(k.a)(x,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Object(k.a)(x,"INVALID_CODE","invalid-verification-code"),Object(k.a)(x,"INVALID_SESSION_INFO","invalid-verification-id"),Object(k.a)(x,"INVALID_TEMPORARY_PROOF","invalid-credential"),Object(k.a)(x,"MISSING_SESSION_INFO","missing-verification-id"),Object(k.a)(x,"SESSION_EXPIRED","code-expired"),Object(k.a)(x,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Object(k.a)(x,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Object(k.a)(x,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Object(k.a)(x,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Object(k.a)(x,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Object(k.a)(x,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Object(k.a)(x,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Object(k.a)(x,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Object(k.a)(x,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Object(k.a)(x,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Object(k.a)(x,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),x),X=new Q(3e4,6e4);function Z(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function ee(e,t,n,r){return te.apply(this,arguments)}function te(){return(te=Object(v.a)(s.a.mark((function e(t,n,r,a){var i,o=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ne(t,i,(function(){var e={},i={};a&&("GET"===n?i=a:e={body:JSON.stringify(a)});var o=Object(w.z)(Object.assign({key:t.config.apiKey},i)).slice(1),u=new($.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),$.fetch()(oe(t,t.config.apiHost,r,o),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},e))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(e,t,n){return re.apply(this,arguments)}function re(){return(re=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o,u,c,l,f,h,d,p;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,a=Object.assign(Object.assign({},J),n),e.prev=2,i=new ue(t),e.next=6,Promise.race([r(),i.promise]);case 6:return o=e.sent,i.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw se(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=Object(b.a)(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw se(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw se(t,"email-already-in-use",u);case 25:if(p=a[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw M(t,p,d);case 30:P(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof w.c)){e.next=37;break}throw e.t0;case 37:P(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function ae(e,t,n,r){return ie.apply(this,arguments)}function ie(){return(ie=Object(v.a)(s.a.mark((function e(t,n,r,a){var i,o,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,ee(t,n,r,a,i);case 3:return"mfaPendingCredential"in(o=e.sent)&&P(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oe(e,t,n,r){var a="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Y(e.config,a):"".concat(e.config.apiScheme,"://").concat(a)}var ue=function(){function e(t){var n=this;Object(c.a)(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(L(n.auth,"timeout"))}),X.get())}))}return Object(l.a)(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function se(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var a=L(e,t,r);return a.customData._tokenResponse=n,a}function ce(e,t){return le.apply(this,arguments)}function le(){return(le=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e,t){return pe.apply(this,arguments)}function pe(){return(pe=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ve(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function me(){return(me=Object(v.a)(s.a.mark((function e(t){var n,r,a,i,o,u,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=c.length>1&&void 0!==c[1]&&c[1],r=Object(w.m)(t),e.next=4,r.getIdToken(n);case 4:return a=e.sent,V((i=be(a))&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error"),o="object"===typeof i.firebase?i.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:i,token:a,authTime:ve(ye(i.auth_time)),issuedAtTime:ve(ye(i.iat)),expirationTime:ve(ye(i.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ye(e){return 1e3*Number(e)}function be(e){var t=e.split("."),n=Object(b.a)(t,3),r=n[0],a=n[1],i=n[2];if(void 0===r||void 0===a||void 0===i)return D("JWT malformed, contained fewer than 3 sections"),null;try{var o=Object(w.e)(a);return o?JSON.parse(o):(D("Failed to decode base64 JWT payload"),null)}catch(u){return D("Caught error parsing JWT payload as JSON",u),null}}function ge(e,t){return ke.apply(this,arguments)}function ke(){return(ke=Object(v.a)(s.a.mark((function e(t,n){var r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof w.c&&we(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function we(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Oe=function(){function e(t){Object(c.a)(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Object(l.a)(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Object(v.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),je=function(){function e(t,n){Object(c.a)(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Object(l.a)(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=ve(this.lastLoginAt),this.creationTime=ve(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function xe(e){return _e.apply(this,arguments)}function _e(){return(_e=Object(v.a)(s.a.mark((function e(t){var n,r,a,i,o,u,c,l,f,h,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,e.next=6,ge(t,de(r,{idToken:a}));case 6:V(null===(i=e.sent)||void 0===i?void 0:i.users.length,r,"internal-error"),o=i.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Te(o.providerUserInfo):[],c=Ie(t.providerData,u),l=t.isAnonymous,f=!(t.email&&o.passwordHash)&&!(null===c||void 0===c?void 0:c.length),h=!!l&&f,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new je(o.createdAt,o.lastLoginAt),isAnonymous:h},Object.assign(t,d);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ee(){return(Ee=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(w.m)(t),e.next=3,xe(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ie(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Object(g.a)(n),Object(g.a)(t))}function Te(e){return e.map((function(e){var t=e.providerId,n=j(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Se(e,t){return Ne.apply(this,arguments)}function Ne(){return(Ne=Object(v.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ne(t,{},(function(){var e=Object(w.z)({grant_type:"refresh_token",refresh_token:n}).slice(1),r=t.config,a=r.tokenApiHost,i=r.apiKey,o=oe(t,a,"/v1/token","key=".concat(i));return $.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:e})}));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ce=function(){function e(){Object(c.a)(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Object(l.a)(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){V(e.idToken,"internal-error"),V("undefined"!==typeof e.idToken,"internal-error"),V("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=be(e);return V(t,"internal-error"),V("undefined"!==typeof t.exp,"internal-error"),V("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],V(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se(t,n);case 2:r=e.sent,a=r.accessToken,i=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(a,i,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return B("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,a=n.accessToken,i=n.expirationTime,o=new e;return r&&(V("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),a&&(V("string"===typeof a,"internal-error",{appName:t}),o.accessToken=a),i&&(V("number"===typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}}]),e}();function Ae(e,t){V("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var Re=function(){function e(t){Object(c.a)(this,e);var n=t.uid,r=t.auth,a=t.stsTokenManager,i=j(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Oe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new je(i.createdAt||void 0,i.lastLoginAt||void 0)}return Object(l.a)(e,[{key:"getIdToken",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(V(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return me.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Ee.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(V(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){V(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r,a=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,xe(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ge(this,ce(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,a,i,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(a=n.email)&&void 0!==a?a:void 0,d=null!==(i=n.phoneNumber)&&void 0!==i?i:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,b=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,g=n.uid,k=n.emailVerified,w=n.isAnonymous,O=n.providerData,j=n.stsTokenManager;V(g&&j,t,"internal-error");var x=Ce.fromJSON(this.name,j);V("string"===typeof g,t,"internal-error"),Ae(f,t.name),Ae(h,t.name),V("boolean"===typeof k,t,"internal-error"),V("boolean"===typeof w,t,"internal-error"),Ae(d,t.name),Ae(p,t.name),Ae(v,t.name),Ae(m,t.name),Ae(y,t.name),Ae(b,t.name);var _=new e({uid:g,auth:t,email:h,emailVerified:k,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:x,createdAt:y,lastLoginAt:b});return O&&Array.isArray(O)&&(_.providerData=O.map((function(e){return Object.assign({},e)}))),m&&(_._redirectEventId=m),_}},{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(s.a.mark((function t(n,r){var a,i,o,u=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=u.length>2&&void 0!==u[2]&&u[2],(i=new Ce).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:i,isAnonymous:a}),t.next=6,xe(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),De=function(){function e(){Object(c.a)(this,e),this.type="NONE",this.storage={}}return Object(l.a)(e,[{key:"_isAvailable",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();De.type="NONE";var Pe=De;function Le(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Me=function(){function e(t,n,r){Object(c.a)(this,e),this.persistence=t,this.auth=n,this.userKey=r;var a=this.auth,i=a.config,o=a.name;this.fullUserKey=Le(this.userKey,i.apiKey,o),this.fullPersistenceKey=Le("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Object(l.a)(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?Re._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Object(v.a)(s.a.mark((function t(n,r){var a,i,o,u,c,l,f,h,d,p,m,b=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=b.length>2&&void 0!==b[2]?b[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(K(Pe),n,a));case 3:return t.next=5,Promise.all(r.map(function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:i=t.sent.filter((function(e){return e})),o=i[0]||K(Pe),u=Le(a,n.config.apiKey,n.name),c=null,l=Object(y.a)(r),t.prev=10,l.s();case 12:if((f=l.n()).done){t.next=29;break}return h=f.value,t.prev=14,t.next=17,h._get(u);case 17:if(!(d=t.sent)){t.next=23;break}return p=Re._fromJSON(n,d),h!==o&&(c=p),o=h,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),l.e(t.t1);case 34:return t.prev=34,l.f(),t.finish(34);case 37:if(m=i.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&m.length){t.next=40;break}return t.abrupt("return",new e(o,n,a));case 40:if(o=m[0],!c){t.next=44;break}return t.next=44,o._set(u,c.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,a));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function Fe(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(qe(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ue(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ke(t))return"Blackberry";if(He(t))return"Webos";if(Ve(t))return"Safari";if((t.includes("chrome/")||Be(t))&&!t.includes("edge/"))return"Chrome";if(ze(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Ue(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/firefox\//i.test(e)}function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/crios\//i.test(e)}function qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/iemobile/i.test(e)}function ze(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/android/i.test(e)}function Ke(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/blackberry/i.test(e)}function He(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/webos/i.test(e)}function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/iphone|ipad|ipod/i.test(e)}function Ge(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return We(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Qe(){return Object(w.s)()&&10===document.documentMode}function Ye(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return We(e)||ze(e)||He(e)||Ke(e)||/windows phone/i.test(e)||qe(e)}function $e(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fe(Object(w.n)());break;case"Worker":t="".concat(Fe(Object(w.n)()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(O.SDK_VERSION,"/").concat(r)}var Je=function(){function e(t,n){Object(c.a)(this,e),this.app=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ze(this),this.idTokenSubscription=new Ze(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=A,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}return Object(l.a)(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=K(t)),this._initializationPromise=this.queue(Object(v.a)(s.a.mark((function r(){var a,i;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Me.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(a=n._popupRedirectResolver)||void 0===a?void 0:a._shouldInitProactively)){r.next=10;break}return r.next=10,n._popupRedirectResolver._initialize(n);case 10:return r.next=12,n.initializeCurrentUser(t);case 12:if(n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,!n._deleted){r.next=15;break}return r.abrupt("return");case 15:n._isInitialized=!0;case 16:case"end":return r.stop()}}),r)})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return a=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,i=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,a&&a!==i||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return V(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Object(w.m)(t):null)&&V(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&V(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Object(v.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(K(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new w.b("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return V(n=t&&K(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Me.create(this,[K(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var a=this;if(this._deleted)return function(){};var i="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return V(o,this,"internal-error"),o.then((function(){return i(a.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return V(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$e(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getSdkClientVersion",value:function(){return this.clientVersion}}]),e}();function Xe(e){return Object(w.m)(e)}var Ze=function(){function e(t){var n=this;Object(c.a)(this,e),this.auth=t,this.observer=null,this.addObserver=Object(w.i)((function(e){return n.observer=e}))}return Object(l.a)(e,[{key:"next",get:function(){return V(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function et(e,t,n){var r=Xe(e);V(r._canInitEmulator,r,"emulator-config-failed"),V(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var a=!!(null===n||void 0===n?void 0:n.disableWarnings),i=tt(t),o=function(e){var t=tt(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){var i=a[1];return{host:i,port:nt(r.substr(i.length+1))}}var o=r.split(":"),u=Object(b.a)(o,2),s=u[0],c=u[1];return{host:s,port:nt(c)}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(i,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:a})}),a||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function tt(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function nt(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var rt=function(){function e(t,n){Object(c.a)(this,e),this.providerId=t,this.signInMethod=n}return Object(l.a)(e,[{key:"toJSON",value:function(){return B("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return B("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return B("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return B("not implemented")}}]),e}();function at(e,t){return it.apply(this,arguments)}function it(){return(it=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:resetPassword",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e,t){return ut.apply(this,arguments)}function ut(){return(ut=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(e,t){return ct.apply(this,arguments)}function ct(){return(ct=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e,t){return ft.apply(this,arguments)}function ft(){return(ft=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(t,"POST","/v1/accounts:signInWithPassword",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ht(e,t){return dt.apply(this,arguments)}function dt(){return(dt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendOobCode",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mt(e,t){return yt.apply(this,arguments)}function yt(){return(yt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e,t){return gt.apply(this,arguments)}function gt(){return(gt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kt(e,t){return wt.apply(this,arguments)}function wt(){return(wt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ht(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ot(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xt(e,t){return _t.apply(this,arguments)}function _t(){return(_t=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(t,"POST","/v1/accounts:signInWithEmailLink",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Et=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Object(c.a)(this,n),(i=t.call(this,"password",a))._email=e,i._password=r,i._tenantId=o,i}return Object(l.a)(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",lt(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Ot(t,{email:this._email,oobCode:this._password}));case 5:P(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",ot(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",xt(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:P(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(rt);function It(e,t){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(t,"POST","/v1/accounts:signInWithIdp",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Object(l.a)(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return It(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,It(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,It(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Object(w.z)(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):P("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,a=t.signInMethod,i=j(t,["providerId","signInMethod"]);if(!r||!a)return null;var o=new n(r,a);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}}]),n}(rt);function Nt(e,t){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:sendVerificationCode",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function At(){return(At=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rt(){return(Rt=Object(v.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw se(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dt=Object(k.a)({},"USER_NOT_FOUND","user-not-found");function Pt(){return(Pt=Object(v.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",ae(t,"POST","/v1/accounts:signInWithPhoneNumber",Z(t,r),Dt));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Lt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return At.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Rt.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Pt.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,a=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:a}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,a=t.verificationCode,i=t.phoneNumber,o=t.temporaryProof;return a||r||i||o?new n({verificationId:r,verificationCode:a,phoneNumber:i,temporaryProof:o}):null}}]),n}(rt);var Mt=function(){function e(t){var n,r,a,i,o,u;Object(c.a)(this,e);var s=Object(w.A)(Object(w.l)(t)),l=null!==(n=s.apiKey)&&void 0!==n?n:null,f=null!==(r=s.oobCode)&&void 0!==r?r:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(a=s.mode)&&void 0!==a?a:null);V(l&&f&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=f,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Object(l.a)(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Object(w.A)(Object(w.l)(e)).link,n=t?Object(w.A)(Object(w.l)(t)).deep_link_id:null,r=Object(w.A)(Object(w.l)(e)).deep_link_id;return(r?Object(w.A)(Object(w.l)(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(r){return null}}}]),e}();var Ft=function(){function e(){Object(c.a)(this,e),this.providerId=e.PROVIDER_ID}return Object(l.a)(e,null,[{key:"credential",value:function(e,t){return Et._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Mt.parseLink(t);return V(n,"argument-error"),Et._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Ft.PROVIDER_ID="password",Ft.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Ft.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Ut=function(){function e(t){Object(c.a)(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Object(l.a)(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Vt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Object(l.a)(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Object(g.a)(this.scopes)}}]),n}(Ut),Bt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return V(e.idToken||e.accessToken,"argument-error"),St._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return V("providerId"in t&&"signInMethod"in t,"argument-error"),St._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,a=t.oauthAccessToken,i=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!a&&!i&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:a,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Vt),qt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"facebook.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e){return St._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Vt);qt.FACEBOOK_SIGN_IN_METHOD="facebook.com",qt.PROVIDER_ID="facebook.com";var zt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Object(l.a)(n,null,[{key:"credential",value:function(e,t){return St._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,a=t.oauthAccessToken;if(!r&&!a)return null;try{return n.credential(r,a)}catch(i){return null}}}]),n}(Vt);zt.GOOGLE_SIGN_IN_METHOD="google.com",zt.PROVIDER_ID="google.com";var Kt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"github.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e){return St._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(r){return null}}}]),n}(Vt);Kt.GITHUB_SIGN_IN_METHOD="github.com",Kt.PROVIDER_ID="github.com";var Ht=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this,e,e)).pendingToken=r,a}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return It(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,It(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,It(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,a=t.signInMethod,i=t.pendingToken;return r&&a&&i&&r===a?new n(r,i):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(rt),Wt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){return Object(c.a)(this,n),V(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Object(l.a)(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Ht.fromJSON(e);return V(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Ht._create(r,n)}catch(a){return null}}}]),n}(Ut),Gt=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,"twitter.com")}return Object(l.a)(n,null,[{key:"credential",value:function(e,t){return St._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,a=t.oauthTokenSecret;if(!r||!a)return null;try{return n.credential(r,a)}catch(i){return null}}}]),n}(Vt);function Qt(e,t){return Yt.apply(this,arguments)}function Yt(){return(Yt=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(t,"POST","/v1/accounts:signUp",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Gt.TWITTER_SIGN_IN_METHOD="twitter.com",Gt.PROVIDER_ID="twitter.com";var $t=function(){function e(t){Object(c.a)(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Object(l.a)(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Object(v.a)(s.a.mark((function t(n,r,a){var i,o,u,c,l=arguments;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=l.length>3&&void 0!==l[3]&&l[3],t.next=3,Re._fromIdTokenResponse(n,a,i);case 3:return o=t.sent,u=Jt(a),c=new e({user:o,providerId:u,_tokenResponse:a,operationType:r}),t.abrupt("return",c);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Object(v.a)(s.a.mark((function t(n,r,a){var i;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(a,!0);case 2:return i=Jt(a),t.abrupt("return",new e({user:n,providerId:i,_tokenResponse:a,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Jt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Xt(e){return Zt.apply(this,arguments)}function Zt(){return(Zt=Object(v.a)(s.a.mark((function e(t){var n,r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new $t({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Qt(r,{returnSecureToken:!0});case 7:return a=e.sent,e.next=10,$t._fromIdTokenResponse(r,"signIn",a,!0);case 10:return i=e.sent,e.next=13,r._updateCurrentUser(i.user);case 13:return e.abrupt("return",i);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var en=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,a,i){var o,u;return Object(c.a)(this,n),(o=t.call(this,r.code,r.message)).operationType=a,o.user=i,Object.setPrototypeOf(Object(m.a)(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:a},o}return Object(l.a)(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,a){return new n(e,t,r,a)}}]),n}(w.c);function tn(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw en._fromErrorAndOperation(e,n,t,r);throw n}))}function nn(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function rn(e,t){return an.apply(this,arguments)}function an(){return(an=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.m)(t),e.next=3,sn(!0,r,n);case 3:return e.t0=fe,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return a=e.sent,i=a.providerUserInfo,o=nn(i||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function on(e,t){return un.apply(this,arguments)}function un(){return(un=Object(v.a)(s.a.mark((function e(t,n){var r,a,i=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>2&&void 0!==i[2]&&i[2],e.t0=ge,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return a=e.sent,e.abrupt("return",$t._forOperation(t,"link",a));case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function sn(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe(n);case 2:a=nn(n.providerData),i=!1===t?"provider-already-linked":"no-such-provider",V(a.has(r)===t,n.auth,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t){return fn.apply(this,arguments)}function fn(){return(fn=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o,u,c,l=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=l.length>2&&void 0!==l[2]&&l[2],a=t.auth,i="reauthenticate",e.prev=3,e.next=6,ge(t,tn(a,i,n,t),r);case 6:return V((o=e.sent).idToken,a,"internal-error"),V(u=be(o.idToken),a,"internal-error"),c=u.sub,V(t.uid===c,a,"user-mismatch"),e.abrupt("return",$t._forOperation(t,i,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&P(a,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])})))).apply(this,arguments)}function hn(e,t){return dn.apply(this,arguments)}function dn(){return(dn=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o,u=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],a="signIn",e.next=4,tn(t,a,n);case 4:return i=e.sent,e.next=7,$t._fromIdTokenResponse(t,a,i);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pn(e,t){return vn.apply(this,arguments)}function vn(){return(vn=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",hn(Xe(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mn(e,t){return yn.apply(this,arguments)}function yn(){return(yn=Object(v.a)(s.a.mark((function e(t,n){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.m)(t),e.next=3,sn(!1,r,n.providerId);case 3:return e.abrupt("return",on(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t){return gn.apply(this,arguments)}function gn(){return(gn=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ln(Object(w.m)(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kn(e,t){return wn.apply(this,arguments)}function wn(){return(wn=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ae(t,"POST","/v1/accounts:signInWithCustomToken",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function On(e,t){return jn.apply(this,arguments)}function jn(){return(jn=Object(v.a)(s.a.mark((function e(t,n){var r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Xe(t),e.next=3,kn(r,{token:n,returnSecureToken:!0});case 3:return a=e.sent,e.next=6,$t._fromIdTokenResponse(r,"signIn",a);case 6:return i=e.sent,e.next=9,r._updateCurrentUser(i.user);case 9:return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var xn=function(){function e(t,n){Object(c.a)(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Object(l.a)(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?_n._fromServerResponse(e,t):P(e,"internal-error")}}]),e}(),_n=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Object(l.a)(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(xn);function En(e,t,n){var r;V((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),V("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(V(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(V(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function In(e,t,n){return Tn.apply(this,arguments)}function Tn(){return(Tn=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.m)(t),i={requestType:"PASSWORD_RESET",email:n},r&&En(a,i,r),e.next=5,mt(a,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e,t,n){return Nn.apply(this,arguments)}function Nn(){return(Nn=Object(v.a)(s.a.mark((function e(t,n,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,at(Object(w.m)(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Cn(e,t){return An.apply(this,arguments)}function An(){return(An=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,st(Object(w.m)(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.m)(t),e.next=3,at(r,{oobCode:n});case 3:a=e.sent,V(i=a.requestType,r,"internal-error"),e.t0=i,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return V(a.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:V(a.mfaInfo,r,"internal-error");case 13:V(a.email,r,"internal-error");case 14:return o=null,a.mfaInfo&&(o=xn._fromServerResponse(Xe(r),a.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.newEmail:a.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===a.requestType?a.email:a.newEmail)||null,multiFactorInfo:o},operation:i});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pn(e,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=Object(v.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rn(Object(w.m)(t),n);case 2:return r=e.sent,a=r.data,e.abrupt("return",a.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mn(e,t,n){return Fn.apply(this,arguments)}function Fn(){return(Fn=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xe(t),e.next=3,Qt(a,{returnSecureToken:!0,email:n,password:r});case 3:return i=e.sent,e.next=6,$t._fromIdTokenResponse(a,"signIn",i);case 6:return o=e.sent,e.next=9,a._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e,t,n){return pn(Object(w.m)(e),Ft.credential(t,n))}function Vn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.m)(t),i={requestType:"EMAIL_SIGNIN",email:n},V(r.handleCodeInApp,a,"argument-error"),r&&En(a,i,r),e.next=6,bt(a,i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qn(e,t){var n=Mt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}function zn(e,t,n){return Kn.apply(this,arguments)}function Kn(){return(Kn=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.m)(t),V((i=Ft.credentialWithLink(n,r||H()))._tenantId===(a.tenantId||null),a,"tenant-id-mismatch"),e.abrupt("return",pn(a,i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hn(e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:createAuthUri",Z(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(e,t){return Qn.apply(this,arguments)}function Qn(){return(Qn=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=W()?H():"http://localhost",a={identifier:n,continueUri:r},e.next=4,Hn(Object(w.m)(t),a);case 4:return i=e.sent,o=i.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yn(e,t){return $n.apply(this,arguments)}function $n(){return($n=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(w.m)(t),e.next=3,t.getIdToken();case 3:return a=e.sent,i={requestType:"VERIFY_EMAIL",idToken:a},n&&En(r.auth,i,n),e.next=8,pt(r.auth,i);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Jn(e,t,n){return Xn.apply(this,arguments)}function Xn(){return(Xn=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.m)(t),e.next=3,t.getIdToken();case 3:return i=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:i,newEmail:n},r&&En(a.auth,o,r),e.next=8,kt(a.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Zn(e,t){return er.apply(this,arguments)}function er(){return(er=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ee(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function tr(e,t){return nr.apply(this,arguments)}function nr(){return(nr=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o,u,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,a=n.photoURL,void 0!==r||void 0!==a){e.next=3;break}return e.abrupt("return");case 3:return i=Object(w.m)(t),e.next=6,i.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:a,returnSecureToken:!0},e.next=10,ge(i,Zn(i.auth,u));case 10:return c=e.sent,i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null,(l=i.providerData.find((function(e){return"password"===e.providerId})))&&(l.displayName=i.displayName,l.photoURL=i.photoURL),e.next=17,i._updateTokensIfNecessary(c);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rr(e,t){return ir(Object(w.m)(e),t,null)}function ar(e,t){return ir(Object(w.m)(e),null,t)}function ir(e,t,n){return or.apply(this,arguments)}function or(){return(or=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,o={idToken:i,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ge(t,ot(a,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ur=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(c.a)(this,e),this.isNewUser=t,this.providerId=n,this.profile=r},sr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,a,i){var o;return Object(c.a)(this,n),(o=t.call(this,e,r,a)).username=i,o}return n}(ur),cr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"facebook.com",r)}return n}(ur),lr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return n}(sr),fr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){return Object(c.a)(this,n),t.call(this,e,"google.com",r)}return n}(ur),hr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,a){return Object(c.a)(this,n),t.call(this,e,"twitter.com",r,a)}return n}(sr);function dr(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,a=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},i=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=be(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new ur(i,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new cr(i,a);case"github.com":return new lr(i,a);case"google.com":return new fr(i,a);case"twitter.com":return new hr(i,a,e.screenName||null);case"custom":case"anonymous":return new ur(i,null);default:return new ur(i,r,a)}}(n)}var pr=function(){function e(t,n){Object(c.a)(this,e),this.type=t,this.credential=n}return Object(l.a)(e,[{key:"toJSON",value:function(){var e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:Object(k.a)({},e,this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),vr=function(){function e(t,n,r){Object(c.a)(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Object(l.a)(e,[{key:"resolveSignIn",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Xe(t),a=n.customData._serverResponse,i=(a.mfaInfo||[]).map((function(e){return xn._fromServerResponse(r,e)}));V(a.mfaPendingCredential,r,"internal-error");var o=pr._fromMfaPendingCredential(a.mfaPendingCredential);return new e(o,i,function(){var e=Object(v.a)(s.a.mark((function e(t){var i,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:i=e.sent,delete a.mfaInfo,delete a.mfaPendingCredential,u=Object.assign(Object.assign({},a),{idToken:i.idToken,refreshToken:i.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,$t._fromIdTokenResponse(r,n.operationType,u);case 11:return c=e.sent,e.next=14,r._updateCurrentUser(c.user);case 14:return e.abrupt("return",c);case 15:return V(n.user,r,"internal-error"),e.abrupt("return",$t._forOperation(n.user,n.operationType,u));case 17:P(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function mr(e,t){var n,r=Object(w.m)(e),a=t;return V(t.customData.operationType,r,"argument-error"),V(null===(n=a.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),vr._fromError(r,a)}function yr(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:start",Z(e,t))}var br=function(){function e(t){var n=this;Object(c.a)(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return xn._fromServerResponse(t.auth,e)})))}))}return Object(l.a)(e,[{key:"getSession",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=pr,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n){var r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return a=e.sent,e.next=6,ge(this.user,r._process(this.user.auth,a,n));case 6:return i=e.sent,e.next=9,this.user._updateTokensIfNecessary(i);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ge(this.user,ee(i=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",Z(i,{idToken:r,mfaEnrollmentId:n})));case 6:return a=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(a);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var i}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),gr=new WeakMap;function kr(e){var t=Object(w.m)(e);return gr.has(t)||gr.set(t,br._fromUser(t)),gr.get(t)}var wr=function(){function e(t,n){Object(c.a)(this,e),this.storageRetriever=t,this.type=n}return Object(l.a)(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var Or=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Object(w.n)();return Ve(e)||We(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Ye(),e._shouldAllowMigration=!0,e}return Object(l.a)(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],a=this.storage.getItem(r),i=this.localCache[r];a!==i&&e(r,i,a)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var a=this.storage.getItem(r);if(e.newValue!==a)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var i=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Qe()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,10):i()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Object(v.a)(s.a.mark((function e(t,r){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)(Object(h.a)(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(wr);Or.type="LOCAL";var jr=Or,xr=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){return Object(c.a)(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Object(l.a)(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(wr);xr.type="SESSION";var _r=xr;function Er(e){return Promise.all(e.map(function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Ir=function(){function e(t){Object(c.a)(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Object(l.a)(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r,a,i,o,u,c,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,a=r.eventId,i=r.eventType,o=r.data,null===(u=this.handlersMap[i])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:a,eventType:i}),c=Array.from(u).map(function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Er(c);case 9:l=e.sent,n.ports[0].postMessage({status:"done",eventId:a,eventType:i,response:l});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Tr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ir.receivers=[];var Sr=function(){function e(t){Object(c.a)(this,e),this.target=t,this.handlers=new Set}return Object(l.a)(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o,u=this,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=c.length>2&&void 0!==c[2]?c[2]:50,a="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Tr("",20);a.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:a,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),i=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),e(n.data.response);break;default:clearTimeout(l),clearTimeout(i),s(new Error("invalid_response"))}}},u.handlers.add(o),a.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[a.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Nr(){return window}function Cr(){return"undefined"!==typeof Nr().WorkerGlobalScope&&"function"===typeof Nr().importScripts}function Ar(){return Rr.apply(this,arguments)}function Rr(){return(Rr=Object(v.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function Dr(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Pr="firebaseLocalStorageDb",Lr=function(){function e(t){Object(c.a)(this,e),this.request=t}return Object(l.a)(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Mr(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly").objectStore("firebaseLocalStorage")}function Fr(){var e=indexedDB.deleteDatabase(Pr);return new Lr(e).toPromise()}function Ur(){var e=indexedDB.open(Pr,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(r){n(r)}})),e.addEventListener("success",Object(v.a)(s.a.mark((function n(){var r;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains("firebaseLocalStorage")){n.next=12;break}return r.close(),n.next=5,Fr();case 5:return n.t0=t,n.next=8,Ur();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Vr(e,t,n){return Br.apply(this,arguments)}function Br(){return(Br=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mr(t,!0).put((a={},Object(k.a)(a,"fbase_key",n),Object(k.a)(a,"value",r),a)),e.abrupt("return",new Lr(i).toPromise());case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qr(e,t){return zr.apply(this,arguments)}function zr(){return(zr=Object(v.a)(s.a.mark((function e(t,n){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mr(t,!1).get(n),e.next=3,new Lr(r).toPromise();case 3:return a=e.sent,e.abrupt("return",void 0===a?null:a.value);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kr(e,t){var n=Mr(e,!0).delete(t);return new Lr(n).toPromise()}var Hr=function(){function e(){Object(c.a)(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Object(l.a)(e,[{key:"_openDb",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ur();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cr()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Ir._getInstance(Cr()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Object(v.a)(s.a.mark((function e(n,r){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return a=e.sent,e.abrupt("return",{keyProcessed:a.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ar();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Sr(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&Dr()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ur();case 5:return t=e.sent,e.next=8,Vr(t,"__sak","1");case 8:return e.next=10,Kr(t,"__sak");case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n){var r=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Vr(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return qr(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Kr(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t,n,r,a,i,o,u,c,l,f,h;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Mr(e,!1).getAll();return new Lr(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,a=Object(y.a)(t);try{for(a.s();!(i=a.n()).done;)o=i.value,u=o.fbase_key,c=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(c)&&(this.notifyListeners(u,c),n.push(u))}catch(s){a.e(s)}finally{a.f()}for(l=0,f=Object.keys(this.localCache);l<f.length;l++)h=f[l],this.localCache[h]&&!r.has(h)&&(this.notifyListeners(h,null),n.push(h));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,a=Array.from(n);r<a.length;r++){(0,a[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Object(v.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Hr.type="LOCAL";var Wr=Hr;function Gr(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:start",Z(e,t))}function Qr(e){return Yr.apply(this,arguments)}function Yr(){return(Yr=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $r(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=L("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Jr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var Xr=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.counter=1e12,this._widgets=new Map}return Object(l.a)(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Zr(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||1e12;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||1e12;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||1e12,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Zr=function(){function e(t,n,r){var a=this;Object(c.a)(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){a.execute()};var i="string"===typeof t?document.getElementById(t):t;V(i,"argument-error",{appName:n}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Object(l.a)(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(a){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(a){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var ea=Jr("rcb"),ta=new Q(3e4,6e4),na=function(){function e(){Object(c.a)(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Nr().grecaptcha}return Object(l.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return V(ra(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Nr().grecaptcha):new Promise((function(r,a){var i=Nr().setTimeout((function(){a(L(e,"network-request-failed"))}),ta.get());Nr()[ea]=function(){Nr().clearTimeout(i),delete Nr()[ea];var o=Nr().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else a(L(e,"internal-error"))},$r("".concat("https://www.google.com/recaptcha/api.js?","?").concat(Object(w.z)({onload:ea,render:"explicit",hl:n}))).catch((function(){clearTimeout(i),a(L(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Nr().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function ra(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var aa=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,[{key:"load",value:function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Xr(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),ia={theme:"light",type:"image"},oa=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},ia),r=arguments.length>2?arguments[2]:void 0;Object(c.a)(this,e),this.parameters=n,this.type="recaptcha",this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Xe(r),this.isInvisible="invisible"===this.parameters.size,V("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var a="string"===typeof t?document.getElementById(t):t;V(a,this.auth,"argument-error"),this.container=a,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new aa:new na,this.validateStartingState()}return Object(l.a)(e,[{key:"verify",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t,n,r,a=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){a.tokenChangeListeners.add((function t(n){n&&(a.tokenChangeListeners.delete(t),e(n))})),a.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){V(!this.parameters.sitekey,this.auth,"argument-error"),V(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),V("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Nr()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){V(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(W()&&!Cr(),this.auth,"internal-error"),e.next=3,ua();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Qr(this.auth);case 8:V(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return V(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function ua(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var sa=function(){function e(t,n){Object(c.a)(this,e),this.verificationId=t,this.onConfirmation=n}return Object(l.a)(e,[{key:"confirm",value:function(e){var t=Lt._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function ca(e,t,n){return la.apply(this,arguments)}function la(){return(la=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xe(t),e.next=3,va(a,n,Object(w.m)(r));case 3:return i=e.sent,e.abrupt("return",new sa(i,(function(e){return pn(a,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fa(e,t,n){return ha.apply(this,arguments)}function ha(){return(ha=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.m)(t),e.next=3,sn(!1,a,"phone");case 3:return e.next=5,va(a.auth,n,Object(w.m)(r));case 5:return i=e.sent,e.abrupt("return",new sa(i,(function(e){return mn(a,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function da(e,t,n){return pa.apply(this,arguments)}function pa(){return(pa=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Object(w.m)(t),e.next=3,va(a.auth,n,Object(w.m)(r));case 3:return i=e.sent,e.abrupt("return",new sa(i,(function(e){return bn(a,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function va(e,t,n){return ma.apply(this,arguments)}function ma(){return(ma=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o,u,c,l,f,h,d;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(i=e.sent,e.prev=3,V("string"===typeof i,t,"argument-error"),V("recaptcha"===r.type,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return V("enroll"===u.type,t,"internal-error"),e.next=13,yr(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});case 13:return c=e.sent,e.abrupt("return",c.phoneSessionInfo.sessionInfo);case 17:return V("signin"===u.type,t,"internal-error"),V(l=(null===(a=o.multiFactorHint)||void 0===a?void 0:a.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,Gr(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:l,phoneSignInInfo:{recaptchaToken:i}});case 22:return f=e.sent,e.abrupt("return",f.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Nt(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});case 28:return h=e.sent,d=h.sessionInfo,e.abrupt("return",d);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])})))).apply(this,arguments)}function ya(e,t){return ba.apply(this,arguments)}function ba(){return(ba=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,on(Object(w.m)(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ga=function(){function e(t){Object(c.a)(this,e),this.providerId=e.PROVIDER_ID,this.auth=Xe(t)}return Object(l.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return va(this.auth,e,Object(w.m)(t))}}],[{key:"credential",value:function(e,t){return Lt._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?Lt._fromTokenResponse(n,r):null}}]),e}();function ka(e,t){return t?K(t):(V(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ga.PROVIDER_ID="phone",ga.PHONE_SIGN_IN_METHOD="phone";var wa=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Object(l.a)(n,[{key:"_getIdTokenResponse",value:function(e){return It(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return It(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return It(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(rt);function Oa(e){return hn(e.auth,new wa(e),e.bypassAuthState)}function ja(e){var t=e.auth,n=e.user;return V(n,t,"internal-error"),ln(n,new wa(e),e.bypassAuthState)}function xa(e){return _a.apply(this,arguments)}function _a(){return(_a=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,V(r=t.user,n,"internal-error"),e.abrupt("return",on(r,new wa(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ea=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Object(c.a)(this,e),this.auth=t,this.resolver=r,this.user=a,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Object(l.a)(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Object(v.a)(s.a.mark((function t(n,r){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r,a,i,o,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,a=t.postBody,i=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(c);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Oa;case"linkViaPopup":case"linkViaRedirect":return xa;case"reauthViaPopup":case"reauthViaRedirect":return ja;default:P(this.auth,"internal-error")}}},{key:"resolve",value:function(e){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){q(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Ia=new Q(2e3,1e4);function Ta(e,t,n){return Sa.apply(this,arguments)}function Sa(){return(Sa=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xe(t),F(t,n,Ut),i=ka(a,r),o=new Da(a,"signInViaPopup",n,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Na(e,t,n){return Ca.apply(this,arguments)}function Ca(){return(Ca=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((a=Object(w.m)(t)).auth,n,Ut),i=ka(a.auth,r),o=new Da(a.auth,"reauthViaPopup",n,i,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Aa(e,t,n){return Ra.apply(this,arguments)}function Ra(){return(Ra=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((a=Object(w.m)(t)).auth,n,Ut),i=ka(a.auth,r),o=new Da(a.auth,"linkViaPopup",n,i,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Da=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r,a,i,o){var u;return Object(c.a)(this,n),(u=t.call(this,e,r,i,o)).provider=a,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Object(m.a)(u),u}return Object(l.a)(n,[{key:"executeNotNull",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return V(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t,n=this;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(1===this.filter.length,"Popup operations only handle one event"),t=Tr(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(L(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(L(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(L(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Ia.get())}()}}]),n}(Ea);Da.currentPopupAction=null;var Pa=new Map,La=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(c.a)(this,n),(a=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,i)).eventId=null,a}return Object(l.a)(n,[{key:"execute",value:function(){var e=Object(v.a)(s.a.mark((function e(){var t,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Pa.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Ma(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Object(f.a)(Object(h.a)(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Pa.set(this.auth._key(),t);case 21:return this.bypassAuthState||Pa.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Object(f.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Object(f.a)(Object(h.a)(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Ea);function Ma(e,t){return Fa.apply(this,arguments)}function Fa(){return(Fa=Object(v.a)(s.a.mark((function e(t,n){var r,a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=qa(n),a=Ba(t),e.next=4,a._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,a._get(r);case 8:return e.t0=e.sent,i="true"===e.t0,e.next=12,a._remove(r);case 12:return e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ua(e,t){return Va.apply(this,arguments)}function Va(){return(Va=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ba(t)._set(qa(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ba(e){return K(e._redirectPersistence)}function qa(e){return Le("pendingRedirect",e.config.apiKey,e.name)}function za(e,t,n){return function(e,t,n){return Ka.apply(this,arguments)}(e,t,n)}function Ka(){return(Ka=Object(v.a)(s.a.mark((function e(t,n,r){var a,i;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Xe(t),F(t,n,Ut),i=ka(a,r),e.next=5,Ua(i,a);case 5:return e.abrupt("return",i._openRedirect(a,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ha(e,t,n){return function(e,t,n){return Wa.apply(this,arguments)}(e,t,n)}function Wa(){return(Wa=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((a=Object(w.m)(t)).auth,n,Ut),i=ka(a.auth,r),e.next=5,Ua(i,a.auth);case 5:return e.next=7,Za(a);case 7:return o=e.sent,e.abrupt("return",i._openRedirect(a.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ga(e,t,n){return function(e,t,n){return Qa.apply(this,arguments)}(e,t,n)}function Qa(){return(Qa=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return F((a=Object(w.m)(t)).auth,n,Ut),i=ka(a.auth,r),e.next=5,sn(!1,a,n.providerId);case 5:return e.next=7,Ua(i,a.auth);case 7:return e.next=9,Za(a);case 9:return o=e.sent,e.abrupt("return",i._openRedirect(a.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ya(e,t){return $a.apply(this,arguments)}function $a(){return($a=Object(v.a)(s.a.mark((function e(t,n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xe(t)._initializationPromise;case 2:return e.abrupt("return",Ja(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t){return Xa.apply(this,arguments)}function Xa(){return(Xa=Object(v.a)(s.a.mark((function e(t,n){var r,a,i,o,u,c=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],a=Xe(t),i=ka(a,n),o=new La(a,i,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,a._persistUserIfCurrent(u.user);case 11:return e.next=13,a._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Za(e){return ei.apply(this,arguments)}function ei(){return(ei=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Tr("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ti=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Object(l.a)(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ri(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!ri(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(L(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ni(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(ni(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function ni(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function ri(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function ai(e){return ii.apply(this,arguments)}function ii(){return(ii=Object(v.a)(s.a.mark((function e(t){var n,r=arguments;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",ee(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ui=/^https?/;function si(){return(si=Object(v.a)(s.a.mark((function e(t){var n,r,a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ai(t);case 4:n=e.sent,r=n.authorizedDomains,a=Object(y.a)(r),e.prev=7,a.s();case 9:if((i=a.n()).done){e.next=20;break}if(o=i.value,e.prev=11,!ci(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),a.e(e.t1);case 25:return e.prev=25,a.f(),e.finish(25);case 28:P(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ci(e){var t=H(),n=new URL(t),r=n.protocol,a=n.hostname;if(e.startsWith("chrome-extension://")){var i=new URL(e);return""===i.hostname&&""===a?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&i.hostname===a}if(!ui.test(r))return!1;if(oi.test(e))return a===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}var li=new Q(3e4,6e4);function fi(){var e=Nr().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Object(g.a)(e.H[r].L),e.CP)for(var a=0;a<e.CP.length;a++)e.CP[a]=null}}var hi=null;function di(e){return hi=hi||function(e){return new Promise((function(t,n){var r,a,i;function o(){fi(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){fi(),n(L(e,"network-request-failed"))},timeout:li.get()})}if(null===(a=null===(r=Nr().gapi)||void 0===r?void 0:r.iframes)||void 0===a?void 0:a.Iframe)t(gapi.iframes.getContext());else{if(!(null===(i=Nr().gapi)||void 0===i?void 0:i.load)){var u=Jr("iframefcb");return Nr()[u]=function(){gapi.load?o():n(L(e,"network-request-failed"))},$r("https://apis.google.com/js/api.js?onload=".concat(u))}o()}})).catch((function(e){throw hi=null,e}))}(e)}var pi=new Q(5e3,15e3),vi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yi(e){var t=e.config;V(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Y(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:O.SDK_VERSION},a=mi.get(e.config.apiHost);a&&(r.eid=a);var i=e._getFrameworks();return i.length&&(r.fw=i.join(",")),"".concat(n,"?").concat(Object(w.z)(r).slice(1))}function bi(e){return gi.apply(this,arguments)}function gi(){return(gi=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,di(t);case 2:return n=e.sent,V(r=Nr().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:yi(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vi,dontclear:!0},(function(e){return new Promise(function(){var n=Object(v.a)(s.a.mark((function n(r,a){var i,o,u;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Nr().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:i=L(t,"network-request-failed"),o=Nr().setTimeout((function(){a(i)}),pi.get()),e.ping(u).then(u,(function(){a(i)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ki={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wi=function(){function e(t){Object(c.a)(this,e),this.window=t,this.associatedEvent=null}return Object(l.a)(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Oi(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,i=Math.max((window.screen.availHeight-a)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},ki),{width:r.toString(),height:a.toString(),top:i,left:o}),c=Object(w.n)().toLowerCase();n&&(u=Be(c)?"_blank":n),Ue(c)&&(t=t||"http://localhost",s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Object(b.a)(t,2),r=n[0],a=n[1];return"".concat(e).concat(r,"=").concat(a,",")}),"");if(Ge(c)&&"_self"!==u)return ji(t||"",u),new wi(null);var f=window.open(t||"",u,l);V(f,e,"popup-blocked");try{f.focus()}catch(h){}return new wi(f)}function ji(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}function xi(e,t,n,r,a,i){V(e.config.authDomain,e,"auth-domain-config-required"),V(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:O.SDK_VERSION,eventId:a};if(t instanceof Ut){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",Object(w.r)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(i||{});u<s.length;u++){var c=Object(b.a)(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Vt){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat("__/auth/handler");return Y(t,"emulator/auth/handler")}(e),"?").concat(Object(w.z)(d).slice(1))}var _i=function(){function e(){Object(c.a)(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_r,this._completeRedirectFn=Ja}return Object(l.a)(e,[{key:"_openPopup",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n,r,a){var i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),o=xi(t,n,r,H(),a),e.abrupt("return",Oi(t,o,Tr()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n,r,a){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return i=xi(t,n,r,H(),a),Nr().location.href=i,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var i}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=e._key();if(this.eventManagers[t]){var n=this.eventManagers[t],r=n.manager,a=n.promise;return r?Promise.resolve(r):(q(a,"If manager is not set, promise should be"),a)}var i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i}},{key:"initAndGetManager",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bi(t);case 2:return n=e.sent,r=new ti(t),n.register("authEvent",(function(e){return V(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send("webStorageSupport",{type:"webStorageSupport"},(function(n){var r,a=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==a&&t(!!a),P(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return si.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Ye()||Ve()||We()}}]),e}(),Ei=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,"phone")).credential=e,r}return Object(l.a)(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return ee(e,"POST","/v2/accounts/mfaEnrollment:finalize",Z(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return ee(e,"POST","/v2/accounts/mfaSignIn:finalize",Z(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Object(c.a)(this,e),this.factorId=t}return Object(l.a)(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return B("unexpected MultiFactorSessionType")}}}]),e}()),Ii=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"assertion",value:function(e){return Ei._fromCredential(e)}}]),e}();Ii.FACTOR_ID="phone";var Ti,Si=function(){function e(t){Object(c.a)(this,e),this.auth=t,this.internalListeners=new Map}return Object(l.a)(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){V(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Ni(){return window}Ti="Browser",Object(O._registerComponent)(new E.a("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),a=r.options,i=a.apiKey,o=a.authDomain;return function(e){V(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),V(!(null===o||void 0===o?void 0:o.includes(":")),"argument-error",{appName:e.name});var t={apiKey:i,authDomain:o,clientPlatform:Ti,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$e(Ti)},r=new Je(e,t);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(K);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(r,n),r}(r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Object(O._registerComponent)(new E.a("auth-internal",(function(e){return function(e){return new Si(e)}(Xe(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Object(O.registerVersion)("@firebase/auth","0.19.3",function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Ti)),Object(O.registerVersion)("@firebase/auth","0.19.3","esm2017");function Ci(e,t,n){return Ai.apply(this,arguments)}function Ai(){return(Ai=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Ni(),o=i.BuildInfo,q(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Fi(n.sessionId);case 4:return u=e.sent,c={},We()?c.ibi=o.packageName:ze()?c.apn=o.packageName:P(t,"operation-not-supported-in-this-environment"),o.displayName&&(c.appDisplayName=o.displayName),c.sessionId=u,e.abrupt("return",xi(t,r,n.type,void 0,null!==(a=n.eventId)&&void 0!==a?a:void 0,c));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ri(){return(Ri=Object(v.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Ni(),r=n.BuildInfo,a={},We()?a.iosBundleId=r.packageName:ze()?a.androidPackageName=r.packageName:P(t,"operation-not-supported-in-this-environment"),e.next=5,ai(t,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Di(e){var t=Ni().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var a=null;r?t.plugins.browsertab.openUrl(e):a=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(w.n)();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(a)}))}))}function Pi(e,t,n){return Li.apply(this,arguments)}function Li(){return(Li=Object(v.a)(s.a.mark((function e(t,n,r){var a,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Ni(),i=a.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,a){var u=null;function s(){var t;e();var n=null===(t=i.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){a(L(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),ze()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])})))).apply(this,arguments)}function Mi(e){var t,n,r,a,i,o,u,s,c,l,f=Ni();V("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),V("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),V("function"===typeof(null===(i=null===(a=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===a?void 0:a.browsertab)||void 0===i?void 0:i.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),V("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Fi(e){return Ui.apply(this,arguments)}function Ui(){return(Ui=Object(v.a)(s.a.mark((function e(t){var n,r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Vi(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,a=Array.from(new Uint8Array(r)),e.abrupt("return",a.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vi(e){if(q(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Bi=function(e){Object(d.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Object(l.a)(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Object(f.a)(Object(h.a)(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Object(v.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(ti);function qi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Gi(),postBody:null,tenantId:e.tenantId,error:L(e,"no-auth-event")}}function zi(e,t){return Qi()._set(Yi(e),t)}function Ki(e){return Hi.apply(this,arguments)}function Hi(){return(Hi=Object(v.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qi()._get(Yi(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Qi()._remove(Yi(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wi(e,t){var n,r,a=function(e){var t=$i(e),n=t.link?decodeURIComponent(t.link):void 0,r=$i(n).link,a=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $i(a).link||a||r||n||e}(t);if(a.includes("/__/auth/callback")){var i=$i(a),o=i.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(i.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?L(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:a,postBody:null}}return null}function Gi(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Qi(){return K(jr)}function Yi(e){return Le("authEvent",e.config.apiKey,e.name)}function $i(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),u=(t=n,Object(r.a)(t)||Object(a.a)(t)||Object(i.a)(t)||Object(o.a)()),s=(u[0],u.slice(1));return Object(w.A)(s.join("?"))}var Ji=function(){function e(){Object(c.a)(this,e),this._redirectPersistence=_r,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ja}return Object(l.a)(e,[{key:"_initialize",value:function(){var e=Object(v.a)(s.a.mark((function e(t){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Bi(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){P(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Object(v.a)(s.a.mark((function e(t,n,r,a){var i,o,u,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mi(t),e.next=3,this._initialize(t);case 3:return i=e.sent,e.next=6,i.initialized();case 6:return i.resetRedirect(),Pa.clear(),e.next=10,this._originValidation(t);case 10:return o=qi(t,r,a),e.next=13,zi(t,o);case 13:return e.next=15,Ci(t,o,n);case 15:return u=e.sent,e.next=18,Di(u);case 18:return c=e.sent,e.abrupt("return",Pi(t,i,c));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Ri.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Ni(),r=n.universalLinks,a=n.handleOpenURL,i=n.BuildInfo,o=setTimeout(Object(v.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ki(e);case 2:t.onEvent(Xi());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Object(v.a)(s.a.mark((function n(r){var a,i;return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,Ki(e);case 3:a=n.sent,i=null,a&&(null===r||void 0===r?void 0:r.url)&&(i=Wi(a,r.url)),t.onEvent(i||Xi());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var c=a,l="".concat(i.packageName.toLowerCase(),"://");Ni().handleOpenURL=function(){var e=Object(v.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(l)&&u({url:t}),"function"===typeof c)try{c(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}();function Xi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:L("no-auth-event")}}function Zi(e,t){Xe(e)._logFramework(t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return yl})),n.d(t,"b",(function(){return dc})),n.d(t,"c",(function(){return Xs})),n.d(t,"d",(function(){return Bs})),n.d(t,"e",(function(){return Wc})),n.d(t,"f",(function(){return hc})),n.d(t,"g",(function(){return M})),n.d(t,"h",(function(){return vc})),n.d(t,"i",(function(){return Gc})),n.d(t,"j",(function(){return Qc})),n.d(t,"k",(function(){return J})),n.d(t,"l",(function(){return kl})),n.d(t,"m",(function(){return Ss})),n.d(t,"n",(function(){return be})),n.d(t,"o",(function(){return ie})),n.d(t,"p",(function(){return Ls})),n.d(t,"q",(function(){return D})),n.d(t,"r",(function(){return ue})),n.d(t,"s",(function(){return N})),n.d(t,"t",(function(){return As})),n.d(t,"u",(function(){return Al})),n.d(t,"v",(function(){return ql})),n.d(t,"w",(function(){return Bl})),n.d(t,"x",(function(){return ic})),n.d(t,"y",(function(){return Ks})),n.d(t,"z",(function(){return Hs})),n.d(t,"A",(function(){return Vs})),n.d(t,"B",(function(){return Cl})),n.d(t,"C",(function(){return Ul})),n.d(t,"D",(function(){return sc})),n.d(t,"E",(function(){return Ws})),n.d(t,"F",(function(){return nc})),n.d(t,"G",(function(){return rc})),n.d(t,"H",(function(){return uc})),n.d(t,"I",(function(){return hl})),n.d(t,"J",(function(){return fl})),n.d(t,"K",(function(){return ec})),n.d(t,"L",(function(){return Pl})),n.d(t,"M",(function(){return Ol})),n.d(t,"N",(function(){return xl})),n.d(t,"O",(function(){return _l})),n.d(t,"P",(function(){return El})),n.d(t,"Q",(function(){return Il})),n.d(t,"R",(function(){return Tl})),n.d(t,"S",(function(){return zl})),n.d(t,"T",(function(){return il})),n.d(t,"U",(function(){return ol})),n.d(t,"V",(function(){return cc})),n.d(t,"W",(function(){return lc})),n.d(t,"X",(function(){return Rl})),n.d(t,"Y",(function(){return Dl})),n.d(t,"Z",(function(){return rl})),n.d(t,"ab",(function(){return Zc})),n.d(t,"bb",(function(){return Qs})),n.d(t,"cb",(function(){return Gs})),n.d(t,"db",(function(){return Fl})),n.d(t,"eb",(function(){return Vl})),n.d(t,"fb",(function(){return Sl})),n.d(t,"gb",(function(){return I})),n.d(t,"hb",(function(){return $c})),n.d(t,"ib",(function(){return cl})),n.d(t,"jb",(function(){return sl})),n.d(t,"kb",(function(){return Nl})),n.d(t,"lb",(function(){return oc})),n.d(t,"mb",(function(){return tl}));var r=n(53),a=n(24),i=n(22),o=n(15),u=n(9),s=n(0),c=n.n(s),l=n(2),f=n(12),h=n(13),d=n(85),p=n(20),v=n(3),m=n(4),y=n(18),b=n(23),g=n(25),k=n(7),w=n(31),O="@firebase/firestore",j=function(){function e(t){Object(v.a)(this,e),this.uid=t}return Object(m.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();j.UNAUTHENTICATED=new j(null),j.GOOGLE_CREDENTIALS=new j("google-credentials-uid"),j.FIRST_PARTY=new j("first-party-uid"),j.MOCK_USER=new j("mock-user");var x="9.4.0",_=new g.b("@firebase/firestore");function E(){return _.logLevel}function I(e){_.setLogLevel(e)}function T(e){if(_.logLevel<=g.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(C);_.debug.apply(_,["Firestore (".concat(x,"): ").concat(e)].concat(Object(p.a)(a)))}}function S(e){if(_.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(C);_.error.apply(_,["Firestore (".concat(x,"): ").concat(e)].concat(Object(p.a)(a)))}}function N(e){if(_.logLevel<=g.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a=n.map(C);_.warn.apply(_,["Firestore (".concat(x,"): ").concat(e)].concat(Object(p.a)(a)))}}function C(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function A(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(x,") INTERNAL ASSERTION FAILED: ")+e;throw S(t),new Error(t)}function R(e,t){e||A()}function D(e,t){e||A()}function P(e,t){return e}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},M=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,r)).code=e,a.message=r,a.name="FirebaseError",a.toString=function(){return"".concat(a.name,": [code=").concat(a.code,"]: ").concat(a.message)},a}return n}(Object(d.a)(Error)),F=function e(){var t=this;Object(v.a)(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},U=function e(t,n){Object(v.a)(this,e),this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer ".concat(t)},V=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(j.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),B=function(){function e(t){Object(v.a)(this,e),this.token=t,this.changeListener=null}return Object(m.a)(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),q=function(){function e(t){Object(v.a)(this,e),this.t=t,this.currentUser=j.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(m.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,a=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},i=new F;this.o=function(){n.i++,n.currentUser=n.u(),i.resolve(),i=new F,e.enqueueRetryable((function(){return a(n.currentUser)}))};var o=function(){var t=i;e.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,a(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){T("FirebaseCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(T("FirebaseCredentialsProvider","Auth not yet detected"),i.resolve(),i=new F)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(T("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(R("string"==typeof n.accessToken),new U(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return R(null===e||"string"==typeof e),new j(e)}}]),e}(),z=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=j.FIRST_PARTY}return Object(m.a)(e,[{key:"authHeaders",get:function(){var e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}]),e}(),K=function(){function e(t,n,r){Object(v.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(m.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new z(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(j.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),H=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.g(e)},this.p=function(e){return n.writeSequenceNumber(e)})}return Object(m.a)(e,[{key:"g",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.p&&this.p(e),e}}]),e}();function W(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}H.T=-1;var G=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,null,[{key:"I",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=W(40),a=0;a<r.length;++a)n.length<20&&r[a]<t&&(n+=e.charAt(r[a]%e.length));return n}}]),e}();function Q(e,t){return e<t?-1:e>t?1:0}function Y(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function $(e){return e+"\0"}var J=function(){function e(t,n){if(Object(v.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new M(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new M(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new M(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new M(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(m.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Q(this.nanoseconds,e.nanoseconds):Q(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),X=function(){function e(t){Object(v.a)(this,e),this.timestamp=t}return Object(m.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new J(0,0))}}]),e}();function Z(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ee(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function te(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ne=function(){function e(t,n,r){Object(v.a)(this,e),void 0===n?n=0:n>t.length&&A(),void 0===r?r=t.length-n:r>t.length-n&&A(),this.segments=t,this.offset=n,this.len=r}return Object(m.a)(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var a=e.get(r),i=t.get(r);if(a<i)return-1;if(a>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),re=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];for(var i=0,o=r;i<o.length;i++){var u=o[i];if(u.indexOf("//")>=0)throw new M(L.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(p.a)(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ne),ae=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ie=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ae.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",a=0,i=function(){if(0===r.length)throw new M(L.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;a<e.length;){var u=e[a];if("\\"===u){if(a+1===e.length)throw new M(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[a+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new M(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,a+=2}else"`"===u?(o=!o,a++):"."!==u||o?(r+=u,a++):(i(),a++)}if(i(),o)throw new M(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(ne),oe=function(){function e(t){Object(v.a)(this,e),this.fields=t,t.sort(ie.comparator)}return Object(m.a)(e,[{key:"covers",value:function(e){var t,n=Object(u.a)(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return Y(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();function ue(){return"undefined"!=typeof atob}var se=function(){function e(t){Object(v.a)(this,e),this.binaryString=t}return Object(m.a)(e,[{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Q(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();se.EMPTY_BYTE_STRING=new se("");var ce=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function le(e){if(R(!!e),"string"==typeof e){var t=0,n=ce.exec(e);if(R(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var a=new Date(e);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:fe(e.seconds),nanos:fe(e.nanos)}}function fe(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function he(e){return"string"==typeof e?se.fromBase64String(e):se.fromUint8Array(e)}function de(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function pe(e){var t=le(e.mapValue.fields.__local_write_time__.timestampValue);return new J(t.seconds,t.nanos)}function ve(e){return null==e}function me(e){return 0===e&&1/e==-1/0}function ye(e){return"number"==typeof e&&Number.isInteger(e)&&!me(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var be=function(){function e(t){Object(v.a)(this,e),this.path=t}return Object(m.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"isEqual",value:function(e){return null!==e&&0===re.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(re.fromString(t))}},{key:"fromName",value:function(t){return new e(re.fromString(t).popFirst(5))}},{key:"comparator",value:function(e,t){return re.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new re(t.slice()))}}]),e}();function ge(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?de(e)?4:10:A()}function ke(e,t){var n=ge(e);if(n!==ge(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return pe(e).isEqual(pe(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=le(e.timestampValue),r=le(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return he(e.bytesValue).isEqual(he(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return fe(e.geoPointValue.latitude)===fe(t.geoPointValue.latitude)&&fe(e.geoPointValue.longitude)===fe(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return fe(e.integerValue)===fe(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=fe(e.doubleValue),r=fe(t.doubleValue);return n===r?me(n)===me(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Y(e.arrayValue.values||[],t.arrayValue.values||[],ke);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Z(n)!==Z(r))return!1;for(var a in n)if(n.hasOwnProperty(a)&&(void 0===r[a]||!ke(n[a],r[a])))return!1;return!0}(e,t);default:return A()}}function we(e,t){return void 0!==(e.values||[]).find((function(e){return ke(e,t)}))}function Oe(e,t){var n=ge(e),r=ge(t);if(n!==r)return Q(n,r);switch(n){case 0:return 0;case 1:return Q(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=fe(e.integerValue||e.doubleValue),r=fe(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return je(e.timestampValue,t.timestampValue);case 4:return je(pe(e),pe(t));case 5:return Q(e.stringValue,t.stringValue);case 6:return function(e,t){var n=he(e),r=he(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),a=0;a<n.length&&a<r.length;a++){var i=Q(n[a],r[a]);if(0!==i)return i}return Q(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Q(fe(e.latitude),fe(t.latitude));return 0!==n?n:Q(fe(e.longitude),fe(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],a=0;a<n.length&&a<r.length;++a){var i=Oe(n[a],r[a]);if(i)return i}return Q(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),a=t.fields||{},i=Object.keys(a);r.sort(),i.sort();for(var o=0;o<r.length&&o<i.length;++o){var u=Q(r[o],i[o]);if(0!==u)return u;var s=Oe(n[r[o]],a[i[o]]);if(0!==s)return s}return Q(r.length,i.length)}(e.mapValue,t.mapValue);default:throw A()}}function je(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Q(e,t);var n=le(e),r=le(t),a=Q(n.seconds,r.seconds);return 0!==a?a:Q(n.nanos,r.nanos)}function xe(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=le(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?he(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,be.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",a=!0,i=Object(u.a)(t.values||[]);try{for(i.s();!(n=i.n()).done;){var o=n.value;a?a=!1:r+=",",r+=e(o)}}catch(s){i.e(s)}finally{i.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),a="{",i=!0,o=Object(u.a)(r);try{for(o.s();!(n=o.n()).done;){var s=n.value;i?i=!1:a+=",",a+="".concat(s,":").concat(e(t.fields[s]))}}catch(c){o.e(c)}finally{o.f()}return a+"}"}(t.mapValue):A();var n,r}(e)}function _e(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Ee(e){return!!e&&"integerValue"in e}function Ie(e){return!!e&&"arrayValue"in e}function Te(e){return!!e&&"nullValue"in e}function Se(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ne(e){return!!e&&"mapValue"in e}function Ce(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ee(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Ce(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Ce(e.arrayValue.values[r]);return n}return Object.assign({},e)}var Ae=function(){function e(t){Object(v.a)(this,e),this.value=t}return Object(m.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ne(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ce(t)}},{key:"setAll",value:function(e){var t=this,n=ie.emptyPath(),r={},a=[];e.forEach((function(e,i){if(!n.isImmediateParentOf(i)){var o=t.getFieldsMap(n);t.applyChanges(o,r,a),r={},a=[],n=i.popLast()}e?r[i.lastSegment()]=Ce(e):a.push(i.lastSegment())}));var i=this.getFieldsMap(n);this.applyChanges(i,r,a)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ne(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return ke(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ne(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ee(t,(function(t,n){return e[t]=n}));var r,a=Object(u.a)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;delete e[i]}}catch(o){a.e(o)}finally{a.f()}}},{key:"clone",value:function(){return new e(Ce(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Re(e){var t=[];return ee(e.fields,(function(e,n){var r=new ie([e]);if(Ne(n)){var a=Re(n.mapValue).fields;if(0===a.length)t.push(r);else{var i,o=Object(u.a)(a);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.push(r.child(s))}}catch(c){o.e(c)}finally{o.f()}}}else t.push(r)})),new oe(t)}var De=function(){function e(t,n,r,a,i){Object(v.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.data=a,this.documentState=i}return Object(m.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Ae.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Ae.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"clone",value:function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,X.min(),Ae.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,Ae.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,Ae.empty(),2)}}]),e}(),Pe=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=a,this.limit=i,this.startAt=o,this.endAt=u,this.A=null};function Le(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Pe(e,t,n,r,a,i,o)}function Me(e){var t=P(e);if(null===t.A){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+xe(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ve(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=$e(t.startAt)),t.endAt&&(n+="|ub:",n+=$e(t.endAt)),t.A=n}return t.A}function Fe(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Xe(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(a=e.filters[r],i=t.filters[r],a.op!==i.op||!a.field.isEqual(i.field)||!ke(a.value,i.value))return!1;var a,i;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!et(e.startAt,t.startAt)&&et(e.endAt,t.endAt)}function Ue(e){return be.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ve=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this)).field=e,i.op=r,i.value=a,i}return Object(m.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(Oe(t,this.value)):null!==t&&ge(this.value)===ge(t)&&this.P(Oe(t,this.value))}},{key:"P",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}},{key:"v",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new Be(e,t,r):"array-contains"===t?new He(e,r):"in"===t?new We(e,r):"not-in"===t?new Ge(e,r):"array-contains-any"===t?new Qe(e,r):new n(e,t,r)}},{key:"R",value:function(e,t,n){return"in"===t?new qe(e,n):new ze(e,n)}}]),n}(function(){return function e(){Object(v.a)(this,e)}}());var Be=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this,e,r,a)).key=be.fromName(a.referenceValue),i}return Object(m.a)(n,[{key:"matches",value:function(e){var t=be.comparator(e.key,this.key);return this.P(t)}}]),n}(Ve),qe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e,"in",r)).keys=Ke("in",r),a}return Object(m.a)(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ve),ze=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e,"not-in",r)).keys=Ke("not-in",r),a}return Object(m.a)(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ve);function Ke(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return be.fromName(e.referenceValue)}))}var He=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains",r)}return Object(m.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ie(t)&&we(t.arrayValue,this.value)}}]),n}(Ve),We=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"in",r)}return Object(m.a)(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&we(this.value.arrayValue,t)}}]),n}(Ve),Ge=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"not-in",r)}return Object(m.a)(n,[{key:"matches",value:function(e){if(we(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!we(this.value.arrayValue,t)}}]),n}(Ve),Qe=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){return Object(v.a)(this,n),t.call(this,e,"array-contains-any",r)}return Object(m.a)(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ie(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return we(t.value.arrayValue,e)}))}}]),n}(Ve),Ye=function e(t,n){Object(v.a)(this,e),this.position=t,this.before=n};function $e(e){return"".concat(e.before?"b":"a",":").concat(e.position.map((function(e){return xe(e)})).join(","))}var Je=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(v.a)(this,e),this.field=t,this.dir=n};function Xe(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Ze(e,t,n){for(var r=0,a=0;a<e.position.length;a++){var i=t[a],o=e.position[a];if(r=i.field.isKeyField()?be.comparator(be.fromName(o.referenceValue),n.key):Oe(o,n.data.field(i.field)),"desc"===i.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function et(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ke(e.position[n],t.position[n]))return!1;return!0}var tt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(v.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=a,this.limit=i,this.limitType=o,this.startAt=u,this.endAt=s,this.V=null,this.S=null,this.startAt,this.endAt};function nt(e,t,n,r,a,i,o,u){return new tt(e,t,n,r,a,i,o,u)}function rt(e){return new tt(e)}function at(e){return!ve(e.limit)&&"F"===e.limitType}function it(e){return!ve(e.limit)&&"L"===e.limitType}function ot(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ut(e){var t,n=Object(u.a)(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.v())return r.field}}catch(a){n.e(a)}finally{n.f()}return null}function st(e){return null!==e.collectionGroup}function ct(e){var t=P(e);if(null===t.V){t.V=[];var n=ut(t),r=ot(t);if(null!==n&&null===r)n.isKeyField()||t.V.push(new Je(n)),t.V.push(new Je(ie.keyField(),"asc"));else{var a,i=!1,o=Object(u.a)(t.explicitOrderBy);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.V.push(s),s.field.isKeyField()&&(i=!0)}}catch(l){o.e(l)}finally{o.f()}if(!i){var c=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new Je(ie.keyField(),c))}}}return t.V}function lt(e){var t=P(e);if(!t.S)if("F"===t.limitType)t.S=Le(t.path,t.collectionGroup,ct(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],a=Object(u.a)(ct(t));try{for(a.s();!(n=a.n()).done;){var i=n.value,o="desc"===i.dir?"asc":"desc";r.push(new Je(i.field,o))}}catch(l){a.e(l)}finally{a.f()}var s=t.endAt?new Ye(t.endAt.position,!t.endAt.before):null,c=t.startAt?new Ye(t.startAt.position,!t.startAt.before):null;t.S=Le(t.path,t.collectionGroup,r,t.filters,t.limit,s,c)}return t.S}function ft(e,t,n){return new tt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ht(e,t){return Fe(lt(e),lt(t))&&e.limitType===t.limitType}function dt(e){return"".concat(Me(lt(e)),"|lt:").concat(e.limitType)}function pt(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(xe(t.value));var t})).join(", "),"]")),ve(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: "+$e(e.startAt)),e.endAt&&(t+=", endAt: "+$e(e.endAt)),"Target(".concat(t,")")}(lt(e)),"; limitType=").concat(e.limitType,")")}function vt(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):be.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Object(u.a)(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!a.field.isKeyField()&&null===t.data.field(a.field))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!Ze(e.startAt,ct(e),t))&&(!e.endAt||!Ze(e.endAt,ct(e),t))}(e,t)}function mt(e){return function(t,n){var r,a=!1,i=Object(u.a)(ct(e));try{for(i.s();!(r=i.n()).done;){var o=r.value,s=yt(o,t,n);if(0!==s)return s;a=a||o.field.isKeyField()}}catch(c){i.e(c)}finally{i.f()}return 0}}function yt(e,t,n){var r=e.field.isKeyField()?be.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),a=n.data.field(e);return null!==r&&null!==a?Oe(r,a):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}function bt(e,t){if(e.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:me(t)?"-0":t}}function gt(e){return{integerValue:""+e}}function kt(e,t){return ye(t)?gt(t):bt(e,t)}var wt=function e(){Object(v.a)(this,e),this._=void 0};function Ot(e,t,n){return e instanceof _t?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Et?It(e,t):e instanceof Tt?St(e,t):function(e,t){var n=xt(e,t),r=Ct(n)+Ct(e.C);return Ee(n)&&Ee(e.C)?gt(r):bt(e.N,r)}(e,t)}function jt(e,t,n){return e instanceof Et?It(e,t):e instanceof Tt?St(e,t):n}function xt(e,t){return e instanceof Nt?Ee(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var _t=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return n}(wt),Et=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(wt);function It(e,t){var n,r=At(t),a=Object(u.a)(e.elements);try{var i=function(){var e=n.value;r.some((function(t){return ke(t,e)}))||r.push(e)};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}var Tt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).elements=e,r}return n}(wt);function St(e,t){var n,r=At(t),a=Object(u.a)(e.elements);try{var i=function(){var e=n.value;r=r.filter((function(t){return!ke(t,e)}))};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return{arrayValue:{values:r}}}var Nt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this)).N=e,a.C=r,a}return n}(wt);function Ct(e){return fe(e.integerValue||e.doubleValue)}function At(e){return Ie(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Rt=function e(t,n){Object(v.a)(this,e),this.field=t,this.transform=n};var Dt=function e(t,n){Object(v.a)(this,e),this.version=t,this.transformResults=n},Pt=function(){function e(t,n){Object(v.a)(this,e),this.updateTime=t,this.exists=n}return Object(m.a)(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Lt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Mt=function e(){Object(v.a)(this,e)};function Ft(e,t,n){e instanceof zt?function(e,t,n){var r=e.value.clone(),a=Wt(e.fieldTransforms,t,n.transformResults);r.setAll(a),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Kt?function(e,t,n){if(Lt(e.precondition,t)){var r=Wt(e.fieldTransforms,t,n.transformResults),a=t.data;a.setAll(Ht(e)),a.setAll(r),t.convertToFoundDocument(n.version,a).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ut(e,t,n){e instanceof zt?function(e,t,n){if(Lt(e.precondition,t)){var r=e.value.clone(),a=Gt(e.fieldTransforms,n,t);r.setAll(a),t.convertToFoundDocument(qt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Kt?function(e,t,n){if(Lt(e.precondition,t)){var r=Gt(e.fieldTransforms,n,t),a=t.data;a.setAll(Ht(e)),a.setAll(r),t.convertToFoundDocument(qt(t),a).setHasLocalMutations()}}(e,t,n):function(e,t){Lt(e.precondition,t)&&t.convertToNoDocument(X.min())}(e,t)}function Vt(e,t){var n,r=null,a=Object(u.a)(e.fieldTransforms);try{for(a.s();!(n=a.n()).done;){var i=n.value,o=t.data.field(i.field),s=xt(i.transform,o||null);null!=s&&(null==r&&(r=Ae.empty()),r.set(i.field,s))}}catch(c){a.e(c)}finally{a.f()}return r||null}function Bt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Y(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Et&&t instanceof Et||e instanceof Tt&&t instanceof Tt?Y(e.elements,t.elements,ke):e instanceof Nt&&t instanceof Nt?ke(e.C,t.C):e instanceof _t&&t instanceof _t}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function qt(e){return e.isFoundDocument()?e.version:X.min()}var zt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(v.a)(this,n),(i=t.call(this)).key=e,i.value=r,i.precondition=a,i.fieldTransforms=o,i.type=0,i}return n}(Mt),Kt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a,i){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(v.a)(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=a,o.precondition=i,o.fieldTransforms=u,o.type=1,o}return n}(Mt);function Ht(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function Wt(e,t,n){var r=new Map;R(e.length===n.length);for(var a=0;a<n.length;a++){var i=e[a],o=i.transform,u=t.data.field(i.field);r.set(i.field,jt(o,u,n[a]))}return r}function Gt(e,t,n){var r,a=new Map,i=Object(u.a)(e);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=o.transform,c=n.data.field(o.field);a.set(o.field,Ot(s,c,t))}}catch(l){i.e(l)}finally{i.f()}return a}var Qt,Yt,$t=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=2,a.fieldTransforms=[],a}return n}(Mt),Jt=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this)).key=e,a.precondition=r,a.type=3,a.fieldTransforms=[],a}return n}(Mt),Xt=function e(t){Object(v.a)(this,e),this.count=t};function Zt(e){switch(e){default:return A();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function en(e){if(void 0===e)return S("GRPC error has no .code"),L.UNKNOWN;switch(e){case Qt.OK:return L.OK;case Qt.CANCELLED:return L.CANCELLED;case Qt.UNKNOWN:return L.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return L.INTERNAL;case Qt.UNAVAILABLE:return L.UNAVAILABLE;case Qt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Qt.NOT_FOUND:return L.NOT_FOUND;case Qt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Qt.ABORTED:return L.ABORTED;case Qt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Qt.DATA_LOSS:return L.DATA_LOSS;default:return A()}}(Yt=Qt||(Qt={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";var tn=function(){function e(t,n){Object(v.a)(this,e),this.comparator=t,this.root=n||rn.EMPTY}return Object(m.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,rn.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rn.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new nn(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new nn(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new nn(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new nn(this.root,e,this.comparator,!0)}}]),e}(),nn=function(){function e(t,n,r,a){Object(v.a)(this,e),this.isReverse=a,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=n?r(t.key,n):1,a&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(m.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),rn=function(){function e(t,n,r,a,i){Object(v.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=a?a:e.EMPTY,this.right=null!=i?i:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(m.a)(e,[{key:"copy",value:function(t,n,r,a,i){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=i?i:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,a=n(e,r.key);return(r=a<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,a=this;if(n(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===n(t,a.key)){if(a.right.isEmpty())return e.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,n))}return a.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();var e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}]),e}();rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1,rn.EMPTY=new(function(){function e(){Object(v.a)(this,e),this.size=0}return Object(m.a)(e,[{key:"key",get:function(){throw A()}},{key:"value",get:function(){throw A()}},{key:"color",get:function(){throw A()}},{key:"left",get:function(){throw A()}},{key:"right",get:function(){throw A()}},{key:"copy",value:function(e,t,n,r,a){return this}},{key:"insert",value:function(e,t,n){return new rn(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var an=function(){function e(t){Object(v.a)(this,e),this.comparator=t,this.data=new tn(this.comparator)}return Object(m.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new on(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new on(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(0!==this.comparator(a,i))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),on=function(){function e(t){Object(v.a)(this,e),this.iter=t}return Object(m.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}(),un=new tn(be.comparator);function sn(){return un}var cn=new tn(be.comparator);function ln(){return cn}var fn=new tn(be.comparator);function hn(){return fn}var dn=new an(be.comparator);function pn(){for(var e=dn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];e=e.add(o)}return e}var vn=new an(Q);function mn(){return vn}var yn=function(){function e(t,n,r,a,i){Object(v.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=i}return Object(m.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,bn.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(X.min(),r,mn(),sn(),pn())}}]),e}(),bn=function(){function e(t,n,r,a,i){Object(v.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=i}return Object(m.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(se.EMPTY_BYTE_STRING,n,pn(),pn(),pn())}}]),e}(),gn=function e(t,n,r,a){Object(v.a)(this,e),this.k=t,this.removedTargetIds=n,this.key=r,this.$=a},kn=function e(t,n){Object(v.a)(this,e),this.targetId=t,this.O=n},wn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se.EMPTY_BYTE_STRING,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(v.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=a},On=function(){function e(){Object(v.a)(this,e),this.F=0,this.M=_n(),this.L=se.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}return Object(m.a)(e,[{key:"current",get:function(){return this.B}},{key:"resumeToken",get:function(){return this.L}},{key:"q",get:function(){return 0!==this.F}},{key:"K",get:function(){return this.U}},{key:"j",value:function(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}},{key:"W",value:function(){var e=pn(),t=pn(),n=pn();return this.M.forEach((function(r,a){switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}})),new bn(this.L,this.B,e,t,n)}},{key:"G",value:function(){this.U=!1,this.M=_n()}},{key:"H",value:function(e,t){this.U=!0,this.M=this.M.insert(e,t)}},{key:"J",value:function(e){this.U=!0,this.M=this.M.remove(e)}},{key:"Y",value:function(){this.F+=1}},{key:"X",value:function(){this.F-=1}},{key:"Z",value:function(){this.U=!0,this.B=!0}}]),e}(),jn=function(){function e(t){Object(v.a)(this,e),this.tt=t,this.et=new Map,this.nt=sn(),this.st=xn(),this.it=new an(Q)}return Object(m.a)(e,[{key:"rt",value:function(e){var t,n=Object(u.a)(e.k);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.$&&e.$.isFoundDocument()?this.ot(r,e.$):this.ct(r,e.key,e.$)}}catch(s){n.e(s)}finally{n.f()}var a,i=Object(u.a)(e.removedTargetIds);try{for(i.s();!(a=i.n()).done;){var o=a.value;this.ct(o,e.key,e.$)}}catch(s){i.e(s)}finally{i.f()}}},{key:"at",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ut(n);switch(e.state){case 0:t.ht(n)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||t.removeTarget(n);break;case 3:t.ht(n)&&(r.Z(),r.j(e.resumeToken));break;case 4:t.ht(n)&&(t.lt(n),r.j(e.resumeToken));break;default:A()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((function(e,r){n.ht(r)&&t(r)}))}},{key:"ft",value:function(e){var t=e.targetId,n=e.O.count,r=this.dt(t);if(r){var a=r.target;if(Ue(a))if(0===n){var i=new be(a.path);this.ct(t,i,De.newNoDocument(i,X.min()))}else R(1===n);else this.wt(t)!==n&&(this.lt(t),this.it=this.it.add(t))}}},{key:"_t",value:function(e){var t=this,n=new Map;this.et.forEach((function(r,a){var i=t.dt(a);if(i){if(r.current&&Ue(i.target)){var o=new be(i.target.path);null!==t.nt.get(o)||t.gt(a,o)||t.ct(a,o,De.newNoDocument(o,e))}r.K&&(n.set(a,r.W()),r.G())}}));var r=pn();this.st.forEach((function(e,n){var a=!0;n.forEachWhile((function(e){var n=t.dt(e);return!n||2===n.purpose||(a=!1,!1)})),a&&(r=r.add(e))}));var a=new yn(e,n,this.it,this.nt,r);return this.nt=sn(),this.st=xn(),this.it=new an(Q),a}},{key:"ot",value:function(e,t){if(this.ht(e)){var n=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,n),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ht(e)){var r=this.ut(e);this.gt(e,t)?r.H(t,1):r.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),n&&(this.nt=this.nt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.et.delete(e)}},{key:"wt",value:function(e){var t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Y",value:function(e){this.ut(e).Y()}},{key:"ut",value:function(e){var t=this.et.get(e);return t||(t=new On,this.et.set(e,t)),t}},{key:"yt",value:function(e){var t=this.st.get(e);return t||(t=new an(Q),this.st=this.st.insert(e,t)),t}},{key:"ht",value:function(e){var t=null!==this.dt(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}},{key:"dt",value:function(e){var t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}},{key:"lt",value:function(e){var t=this;this.et.set(e,new On),this.tt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"gt",value:function(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}]),e}();function xn(){return new tn(be.comparator)}function _n(){return new tn(be.comparator)}var En={asc:"ASCENDING",desc:"DESCENDING"},In={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tn=function e(t,n){Object(v.a)(this,e),this.databaseId=t,this.D=n};function Sn(e,t){return e.D?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nn(e,t){return e.D?t.toBase64():t.toUint8Array()}function Cn(e,t){return Sn(e,t.toTimestamp())}function An(e){return R(!!e),X.fromTimestamp(function(e){var t=le(e);return new J(t.seconds,t.nanos)}(e))}function Rn(e,t){return function(e){return new re(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Dn(e){var t=re.fromString(e);return R(ar(t)),t}function Pn(e,t){return Rn(e.databaseId,t.path)}function Ln(e,t){var n=Dn(t);if(n.get(1)!==e.databaseId.projectId)throw new M(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new M(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new be(Vn(n))}function Mn(e,t){return Rn(e.databaseId,t)}function Fn(e){var t=Dn(e);return 4===t.length?re.emptyPath():Vn(t)}function Un(e){return new re(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vn(e){return R(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Bn(e,t,n){return{name:Pn(e,t),fields:n.value.mapValue.fields}}function qn(e,t,n){var r=Ln(e,t.name),a=An(t.updateTime),i=new Ae({mapValue:{fields:t.fields}}),o=De.newFoundDocument(r,a,i);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function zn(e,t){return"found"in t?function(e,t){R(!!t.found),t.found.name,t.found.updateTime;var n=Ln(e,t.found.name),r=An(t.found.updateTime),a=new Ae({mapValue:{fields:t.found.fields}});return De.newFoundDocument(n,r,a)}(e,t):"missing"in t?function(e,t){R(!!t.missing),R(!!t.readTime);var n=Ln(e,t.missing),r=An(t.readTime);return De.newNoDocument(n,r)}(e,t):A()}function Kn(e,t){var n;if(t instanceof zt)n={update:Bn(e,t.key,t.value)};else if(t instanceof $t)n={delete:Pn(e,t.key)};else if(t instanceof Kt)n={update:Bn(e,t.key,t.data),updateMask:rr(t.fieldMask)};else{if(!(t instanceof Jt))return A();n={verify:Pn(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof _t)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Et)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Tt)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Nt)return{fieldPath:t.field.canonicalString(),increment:n.C};throw A()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cn(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Hn(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Pt.updateTime(An(e.updateTime)):void 0!==e.exists?Pt.exists(e.exists):Pt.none()}(t.currentDocument):Pt.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)R("REQUEST_TIME"===t.setToServerValue),n=new _t;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Et(r)}else if("removeAllFromArray"in t){var a=t.removeAllFromArray.values||[];n=new Tt(a)}else"increment"in t?n=new Nt(e,t.increment):A();var i=ie.fromServerFormat(t.fieldPath);return new Rt(i,n)}(e,t)})):[];if(t.update){t.update.name;var a=Ln(e,t.update.name),i=new Ae({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new oe(t.map((function(e){return ie.fromServerFormat(e)})))}(t.updateMask);return new Kt(a,i,o,n,r)}return new zt(a,i,n,r)}if(t.delete){var u=Ln(e,t.delete);return new $t(u,n)}if(t.verify){var s=Ln(e,t.verify);return new Jt(s,n)}return A()}function Wn(e,t){return{documents:[Mn(e,t.path)]}}function Gn(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Mn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Mn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var a=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Se(e.value))return{unaryFilter:{field:Zn(e.field),op:"IS_NAN"}};if(Te(e.value))return{unaryFilter:{field:Zn(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Se(e.value))return{unaryFilter:{field:Zn(e.field),op:"IS_NOT_NAN"}};if(Te(e.value))return{unaryFilter:{field:Zn(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Zn(e.field),op:Xn(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);a&&(n.structuredQuery.where=a);var i=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Zn(e.field),direction:Jn(e.dir)}}(e)}))}(t.orderBy);i&&(n.structuredQuery.orderBy=i);var o=function(e,t){return e.D||ve(t)?t:{value:t}}(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=Yn(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Yn(t.endAt)),n}function Qn(e){var t=Fn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,a=null;if(r>0){R(1===r);var i=n.from[0];i.allDescendants?a=i.collectionId:t=t.child(i.collectionId)}var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[nr(t)]:void 0!==t.fieldFilter?[tr(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)})):A():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new Je(er(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return ve(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=$n(n.startAt));var l=null;return n.endAt&&(l=$n(n.endAt)),nt(t,a,u,o,s,"F",c,l)}function Yn(e){return{before:e.before,values:e.position}}function $n(e){var t=!!e.before,n=e.values||[];return new Ye(n,t)}function Jn(e){return En[e]}function Xn(e){return In[e]}function Zn(e){return{fieldPath:e.canonicalString()}}function er(e){return ie.fromServerFormat(e.fieldPath)}function tr(e){return Ve.create(er(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}function nr(e){switch(e.unaryFilter.op){case"IS_NAN":var t=er(e.unaryFilter.field);return Ve.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=er(e.unaryFilter.field);return Ve.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=er(e.unaryFilter.field);return Ve.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var a=er(e.unaryFilter.field);return Ve.create(a,"!=",{nullValue:"NULL_VALUE"});default:return A()}}function rr(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function ar(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function ir(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=ur(t)),t=or(e.get(n),t);return ur(t)}function or(e,t){for(var n=t,r=e.length,a=0;a<r;a++){var i=e.charAt(a);switch(i){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=i}}return n}function ur(e){return e+"\x01\x01"}function sr(e){var t=e.length;if(R(t>=2),2===t)return R("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),re.emptyPath();for(var n=t-2,r=[],a="",i=0;i<t;){var o=e.indexOf("\x01",i);switch((o<0||o>n)&&A(),e.charAt(o+1)){case"\x01":var u=e.substring(i,o),s=void 0;0===a.length?s=u:(s=a+=u,a=""),r.push(s);break;case"\x10":a+=e.substring(i,o),a+="\0";break;case"\x11":a+=e.substring(i,o+1);break;default:A()}i=o+2}return new re(r)}var cr=function e(t,n){Object(v.a)(this,e),this.seconds=t,this.nanoseconds=n},lr=function e(t,n,r){Object(v.a)(this,e),this.ownerId=t,this.allowTabSynchronization=n,this.leaseTimestampMs=r};lr.store="owner",lr.key="owner";var fr=function e(t,n,r){Object(v.a)(this,e),this.userId=t,this.lastAcknowledgedBatchId=n,this.lastStreamToken=r};fr.store="mutationQueues",fr.keyPath="userId";var hr=function e(t,n,r,a,i){Object(v.a)(this,e),this.userId=t,this.batchId=n,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=i};hr.store="mutations",hr.keyPath="batchId",hr.userMutationsIndex="userMutationsIndex",hr.userMutationsKeyPath=["userId","batchId"];var dr=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,null,[{key:"prefixForUser",value:function(e){return[e]}},{key:"prefixForPath",value:function(e,t){return[e,ir(t)]}},{key:"key",value:function(e,t,n){return[e,ir(t),n]}}]),e}();dr.store="documentMutations",dr.PLACEHOLDER=new dr;var pr=function e(t,n){Object(v.a)(this,e),this.path=t,this.readTime=n},vr=function e(t,n){Object(v.a)(this,e),this.path=t,this.version=n},mr=function e(t,n,r,a,i,o){Object(v.a)(this,e),this.unknownDocument=t,this.noDocument=n,this.document=r,this.hasCommittedMutations=a,this.readTime=i,this.parentPath=o};mr.store="remoteDocuments",mr.readTimeIndex="readTimeIndex",mr.readTimeIndexPath="readTime",mr.collectionReadTimeIndex="collectionReadTimeIndex",mr.collectionReadTimeIndexPath=["parentPath","readTime"];var yr=function e(t){Object(v.a)(this,e),this.byteSize=t};yr.store="remoteDocumentGlobal",yr.key="remoteDocumentGlobalKey";var br=function e(t,n,r,a,i,o,u){Object(v.a)(this,e),this.targetId=t,this.canonicalId=n,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=u};br.store="targets",br.keyPath="targetId",br.queryTargetsIndexName="queryTargetsIndex",br.queryTargetsKeyPath=["canonicalId","targetId"];var gr=function e(t,n,r){Object(v.a)(this,e),this.targetId=t,this.path=n,this.sequenceNumber=r};gr.store="targetDocuments",gr.keyPath=["targetId","path"],gr.documentTargetsIndex="documentTargetsIndex",gr.documentTargetsKeyPath=["path","targetId"];var kr=function e(t,n,r,a){Object(v.a)(this,e),this.highestTargetId=t,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=r,this.targetCount=a};kr.key="targetGlobalKey",kr.store="targetGlobal";var wr=function e(t,n){Object(v.a)(this,e),this.collectionId=t,this.parent=n};wr.store="collectionParents",wr.keyPath=["collectionId","parent"];var Or=function e(t,n,r,a){Object(v.a)(this,e),this.clientId=t,this.updateTimeMs=n,this.networkEnabled=r,this.inForeground=a};Or.store="clientMetadata",Or.keyPath="clientId";var jr=function e(t,n,r){Object(v.a)(this,e),this.bundleId=t,this.createTime=n,this.version=r};jr.store="bundles",jr.keyPath="bundleId";var xr=function e(t,n,r){Object(v.a)(this,e),this.name=t,this.readTime=n,this.bundledQuery=r};xr.store="namedQueries",xr.keyPath="name";var _r=[fr.store,hr.store,dr.store,mr.store,br.store,lr.store,kr.store,gr.store].concat([Or.store]).concat([yr.store]).concat([wr.store]).concat([jr.store,xr.store]),Er="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Ir=function(){function e(){Object(v.a)(this,e),this.onCommittedListeners=[]}return Object(m.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),Tr=function(){function e(t){var n=this;Object(v.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Object(m.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,a){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,a)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,a)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,a=0,i=!1;t.forEach((function(t){++r,t.next((function(){++a,i&&a===r&&e()}),(function(e){return n(e)}))})),i=!0,a===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),a=Object(u.a)(t);try{var i=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(a.s();!(n=a.n()).done;)i()}catch(o){a.e(o)}finally{a.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,a){r.push(t.call(n,e,a))})),this.waitFor(r)}}]),e}(),Sr=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.Et=new F,this.transaction.oncomplete=function(){r.Et.resolve()},this.transaction.onabort=function(){n.error?r.Et.reject(new Ar(t,n.error)):r.Et.resolve()},this.transaction.onerror=function(e){var n=Mr(e.target.error);r.Et.reject(new Ar(t,n))}}return Object(m.a)(e,[{key:"It",get:function(){return this.Et.promise}},{key:"abort",value:function(e){e&&this.Et.reject(e),this.aborted||(T("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new Dr(t)}}],[{key:"open",value:function(t,n,r,a){try{return new e(n,t.transaction(a,r))}catch(t){throw new Ar(n,t)}}}]),e}(),Nr=function(){function t(e,n,r){Object(v.a)(this,t),this.name=e,this.version=n,this.At=r,12.2===t.Rt(Object(k.n)())&&S("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Object(m.a)(t,[{key:"Dt",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return T("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var a=indexedDB.open(n.name,n.version);a.onsuccess=function(t){var n=t.target.result;e(n)},a.onblocked=function(){r(new Ar(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new M(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new M(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new Ar(t,n))},a.onupgradeneeded=function(e){T("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.At.Ct(t,a.transaction,e.oldVersion,n.version).next((function(){T("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Nt&&(this.db.onversionchange=function(e){return n.Nt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"xt",value:function(e){this.Nt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,a){var i,o,u,s,l=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(c.a.mark((function e(){var n,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.Dt(t);case 2:return l.db=e.sent,n=Sr.open(l.db,t,i?"readonly":"readwrite",r),(o=a(n).catch((function(e){return n.abort(e),Tr.reject(e)})).toPromise()).catch((function(){})),e.next=7,n.It;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,T("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return T("SimpleDb","Removing database:",e),Pr(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"bt",value:function(){if(!Object(k.t)())return!1;if(t.Pt())return!0;var e=Object(k.n)(),n=t.Rt(e),r=0<n&&n<10,a=t.vt(e),i=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}},{key:"Pt",value:function(){var t;return"undefined"!=typeof e&&"YES"===(null===(t=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}))||void 0===t?void 0:t.Vt)}},{key:"St",value:function(e,t){return e.store(t)}},{key:"Rt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"vt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),t}(),Cr=function(){function e(t){Object(v.a)(this,e),this.kt=t,this.$t=!1,this.Ot=null}return Object(m.a)(e,[{key:"isDone",get:function(){return this.$t}},{key:"Ft",get:function(){return this.Ot}},{key:"cursor",set:function(e){this.kt=e}},{key:"done",value:function(){this.$t=!0}},{key:"Mt",value:function(e){this.Ot=e}},{key:"delete",value:function(){return Pr(this.kt.delete())}}]),e}(),Ar=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,L.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",a}return n}(M);function Rr(e){return"IndexedDbTransactionError"===e.name}var Dr=function(){function e(t){Object(v.a)(this,e),this.store=t}return Object(m.a)(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(T("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(T("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Pr(n)}},{key:"add",value:function(e){return T("SimpleDb","ADD",this.store.name,e,e),Pr(this.store.add(e))}},{key:"get",value:function(e){var t=this;return Pr(this.store.get(e)).next((function(n){return void 0===n&&(n=null),T("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return T("SimpleDb","DELETE",this.store.name,e),Pr(this.store.delete(e))}},{key:"count",value:function(){return T("SimpleDb","COUNT",this.store.name),Pr(this.store.count())}},{key:"Lt",value:function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.Bt(n,(function(e,t){r.push(t)})).next((function(){return r}))}},{key:"Ut",value:function(e,t){T("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.qt=!1;var r=this.cursor(n);return this.Bt(r,(function(e,t,n){return n.delete()}))}},{key:"Kt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Bt(r,t)}},{key:"jt",value:function(e){var t=this.cursor({});return new Tr((function(n,r){t.onerror=function(e){var t=Mr(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Bt",value:function(e,t){var n=[];return new Tr((function(r,a){e.onerror=function(e){a(e.target.error)},e.onsuccess=function(e){var a=e.target.result;if(a){var i=new Cr(a),o=t(a.primaryKey,a.value,i);if(o instanceof Tr){var u=o.catch((function(e){return i.done(),Tr.reject(e)}));n.push(u)}i.isDone?r():null===i.Ft?a.continue():a.continue(i.Ft)}else r()}})).next((function(){return Tr.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.qt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function Pr(e){return new Tr((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=Mr(e.target.error);n(t)}}))}var Lr=!1;function Mr(e){var t=Nr.Rt(Object(k.n)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new M("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Lr||(Lr=!0,setTimeout((function(){throw r}),0)),r}}return e}var Fr=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this)).Qt=e,a.currentSequenceNumber=r,a}return n}(Ir);function Ur(e,t){var n=P(e);return Nr.St(n.Qt,t)}var Vr=function(){function e(t,n,r,a){Object(v.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=a}return Object(m.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var a=this.mutations[r];a.key.isEqual(e.key)&&Ft(a,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Object(u.a)(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Ut(r,e,this.localWriteTime)}}catch(s){n.e(s)}finally{n.f()}var a,i=Object(u.a)(this.mutations);try{for(i.s();!(a=i.n()).done;){var o=a.value;o.key.isEqual(e.key)&&Ut(o,e,this.localWriteTime)}}catch(s){i.e(s)}finally{i.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),a=r;t.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(X.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),pn())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Y(this.mutations,e.mutations,(function(e,t){return Bt(e,t)}))&&Y(this.baseMutations,e.baseMutations,(function(e,t){return Bt(e,t)}))}}]),e}(),Br=function(){function e(t,n,r,a){Object(v.a)(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=a}return Object(m.a)(e,null,[{key:"from",value:function(t,n,r){R(t.mutations.length===r.length);for(var a=hn(),i=t.mutations,o=0;o<i.length;o++)a=a.insert(i[o].key,r[o].version);return new e(t,n,r,a)}}]),e}(),qr=function(){function e(t,n,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:X.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:X.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:se.EMPTY_BYTE_STRING;Object(v.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(m.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),zr=function e(t){Object(v.a)(this,e),this.Wt=t};function Kr(e,t){if(t.document)return qn(e.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=be.fromSegments(t.noDocument.path),r=Yr(t.noDocument.readTime),a=De.newNoDocument(n,r);return t.hasCommittedMutations?a.setHasCommittedMutations():a}if(t.unknownDocument){var i=be.fromSegments(t.unknownDocument.path),o=Yr(t.unknownDocument.version);return De.newUnknownDocument(i,o)}return A()}function Hr(e,t,n){var r=Wr(n),a=t.key.path.popLast().toArray();if(t.isFoundDocument()){var i=function(e,t){return{name:Pn(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Sn(e,t.version.toTimestamp())}}(e.Wt,t),o=t.hasCommittedMutations;return new mr(null,null,i,o,r,a)}if(t.isNoDocument()){var u=t.key.path.toArray(),s=Qr(t.version),c=t.hasCommittedMutations;return new mr(null,new pr(u,s),null,c,r,a)}if(t.isUnknownDocument()){var l=t.key.path.toArray(),f=Qr(t.version);return new mr(new vr(l,f),null,null,!0,r,a)}return A()}function Wr(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Gr(e){var t=new J(e[0],e[1]);return X.fromTimestamp(t)}function Qr(e){var t=e.toTimestamp();return new cr(t.seconds,t.nanoseconds)}function Yr(e){var t=new J(e.seconds,e.nanoseconds);return X.fromTimestamp(t)}function $r(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Hn(e.Wt,t)})),r=0;r<t.mutations.length-1;++r){var a=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var i=t.mutations[r+1];a.updateTransforms=i.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return Hn(e.Wt,t)})),u=J.fromMillis(t.localWriteTimeMs);return new Vr(t.batchId,u,n,o)}function Jr(e){var t,n,r=Yr(e.readTime),a=void 0!==e.lastLimboFreeSnapshotVersion?Yr(e.lastLimboFreeSnapshotVersion):X.min();return void 0!==e.query.documents?(R(1===(n=e.query).documents.length),t=lt(rt(Fn(n.documents[0])))):t=function(e){return lt(Qn(e))}(e.query),new qr(t,e.targetId,0,e.lastListenSequenceNumber,r,a,se.fromBase64String(e.resumeToken))}function Xr(e,t){var n,r=Qr(t.snapshotVersion),a=Qr(t.lastLimboFreeSnapshotVersion);n=Ue(t.target)?Wn(e.Wt,t.target):Gn(e.Wt,t.target);var i=t.resumeToken.toBase64();return new br(t.targetId,Me(t.target),r,i,t.sequenceNumber,a,n)}function Zr(e){var t=Qn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ft(t,t.limit,"L"):t}var ea=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"getBundleMetadata",value:function(e,t){return ta(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Yr(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return ta(e).put({bundleId:(n=t).id,createTime:Qr(An(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return na(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Zr(t.bundledQuery),readTime:Yr(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return na(e).put(function(e){return{name:e.name,readTime:Qr(An(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function ta(e){return Ur(e,jr.store)}function na(e){return Ur(e,xr.store)}var ra=function(){function e(){Object(v.a)(this,e),this.Gt=new aa}return Object(m.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.Gt.add(t),Tr.resolve()}},{key:"getCollectionParents",value:function(e,t){return Tr.resolve(this.Gt.getEntries(t))}}]),e}(),aa=function(){function e(){Object(v.a)(this,e),this.index={}}return Object(m.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new an(re.comparator),a=!r.has(n);return this.index[t]=r.add(n),a}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new an(re.comparator)).toArray()}}]),e}(),ia=function(){function e(){Object(v.a)(this,e),this.zt=new aa}return Object(m.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.zt.has(t)){var r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((function(){n.zt.add(t)}));var i={collectionId:r,parent:ir(a)};return oa(e).put(i)}return Tr.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[$(t),""],!1,!0);return oa(e).Lt(r).next((function(e){var r,a=Object(u.a)(e);try{for(a.s();!(r=a.n()).done;){var i=r.value;if(i.collectionId!==t)break;n.push(sr(i.parent))}}catch(o){a.e(o)}finally{a.f()}return n}))}}]),e}();function oa(e){return Ur(e,wr.store)}var ua={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sa=function(){function e(t,n,r){Object(v.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(m.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function ca(e,t,n){var r=e.store(hr.store),a=e.store(dr.store),i=[],o=IDBKeyRange.only(n.batchId),s=0,c=r.Kt({range:o},(function(e,t,n){return s++,n.delete()}));i.push(c.next((function(){R(1===s)})));var l,f=[],h=Object(u.a)(n.mutations);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=dr.key(t,d.key.path,n.batchId);i.push(a.delete(p)),f.push(d.key)}}catch(v){h.e(v)}finally{h.f()}return Tr.waitFor(i).next((function(){return f}))}function la(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw A();t=e.noDocument}return JSON.stringify(t).length}sa.DEFAULT_COLLECTION_PERCENTILE=10,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sa.DEFAULT=new sa(41943040,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sa.DISABLED=new sa(-1,0,0);var fa=function(){function e(t,n,r,a){Object(v.a)(this,e),this.userId=t,this.N=n,this.Ht=r,this.referenceDelegate=a,this.Jt={}}return Object(m.a)(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return da(e).Kt({index:hr.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this,i=pa(e),o=da(e);return o.add({}).next((function(s){R("number"==typeof s);var c,l=new Vr(s,t,n,r),f=function(e,t,n){var r=n.baseMutations.map((function(t){return Kn(e.Wt,t)})),a=n.mutations.map((function(t){return Kn(e.Wt,t)}));return new hr(t,n.batchId,n.localWriteTime.toMillis(),r,a)}(a.N,a.userId,l),h=[],d=new an((function(e,t){return Q(e.canonicalString(),t.canonicalString())})),p=Object(u.a)(r);try{for(p.s();!(c=p.n()).done;){var v=c.value,m=dr.key(a.userId,v.key.path,s);d=d.add(v.key.path.popLast()),h.push(o.put(f)),h.push(i.put(m,dr.PLACEHOLDER))}}catch(y){p.e(y)}finally{p.f()}return d.forEach((function(t){h.push(a.Ht.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){a.Jt[s]=l.keys()})),Tr.waitFor(h).next((function(){return l}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return da(e).get(t).next((function(e){return e?(R(e.userId===n.userId),$r(n.N,e)):null}))}},{key:"Xt",value:function(e,t){var n=this;return this.Jt[t]?Tr.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Jt[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]),i=null;return da(e).Kt({index:hr.userMutationsIndex,range:a},(function(e,t,a){t.userId===n.userId&&(R(t.batchId>=r),i=$r(n.N,t)),a.done()})).next((function(){return i}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return da(e).Kt({index:hr.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return da(e).Lt(hr.userMutationsIndex,n).next((function(e){return e.map((function(e){return $r(t.N,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=dr.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),i=[];return pa(e).Kt({range:a},(function(r,a,u){var s=Object(o.a)(r,3),c=s[0],l=s[1],f=s[2],h=sr(l);if(c===n.userId&&t.path.isEqual(h))return da(e).get(f).next((function(e){if(!e)throw A();R(e.userId===n.userId),i.push($r(n.N,e))}));u.done()})).next((function(){return i}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new an(Q),a=[];return t.forEach((function(t){var i=dr.prefixForPath(n.userId,t.path),u=IDBKeyRange.lowerBound(i),s=pa(e).Kt({range:u},(function(e,a,i){var u=Object(o.a)(e,3),s=u[0],c=u[1],l=u[2],f=sr(c);s===n.userId&&t.path.isEqual(f)?r=r.add(l):i.done()}));a.push(s)})),Tr.waitFor(a).next((function(){return n.Zt(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,a=r.length+1,i=dr.prefixForPath(this.userId,r),u=IDBKeyRange.lowerBound(i),s=new an(Q);return pa(e).Kt({range:u},(function(e,t,i){var u=Object(o.a)(e,3),c=u[0],l=u[1],f=u[2],h=sr(l);c===n.userId&&r.isPrefixOf(h)?h.length===a&&(s=s.add(f)):i.done()})).next((function(){return n.Zt(e,s)}))}},{key:"Zt",value:function(e,t){var n=this,r=[],a=[];return t.forEach((function(t){a.push(da(e).get(t).next((function(e){if(null===e)throw A();R(e.userId===n.userId),r.push($r(n.N,e))})))})),Tr.waitFor(a).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return ca(e.Qt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.te(t.batchId)})),Tr.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"te",value:function(e){delete this.Jt[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return Tr.resolve();var r=IDBKeyRange.lowerBound(dr.prefixForUser(t.userId)),a=[];return pa(e).Kt({range:r},(function(e,n,r){if(e[0]===t.userId){var i=sr(e[1]);a.push(i)}else r.done()})).next((function(){R(0===a.length)}))}))}},{key:"containsKey",value:function(e,t){return ha(e,this.userId,t)}},{key:"ee",value:function(e){var t=this;return va(e).get(this.userId).next((function(e){return e||new fr(t.userId,-1,"")}))}}],[{key:"Yt",value:function(t,n,r,a){return R(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,a)}}]),e}();function ha(e,t,n){var r=dr.prefixForPath(t,n.path),a=r[1],i=IDBKeyRange.lowerBound(r),u=!1;return pa(e).Kt({range:i,qt:!0},(function(e,n,r){var i=Object(o.a)(e,3),s=i[0],c=i[1];i[2];s===t&&c===a&&(u=!0),r.done()})).next((function(){return u}))}function da(e){return Ur(e,hr.store)}function pa(e){return Ur(e,dr.store)}function va(e){return Ur(e,fr.store)}var ma=function(){function e(t){Object(v.a)(this,e),this.ne=t}return Object(m.a)(e,[{key:"next",value:function(){return this.ne+=2,this.ne}}],[{key:"se",value:function(){return new e(0)}},{key:"ie",value:function(){return new e(-1)}}]),e}(),ya=function(){function e(t,n){Object(v.a)(this,e),this.referenceDelegate=t,this.N=n}return Object(m.a)(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.re(e).next((function(n){var r=new ma(n.highestTargetId);return n.highestTargetId=r.next(),t.oe(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.re(e).next((function(e){return X.fromTimestamp(new J(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.re(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.re(e).next((function(a){return a.highestListenSequenceNumber=t,n&&(a.lastRemoteSnapshotVersion=n.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),r.oe(e,a)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.ce(e,t).next((function(){return n.re(e).next((function(r){return r.targetCount+=1,n.ae(t,r),n.oe(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.ce(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return ba(e).delete(t.targetId)})).next((function(){return n.re(e)})).next((function(t){return R(t.targetCount>0),t.targetCount-=1,n.oe(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,a=0,i=[];return ba(e).Kt((function(o,u){var s=Jr(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(a++,i.push(r.removeTargetData(e,s)))})).next((function(){return Tr.waitFor(i)})).next((function(){return a}))}},{key:"forEachTarget",value:function(e,t){return ba(e).Kt((function(e,n){var r=Jr(n);t(r)}))}},{key:"re",value:function(e){return ga(e).get(kr.key).next((function(e){return R(null!==e),e}))}},{key:"oe",value:function(e,t){return ga(e).put(kr.key,t)}},{key:"ce",value:function(e,t){return ba(e).put(Xr(this.N,t))}},{key:"ae",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.re(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Me(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),a=null;return ba(e).Kt({range:r,index:br.queryTargetsIndexName},(function(e,n,r){var i=Jr(n);Fe(t,i.target)&&(a=i,r.done())})).next((function(){return a}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,a=[],i=ka(e);return t.forEach((function(t){var o=ir(t.path);a.push(i.put(new gr(n,o))),a.push(r.referenceDelegate.addReference(e,n,t))})),Tr.waitFor(a)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,a=ka(e);return Tr.forEach(t,(function(t){var i=ir(t.path);return Tr.waitFor([a.delete([n,i]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=ka(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=ka(e),a=pn();return r.Kt({range:n,qt:!0},(function(e,t,n){var r=sr(e[1]),i=new be(r);a=a.add(i)})).next((function(){return a}))}},{key:"containsKey",value:function(e,t){var n=ir(t.path),r=IDBKeyRange.bound([n],[$(n)],!1,!0),a=0;return ka(e).Kt({index:gr.documentTargetsIndex,qt:!0,range:r},(function(e,t,n){var r=Object(o.a)(e,2),i=r[0];r[1];0!==i&&(a++,n.done())})).next((function(){return a>0}))}},{key:"Tt",value:function(e,t){return ba(e).get(t).next((function(e){return e?Jr(e):null}))}}]),e}();function ba(e){return Ur(e,br.store)}function ga(e){return Ur(e,kr.store)}function ka(e){return Ur(e,gr.store)}function wa(e){return Oa.apply(this,arguments)}function Oa(){return(Oa=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===L.FAILED_PRECONDITION&&t.message===Er){e.next=2;break}throw t;case 2:T("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ja(e,t){var n=Object(o.a)(e,2),r=n[0],a=n[1],i=Object(o.a)(t,2),u=i[0],s=i[1],c=Q(r,u);return 0===c?Q(a,s):c}var xa=function(){function e(t){Object(v.a)(this,e),this.ue=t,this.buffer=new an(ja),this.he=0}return Object(m.a)(e,[{key:"le",value:function(){return++this.he}},{key:"fe",value:function(e){var t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();ja(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),_a=function(){function e(t,n){Object(v.a)(this,e),this.garbageCollector=t,this.asyncQueue=n,this.de=!1,this.we=null}return Object(m.a)(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}},{key:"stop",value:function(){this.we&&(this.we.cancel(),this.we=null)}},{key:"started",get:function(){return null!==this.we}},{key:"_e",value:function(e){var t=this,n=this.de?3e5:6e4;T("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.we=null,t.de=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!Rr(n.t0)){n.next=12;break}T("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,wa(n.t0);case 14:return n.next=16,t._e(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),Ea=function(){function e(t,n){Object(v.a)(this,e),this.me=t,this.params=n}return Object(m.a)(e,[{key:"calculateTargetCount",value:function(e,t){return this.me.ge(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return Tr.resolve(H.T);var r=new xa(t);return this.me.forEachTarget(e,(function(e){return r.fe(e.sequenceNumber)})).next((function(){return n.me.ye(e,(function(e){return r.fe(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.me.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.me.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; disabled"),Tr.resolve(ua)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(T("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),ua):n.pe(e,t)}))}},{key:"getCacheSize",value:function(e){return this.me.getCacheSize(e)}},{key:"pe",value:function(e,t){var n,r,a,i,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(T("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,i=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return a=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),E()<=g.a.DEBUG&&T("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(i-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-i)+"ms\n"+"\tRemoved ".concat(a," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),Tr.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:e})}))}}]),e}(),Ia=function(){function e(t,n){Object(v.a)(this,e),this.db=t,this.garbageCollector=function(e,t){return new Ea(e,t)}(this,n)}return Object(m.a)(e,[{key:"ge",value:function(e){var t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"Te",value:function(e){var t=0;return this.ye(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"ye",value:function(e,t){return this.Ee(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return Ta(e,n)}},{key:"removeReference",value:function(e,t,n){return Ta(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return Ta(e,t)}},{key:"Ie",value:function(e,t){return function(e,t){var n=!1;return va(e).jt((function(r){return ha(e,r,t).next((function(e){return e&&(n=!0),Tr.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[],i=0;return this.Ee(e,(function(o,u){if(u<=t){var s=n.Ie(e,o).next((function(t){if(!t)return i++,r.getEntry(e,o).next((function(){return r.removeEntry(o),ka(e).delete([0,ir(o.path)])}))}));a.push(s)}})).next((function(){return Tr.waitFor(a)})).next((function(){return r.apply(e)})).next((function(){return i}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return Ta(e,t)}},{key:"Ee",value:function(e,t){var n,r=ka(e),a=H.T;return r.Kt({index:gr.documentTargetsIndex},(function(e,r){var i=Object(o.a)(e,2),u=i[0],s=(i[1],r.path),c=r.sequenceNumber;0===u?(a!==H.T&&t(new be(sr(n)),a),a=c,n=s):a=H.T})).next((function(){a!==H.T&&t(new be(sr(n)),a)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function Ta(e,t){return ka(e).put(function(e,t){return new gr(0,ir(e.path),t)}(t,e.currentSequenceNumber))}var Sa=function(){function e(t,n){Object(v.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={}}return Object(m.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,a=Object(u.a)(n);try{for(a.s();!(r=a.n()).done;){var i=Object(o.a)(r.value,2),s=i[0],c=i[1];if(this.equalsFn(s,e))return c}}catch(l){a.e(l)}finally{a.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1}},{key:"forEach",value:function(e){ee(this.inner,(function(t,n){var r,a=Object(u.a)(n);try{for(a.s();!(r=a.n()).done;){var i=Object(o.a)(r.value,2),s=i[0],c=i[1];e(s,c)}}catch(l){a.e(l)}finally{a.f()}}))}},{key:"isEmpty",value:function(){return te(this.inner)}}]),e}(),Na=function(){function e(){Object(v.a)(this,e),this.changes=new Sa((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Object(m.a)(e,[{key:"getReadTime",value:function(e){var t=this.changes.get(e);return t?t.readTime:X.min()}},{key:"addEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}},{key:"removeEntry",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.assertNotApplied(),this.changes.set(e,{document:De.newInvalidDocument(e),readTime:t})}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Tr.resolve(n.document):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),Ca=function(){function e(t,n){Object(v.a)(this,e),this.N=t,this.Ht=n}return Object(m.a)(e,[{key:"addEntry",value:function(e,t,n){return Da(e).put(Pa(t),n)}},{key:"removeEntry",value:function(e,t){var n=Da(e),r=Pa(t);return n.delete(r)}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Ae(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this;return Da(e).get(Pa(t)).next((function(e){return n.Re(t,e)}))}},{key:"be",value:function(e,t){var n=this;return Da(e).get(Pa(t)).next((function(e){return{document:n.Re(t,e),size:la(e)}}))}},{key:"getEntries",value:function(e,t){var n=this,r=sn();return this.Pe(e,t,(function(e,t){var a=n.Re(e,t);r=r.insert(e,a)})).next((function(){return r}))}},{key:"ve",value:function(e,t){var n=this,r=sn(),a=new tn(be.comparator);return this.Pe(e,t,(function(e,t){var i=n.Re(e,t);r=r.insert(e,i),a=a.insert(e,la(t))})).next((function(){return{documents:r,Ve:a}}))}},{key:"Pe",value:function(e,t,n){if(t.isEmpty())return Tr.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),a=t.getIterator(),i=a.getNext();return Da(e).Kt({range:r},(function(e,t,r){for(var o=be.fromSegments(e);i&&be.comparator(i,o)<0;)n(i,null),i=a.getNext();i&&i.isEqual(o)&&(n(i,t),i=a.hasNext()?a.getNext():null),i?r.Mt(i.path.toArray()):r.done()})).next((function(){for(;i;)n(i,null),i=a.hasNext()?a.getNext():null}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){var r=this,a=sn(),i=t.path.length+1,o={};if(n.isEqual(X.min())){var u=t.path.toArray();o.range=IDBKeyRange.lowerBound(u)}else{var s=t.path.toArray(),c=Wr(n);o.range=IDBKeyRange.lowerBound([s,c],!0),o.index=mr.collectionReadTimeIndex}return Da(e).Kt(o,(function(e,n,o){if(e.length===i){var u=Kr(r.N,n);t.path.isPrefixOf(u.key.path)?vt(t,u)&&(a=a.insert(u.key,u)):o.done()}})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new Aa(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return Ra(e).get(yr.key).next((function(e){return R(!!e),e}))}},{key:"Ae",value:function(e,t){return Ra(e).put(yr.key,t)}},{key:"Re",value:function(e,t){if(t){var n=Kr(this.N,t);if(!n.isNoDocument()||!n.version.isEqual(X.min()))return n}return De.newInvalidDocument(e)}}]),e}(),Aa=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this)).Se=e,a.trackRemovals=r,a.De=new Sa((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),a}return Object(m.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,a=new an((function(e,t){return Q(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(i,o){var u=t.De.get(i);if(o.document.isValidDocument()){var s=Hr(t.Se.N,o.document,t.getReadTime(i));a=a.add(i.path.popLast());var c=la(s);r+=c-u,n.push(t.Se.addEntry(e,i,s))}else if(r-=u,t.trackRemovals){var l=Hr(t.Se.N,De.newNoDocument(i,X.min()),t.getReadTime(i));n.push(t.Se.addEntry(e,i,l))}else n.push(t.Se.removeEntry(e,i))})),a.forEach((function(r){n.push(t.Se.Ht.addToCollectionParentIndex(e,r))})),n.push(this.Se.updateMetadata(e,r)),Tr.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Se.be(e,t).next((function(e){return n.De.set(t,e.size),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Se.ve(e,t).next((function(e){var t=e.documents;return e.Ve.forEach((function(e,t){n.De.set(e,t)})),t}))}}]),n}(Na);function Ra(e){return Ur(e,yr.store)}function Da(e){return Ur(e,mr.store)}function Pa(e){return e.path.toArray()}var La=function(){function e(t){Object(v.a)(this,e),this.N=t}return Object(m.a)(e,[{key:"Ct",value:function(e,t,n,r){var a=this;R(n<r&&n>=0&&r<=11);var i=new Sr("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(lr.store)}(e),function(e){e.createObjectStore(fr.store,{keyPath:fr.keyPath}),e.createObjectStore(hr.store,{keyPath:hr.keyPath,autoIncrement:!0}).createIndex(hr.userMutationsIndex,hr.userMutationsKeyPath,{unique:!0}),e.createObjectStore(dr.store)}(e),Ma(e),function(e){e.createObjectStore(mr.store)}(e));var o=Tr.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(gr.store),e.deleteObjectStore(br.store),e.deleteObjectStore(kr.store)}(e),Ma(e)),o=o.next((function(){return function(e){var t=e.store(kr.store),n=new kr(0,0,X.min().toTimestamp(),0);return t.put(kr.key,n)}(i)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store(hr.store).Lt().next((function(n){e.deleteObjectStore(hr.store),e.createObjectStore(hr.store,{keyPath:hr.keyPath,autoIncrement:!0}).createIndex(hr.userMutationsIndex,hr.userMutationsKeyPath,{unique:!0});var r=t.store(hr.store),a=n.map((function(e){return r.put(e)}));return Tr.waitFor(a)}))}(e,i)}))),o=o.next((function(){!function(e){e.createObjectStore(Or.store,{keyPath:Or.keyPath})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return a.Ce(i)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore(yr.store)}(e),a.Ne(i)}))),n<7&&r>=7&&(o=o.next((function(){return a.xe(i)}))),n<8&&r>=8&&(o=o.next((function(){return a.ke(e,i)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(mr.store);t.createIndex(mr.readTimeIndex,mr.readTimeIndexPath,{unique:!1}),t.createIndex(mr.collectionReadTimeIndex,mr.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(o=o.next((function(){return a.$e(i)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore(jr.store,{keyPath:jr.keyPath})}(e),function(e){e.createObjectStore(xr.store,{keyPath:xr.keyPath})}(e)}))),o}},{key:"Ne",value:function(e){var t=0;return e.store(mr.store).Kt((function(e,n){t+=la(n)})).next((function(){var n=new yr(t);return e.store(yr.store).put(yr.key,n)}))}},{key:"Ce",value:function(e){var t=this,n=e.store(fr.store),r=e.store(hr.store);return n.Lt().next((function(n){return Tr.forEach(n,(function(n){var a=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Lt(hr.userMutationsIndex,a).next((function(r){return Tr.forEach(r,(function(r){R(r.userId===n.userId);var a=$r(t.N,r);return ca(e,n.userId,a).next((function(){}))}))}))}))}))}},{key:"xe",value:function(e){var t=e.store(gr.store),n=e.store(mr.store);return e.store(kr.store).get(kr.key).next((function(e){var r=[];return n.Kt((function(n,a){var i=new re(n),o=function(e){return[0,ir(e)]}(i);r.push(t.get(o).next((function(n){return n?Tr.resolve():function(n){return t.put(new gr(0,ir(n),e.highestListenSequenceNumber))}(i)})))})).next((function(){return Tr.waitFor(r)}))}))}},{key:"ke",value:function(e,t){e.createObjectStore(wr.store,{keyPath:wr.keyPath});var n=t.store(wr.store),r=new aa,a=function(e){if(r.add(e)){var t=e.lastSegment(),a=e.popLast();return n.put({collectionId:t,parent:ir(a)})}};return t.store(mr.store).Kt({qt:!0},(function(e,t){var n=new re(e);return a(n.popLast())})).next((function(){return t.store(dr.store).Kt({qt:!0},(function(e,t){var n=Object(o.a)(e,3),r=(n[0],n[1]),i=(n[2],sr(r));return a(i.popLast())}))}))}},{key:"$e",value:function(e){var t=this,n=e.store(br.store);return n.Kt((function(e,r){var a=Jr(r),i=Xr(t.N,a);return n.put(i)}))}}]),e}();function Ma(e){e.createObjectStore(gr.store,{keyPath:gr.keyPath}).createIndex(gr.documentTargetsIndex,gr.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(br.store,{keyPath:br.keyPath}).createIndex(br.queryTargetsIndexName,br.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(kr.store)}var Fa="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Ua=function(){function e(t,n,r,a,i,o,u,s,c,l){if(Object(v.a)(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Oe=i,this.window=o,this.document=u,this.Fe=c,this.Me=l,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=function(e){return Promise.resolve()},!e.bt())throw new M(L.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ia(this,a),this.We=n+"main",this.N=new zr(s),this.Ge=new Nr(this.We,11,new La(this.N)),this.ze=new ya(this.referenceDelegate,this.N),this.Ht=new ia,this.He=function(e,t){return new Ca(e,t)}(this.N,this.Ht),this.Je=new ea,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===l&&S("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Object(m.a)(e,[{key:"start",value:function(){var e=this;return this.Xe().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new M(L.FAILED_PRECONDITION,Fa);return e.Ze(),e.tn(),e.en(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.ze.getHighestSequenceNumber(t)}))})).then((function(t){e.Le=new H(t,e.Fe)})).then((function(){e.Be=!0})).catch((function(t){return e.Ge&&e.Ge.close(),Promise.reject(t)}))}},{key:"nn",value:function(e){var t=this;return this.Qe=function(){var n=Object(l.a)(c.a.mark((function n(r){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.Ge.xt(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.Xe();case 4:case"end":return e.stop()}}),e)})))))}},{key:"Xe",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ba(t).put(new Or(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.sn(t).next((function(t){t||(e.isPrimary=!1,e.Oe.enqueueRetryable((function(){return e.Qe(!1)})))}))})).next((function(){return e.rn(t)})).next((function(n){return e.isPrimary&&!n?e.on(t).next((function(){return!1})):!!n&&e.cn(t).next((function(){return!0}))}))})).catch((function(t){if(Rr(t))return T("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return T("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Oe.enqueueRetryable((function(){return e.Qe(t)})),e.isPrimary=t}))}},{key:"sn",value:function(e){var t=this;return Va(e).get(lr.key).next((function(e){return Tr.resolve(t.an(e))}))}},{key:"un",value:function(e){return Ba(e).delete(this.clientId)}},{key:"hn",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,a,i=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.ln(this.je,18e5)){e.next=6;break}return this.je=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ur(e,Or.store);return t.Lt().next((function(e){var n=i.fn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return Tr.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.Ye){n=Object(u.a)(t);try{for(n.s();!(r=n.n()).done;)a=r.value,this.Ye.removeItem(this.dn(a.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"en",value:function(){var e=this;this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.Xe().then((function(){return e.hn()})).then((function(){return e.en()}))}))}},{key:"an",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"rn",value:function(e){var t=this;return this.Me?Tr.resolve(!0):Va(e).get(lr.key).next((function(n){if(null!==n&&t.ln(n.leaseTimestampMs,5e3)&&!t.wn(n.ownerId)){if(t.an(n)&&t.networkEnabled)return!0;if(!t.an(n)){if(!n.allowTabSynchronization)throw new M(L.FAILED_PRECONDITION,Fa);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ba(e).Lt().next((function(e){return void 0===t.fn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,a=t.networkEnabled===e.networkEnabled;if(n||r&&a)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&T("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Be=!1,this._n(),this.Ke&&(this.Ke.cancel(),this.Ke=null),this.mn(),this.gn(),e.next=7,this.Ge.runTransaction("shutdown","readwrite",[lr.store,Or.store],(function(e){var n=new Fr(e,H.T);return t.on(n).next((function(){return t.un(n)}))}));case 7:this.Ge.close(),this.yn();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fn",value:function(e,t){var n=this;return e.filter((function(e){return n.ln(e.updateTimeMs,t)&&!n.wn(e.clientId)}))}},{key:"pn",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ba(t).Lt().next((function(t){return e.fn(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.Be}},{key:"getMutationQueue",value:function(e){return fa.Yt(e,this.N,this.Ht,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;T("IndexedDbPersistence","Starting transaction:",e);var a,i="readonly"===t?"readonly":"readwrite";return this.Ge.runTransaction(e,i,_r,(function(i){return a=new Fr(i,r.Le?r.Le.next():H.T),"readwrite-primary"===t?r.sn(a).next((function(e){return!!e||r.rn(a)})).next((function(t){if(!t)throw S("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Oe.enqueueRetryable((function(){return r.Qe(!1)})),new M(L.FAILED_PRECONDITION,Er);return n(a)})).next((function(e){return r.cn(a).next((function(){return e}))})):r.Tn(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Tn",value:function(e){var t=this;return Va(e).get(lr.key).next((function(e){if(null!==e&&t.ln(e.leaseTimestampMs,5e3)&&!t.wn(e.ownerId)&&!t.an(e)&&!(t.Me||t.allowTabSynchronization&&e.allowTabSynchronization))throw new M(L.FAILED_PRECONDITION,Fa)}))}},{key:"cn",value:function(e){var t=new lr(this.clientId,this.allowTabSynchronization,Date.now());return Va(e).put(lr.key,t)}},{key:"on",value:function(e){var t=this,n=Va(e);return n.get(lr.key).next((function(e){return t.an(e)?(T("IndexedDbPersistence","Releasing primary lease."),n.delete(lr.key)):Tr.resolve()}))}},{key:"ln",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(S("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"Ze",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=function(){e.Oe.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.Xe()}))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}},{key:"mn",value:function(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}},{key:"tn",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=function(){t._n(),Object(k.x)()&&navigator.appVersion.match("Version/14")&&t.Oe.enterRestrictedMode(!0),t.Oe.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.Ue))}},{key:"gn",value:function(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}},{key:"wn",value:function(e){var t;try{var n=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return T("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return S("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"_n",value:function(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){S("Failed to set zombie client id.",e)}}},{key:"yn",value:function(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}},{key:"dn",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"bt",value:function(){return Nr.bt()}}]),e}();function Va(e){return Ur(e,lr.store)}function Ba(e){return Ur(e,Or.store)}function qa(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var za=function e(t,n){Object(v.a)(this,e),this.progress=t,this.En=n},Ka=function(){function e(t,n,r){Object(v.a)(this,e),this.He=t,this.In=n,this.Ht=r}return Object(m.a)(e,[{key:"An",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Rn(e,t,r)}))}},{key:"Rn",value:function(e,t,n){return this.He.getEntry(e,t).next((function(e){var t,r=Object(u.a)(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(a){r.e(a)}finally{r.f()}return e}))}},{key:"bn",value:function(e,t){e.forEach((function(e,n){var r,a=Object(u.a)(t);try{for(a.s();!(r=a.n()).done;){r.value.applyToLocalView(n)}}catch(i){a.e(i)}finally{a.f()}}))}},{key:"Pn",value:function(e,t){var n=this;return this.He.getEntries(e,t).next((function(t){return n.vn(e,t).next((function(){return t}))}))}},{key:"vn",value:function(e,t){var n=this;return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.bn(t,e)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return be.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Vn(e,t.path):st(t)?this.Sn(e,t,n):this.Dn(e,t,n)}},{key:"Vn",value:function(e,t){return this.An(e,new be(t)).next((function(e){var t=ln();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Sn",value:function(e,t,n){var r=this,a=t.collectionGroup,i=ln();return this.Ht.getCollectionParents(e,a).next((function(o){return Tr.forEach(o,(function(o){var u=function(e,t){return new tt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(a));return r.Dn(e,u,n).next((function(e){e.forEach((function(e,t){i=i.insert(e,t)}))}))})).next((function(){return i}))}))}},{key:"Dn",value:function(e,t,n){var r,a,i=this;return this.He.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,i.In.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return a=t,i.Cn(e,a,r).next((function(e){r=e;var t,n=Object(u.a)(a);try{for(n.s();!(t=n.n()).done;){var i,o=t.value,s=Object(u.a)(o.mutations);try{for(s.s();!(i=s.n()).done;){var c=i.value,l=c.key,f=r.get(l);null==f&&(f=De.newInvalidDocument(l),r=r.insert(l,f)),Ut(c,f,o.localWriteTime),f.isFoundDocument()||(r=r.remove(l))}}catch(h){s.e(h)}finally{s.f()}}}catch(h){n.e(h)}finally{n.f()}}))})).next((function(){return r.forEach((function(e,n){vt(t,n)||(r=r.remove(e))})),r}))}},{key:"Cn",value:function(e,t,n){var r,a=pn(),i=Object(u.a)(t);try{for(i.s();!(r=i.n()).done;){var o,s=r.value,c=Object(u.a)(s.mutations);try{for(c.s();!(o=c.n()).done;){var l=o.value;l instanceof Kt&&null===n.get(l.key)&&(a=a.add(l.key))}}catch(h){c.e(h)}finally{c.f()}}}catch(h){i.e(h)}finally{i.f()}var f=n;return this.He.getEntries(e,a).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(f=f.insert(e,t))})),f}))}}]),e}(),Ha=function(){function e(t,n,r,a){Object(v.a)(this,e),this.targetId=t,this.fromCache=n,this.Nn=r,this.xn=a}return Object(m.a)(e,null,[{key:"kn",value:function(t,n){var r,a=pn(),i=pn(),o=Object(u.a)(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:a=a.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}}catch(c){o.e(c)}finally{o.f()}return new e(t,n.fromCache,a,i)}}]),e}(),Wa=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"$n",value:function(e){this.On=e}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var a=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(X.min())?this.Fn(e,t):this.On.Pn(e,r).next((function(i){var o=a.Mn(t,i);return(at(t)||it(t))&&a.Ln(t.limitType,o,r,n)?a.Fn(e,t):(E()<=g.a.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),pt(t)),a.On.getDocumentsMatchingQuery(e,t,n).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"Mn",value:function(e,t){var n=new an(mt(e));return t.forEach((function(t,r){vt(e,r)&&(n=n.add(r))})),n}},{key:"Ln",value:function(e,t,n,r){if(n.size!==t.size)return!0;var a="F"===e?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}},{key:"Fn",value:function(e,t){return E()<=g.a.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",pt(t)),this.On.getDocumentsMatchingQuery(e,t,X.min())}}]),e}(),Ga=function(){function e(t,n,r,a){Object(v.a)(this,e),this.persistence=t,this.Bn=n,this.N=a,this.Un=new tn(Q),this.qn=new Sa((function(e){return Me(e)}),Fe),this.Kn=X.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Ka(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}return Object(m.a)(e,[{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Un)}))}}]),e}();function Qa(e,t,n,r){return new Ga(e,t,n,r)}function Ya(e,t){return $a.apply(this,arguments)}function $a(){return($a=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),a=r.In,i=r.Qn,e.next=4,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.In.getAllMutationBatches(e).next((function(o){return t=o,a=r.persistence.getMutationQueue(n),i=new Ka(r.jn,a,r.persistence.getIndexManager()),a.getAllMutationBatches(e)})).next((function(n){var r,a=[],o=[],s=pn(),c=Object(u.a)(t);try{for(c.s();!(r=c.n()).done;){var l=r.value;a.push(l.batchId);var f,h=Object(u.a)(l.mutations);try{for(h.s();!(f=h.n()).done;){var d=f.value;s=s.add(d.key)}}catch(k){h.e(k)}finally{h.f()}}}catch(k){c.e(k)}finally{c.f()}var p,v=Object(u.a)(n);try{for(v.s();!(p=v.n()).done;){var m=p.value;o.push(m.batchId);var y,b=Object(u.a)(m.mutations);try{for(b.s();!(y=b.n()).done;){var g=y.value;s=s.add(g.key)}}catch(k){b.e(k)}finally{b.f()}}}catch(k){v.e(k)}finally{v.f()}return i.Pn(e,s).next((function(e){return{Wn:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 4:return o=e.sent,e.abrupt("return",(r.In=a,r.Qn=i,r.Bn.$n(r.Qn),o));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ja(e,t){var n=P(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),a=n.jn.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var a=n.batch,i=a.keys(),o=Tr.resolve();return i.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var i=n.docVersions.get(e);R(null!==i),t.version.compareTo(i)<0&&(a.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),o.next((function(){return e.In.removeMutationBatch(t,a)}))}(n,e,t,a).next((function(){return a.apply(e)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}function Xa(e){var t=P(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ze.getLastRemoteSnapshotVersion(e)}))}function Za(e,t){var n=P(e),r=t.snapshotVersion,a=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var i=n.jn.newChangeBuffer({trackRemovals:!0});a=n.Un;var o=[];t.targetChanges.forEach((function(t,i){var u=a.get(i);if(u){o.push(n.ze.removeMatchingKeys(e,t.removedDocuments,i).next((function(){return n.ze.addMatchingKeys(e,t.addedDocuments,i)})));var s=t.resumeToken;if(s.approximateByteSize()>0){var c=u.withResumeToken(s,r).withSequenceNumber(e.currentSequenceNumber);a=a.insert(i,c),function(e,t,n){return R(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,t)&&o.push(n.ze.updateTargetData(e,c))}}}));var u=sn();if(t.documentUpdates.forEach((function(r,a){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(ei(e,i,t.documentUpdates,r,void 0).next((function(e){u=e}))),!r.isEqual(X.min())){var s=n.ze.getLastRemoteSnapshotVersion(e).next((function(t){return n.ze.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return Tr.waitFor(o).next((function(){return i.apply(e)})).next((function(){return n.Qn.vn(e,u)})).next((function(){return u}))})).then((function(e){return n.Un=a,e}))}function ei(e,t,n,r,a){var i=pn();return n.forEach((function(e){return i=i.add(e)})),t.getEntries(e,i).next((function(e){var i=sn();return n.forEach((function(n,o){var u=e.get(n),s=(null==a?void 0:a.get(n))||r;o.isNoDocument()&&o.version.isEqual(X.min())?(t.removeEntry(n,s),i=i.insert(n,o)):!u.isValidDocument()||o.version.compareTo(u.version)>0||0===o.version.compareTo(u.version)&&u.hasPendingWrites?(t.addEntry(o,s),i=i.insert(n,o)):T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",o.version)})),i}))}function ti(e,t){var n=P(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.In.getNextMutationBatchAfterBatchId(e,t)}))}function ni(e,t){var n=P(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.ze.getTargetData(e,t).next((function(a){return a?(r=a,Tr.resolve(r)):n.ze.allocateTargetId(e).next((function(a){return r=new qr(t,a,0,e.currentSequenceNumber),n.ze.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Un.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(e.targetId,e),n.qn.set(t,e.targetId)),e}))}function ri(e,t,n){return ai.apply(this,arguments)}function ai(){return(ai=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=P(t),i=a.Un.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,a.persistence.runTransaction("Release target",o,(function(e){return a.persistence.referenceDelegate.removeTarget(e,i)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Rr(e.t1)){e.next=12;break}throw e.t1;case 12:T("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:a.Un=a.Un.remove(n),a.qn.delete(i.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function ii(e,t,n){var r=P(e),a=X.min(),i=pn();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=P(e),a=r.qn.get(n);return void 0!==a?Tr.resolve(r.Un.get(a)):r.ze.getTargetData(t,n)}(r,e,lt(t)).next((function(t){if(t)return a=t.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(e,t.targetId).next((function(e){i=e}))})).next((function(){return r.Bn.getDocumentsMatchingQuery(e,t,n?a:X.min(),n?i:pn())})).next((function(e){return{documents:e,Gn:i}}))}))}function oi(e,t){var n=P(e),r=P(n.ze),a=n.Un.get(t);return a?Promise.resolve(a.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Tt(e,t).next((function(e){return e?e.target:null}))}))}function ui(e){var t=P(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=P(e),a=sn(),i=Wr(n),o=Da(t),u=IDBKeyRange.lowerBound(i,!0);return o.Kt({index:mr.readTimeIndex,range:u},(function(e,t){var n=Kr(r.N,t);a=a.insert(n.key,n),i=t.readTime})).next((function(){return{En:a,readTime:Gr(i)}}))}(t.jn,e,t.Kn)})).then((function(e){var n=e.En,r=e.readTime;return t.Kn=r,n}))}function si(e){return ci.apply(this,arguments)}function ci(){return(ci=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),e.abrupt("return",n.persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Da(e),n=X.min();return t.Kt({index:mr.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Gr(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){n.Kn=e})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function li(e,t,n,r){return fi.apply(this,arguments)}function fi(){return(fi=Object(l.a)(c.a.mark((function e(t,n,r,a){var i,o,s,l,f,h,d,p,v,m;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=P(t),o=pn(),s=sn(),l=hn(),f=Object(u.a)(r);try{for(f.s();!(h=f.n()).done;)d=h.value,p=n.zn(d.metadata.name),d.document&&(o=o.add(p)),s=s.insert(p,n.Hn(d)),l=l.insert(p,n.Jn(d.metadata.readTime))}catch(c){f.e(c)}finally{f.f()}return v=i.jn.newChangeBuffer({trackRemovals:!0}),e.next=7,ni(i,function(e){return lt(rt(re.fromString("__bundle__/docs/".concat(e))))}(a));case 7:return m=e.sent,e.abrupt("return",i.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return ei(e,v,s,X.min(),l).next((function(t){return v.apply(e),t})).next((function(t){return i.ze.removeMatchingKeysForTargetId(e,m.targetId).next((function(){return i.ze.addMatchingKeys(e,o,m.targetId)})).next((function(){return i.Qn.vn(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hi(e,t){return di.apply(this,arguments)}function di(){return(di=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:pn(),e.next=3,ni(t,lt(Zr(n.bundledQuery)));case 3:return a=e.sent,i=P(t),e.abrupt("return",i.persistence.runTransaction("Save named query","readwrite",(function(e){var t=An(n.readTime);if(a.snapshotVersion.compareTo(t)>=0)return i.Je.saveNamedQuery(e,n);var o=a.withResumeToken(se.EMPTY_BYTE_STRING,t);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(e,o).next((function(){return i.ze.removeMatchingKeysForTargetId(e,a.targetId)})).next((function(){return i.ze.addMatchingKeys(e,r,a.targetId)})).next((function(){return i.Je.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pi=function(){function e(t){Object(v.a)(this,e),this.N=t,this.Yn=new Map,this.Xn=new Map}return Object(m.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Tr.resolve(this.Yn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Yn.set(t.id,{id:(n=t).id,version:n.version,createTime:An(n.createTime)}),Tr.resolve()}},{key:"getNamedQuery",value:function(e,t){return Tr.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:Zr(e.bundledQuery),readTime:An(e.readTime)}}(t)),Tr.resolve()}}]),e}(),vi=function(){function e(){Object(v.a)(this,e),this.Zn=new an(mi.ts),this.es=new an(mi.ns)}return Object(m.a)(e,[{key:"isEmpty",value:function(){return this.Zn.isEmpty()}},{key:"addReference",value:function(e,t){var n=new mi(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}},{key:"ss",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.rs(new mi(e,t))}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"cs",value:function(e){var t=this,n=new be(new re([])),r=new mi(n,e),a=new mi(n,e+1),i=[];return this.es.forEachInRange([r,a],(function(e){t.rs(e),i.push(e.key)})),i}},{key:"us",value:function(){var e=this;this.Zn.forEach((function(t){return e.rs(t)}))}},{key:"rs",value:function(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}},{key:"hs",value:function(e){var t=new be(new re([])),n=new mi(t,e),r=new mi(t,e+1),a=pn();return this.es.forEachInRange([n,r],(function(e){a=a.add(e.key)})),a}},{key:"containsKey",value:function(e){var t=new mi(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),mi=function(){function e(t,n){Object(v.a)(this,e),this.key=t,this.ls=n}return Object(m.a)(e,null,[{key:"ts",value:function(e,t){return be.comparator(e.key,t.key)||Q(e.ls,t.ls)}},{key:"ns",value:function(e,t){return Q(e.ls,t.ls)||be.comparator(e.key,t.key)}}]),e}(),yi=function(){function e(t,n){Object(v.a)(this,e),this.Ht=t,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new an(mi.ts)}return Object(m.a)(e,[{key:"checkEmpty",value:function(e){return Tr.resolve(0===this.In.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var a=this.fs;this.fs++,this.In.length>0&&this.In[this.In.length-1];var i=new Vr(a,t,n,r);this.In.push(i);var o,s=Object(u.a)(r);try{for(s.s();!(o=s.n()).done;){var c=o.value;this.ds=this.ds.add(new mi(c.key,a)),this.Ht.addToCollectionParentIndex(e,c.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return Tr.resolve(i)}},{key:"lookupMutationBatch",value:function(e,t){return Tr.resolve(this.ws(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this._s(n),a=r<0?0:r;return Tr.resolve(this.In.length>a?this.In[a]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Tr.resolve(0===this.In.length?-1:this.fs-1)}},{key:"getAllMutationBatches",value:function(e){return Tr.resolve(this.In.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new mi(t,0),a=new mi(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([r,a],(function(e){var t=n.ws(e.ls);i.push(t)})),Tr.resolve(i)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new an(Q);return t.forEach((function(e){var t=new mi(e,0),a=new mi(e,Number.POSITIVE_INFINITY);n.ds.forEachInRange([t,a],(function(e){r=r.add(e.ls)}))})),Tr.resolve(this.gs(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,a=n;be.isDocumentKey(a)||(a=a.child(""));var i=new mi(new be(a),0),o=new an(Q);return this.ds.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ls)),!0)}),i),Tr.resolve(this.gs(o))}},{key:"gs",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ws(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;R(0===this.ys(t.batchId,"removed")),this.In.shift();var r=this.ds;return Tr.forEach(t.mutations,(function(a){var i=new mi(a.key,t.batchId);return r=r.delete(i),n.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((function(){n.ds=r}))}},{key:"te",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new mi(t,0),r=this.ds.firstAfterOrEqual(n);return Tr.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.In.length,Tr.resolve()}},{key:"ys",value:function(e,t){return this._s(e)}},{key:"_s",value:function(e){return 0===this.In.length?0:e-this.In[0].batchId}},{key:"ws",value:function(e){var t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}]),e}(),bi=function(){function e(t,n){Object(v.a)(this,e),this.Ht=t,this.ps=n,this.docs=new tn(be.comparator),this.size=0}return Object(m.a)(e,[{key:"addEntry",value:function(e,t,n){var r=t.key,a=this.docs.get(r),i=a?a.size:0,o=this.ps(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:o,readTime:n}),this.size+=o-i,this.Ht.addToCollectionParentIndex(e,r.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Tr.resolve(n?n.document.clone():De.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=sn();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():De.newInvalidDocument(e))})),Tr.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){for(var r=sn(),a=new be(t.path.child("")),i=this.docs.getIteratorFrom(a);i.hasNext();){var o=i.getNext(),u=o.key,s=o.value,c=s.document,l=s.readTime;if(!t.path.isPrefixOf(u.path))break;l.compareTo(n)<=0||vt(t,c)&&(r=r.insert(c.key,c.clone()))}return Tr.resolve(r)}},{key:"Ts",value:function(e,t){return Tr.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new gi(this)}},{key:"getSize",value:function(e){return Tr.resolve(this.size)}}]),e}(),gi=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).Se=e,r}return Object(m.a)(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,a){a.document.isValidDocument()?n.push(t.Se.addEntry(e,a.document,t.getReadTime(r))):t.Se.removeEntry(r)})),Tr.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Se.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Se.getEntries(e,t)}}]),n}(Na),ki=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.Es=new Sa((function(e){return Me(e)}),Fe),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Is=0,this.As=new vi,this.targetCount=0,this.Rs=ma.se()}return Object(m.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Es.forEach((function(e,n){return t(n)})),Tr.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Tr.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Tr.resolve(this.Is)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Rs.next(),Tr.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Is&&(this.Is=t),Tr.resolve()}},{key:"ce",value:function(e){this.Es.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Rs=new ma(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.ce(t),this.targetCount+=1,Tr.resolve()}},{key:"updateTargetData",value:function(e,t){return this.ce(t),Tr.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,Tr.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,a=0,i=[];return this.Es.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Es.delete(o),i.push(r.removeMatchingKeysForTargetId(e,u.targetId)),a++)})),Tr.waitFor(i).next((function(){return a}))}},{key:"getTargetCount",value:function(e){return Tr.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Es.get(t)||null;return Tr.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.As.ss(t,n),Tr.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.As.os(t,n);var r=this.persistence.referenceDelegate,a=[];return r&&t.forEach((function(t){a.push(r.markPotentiallyOrphaned(e,t))})),Tr.waitFor(a)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.As.cs(t),Tr.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.As.hs(t);return Tr.resolve(n)}},{key:"containsKey",value:function(e,t){return Tr.resolve(this.As.containsKey(t))}}]),e}(),wi=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.bs={},this.Le=new H(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new ki(this),this.Ht=new ra,this.He=function(e,t){return new bi(e,(function(e){return r.referenceDelegate.Ps(e)}))}(this.Ht),this.N=new zr(n),this.Je=new pi(this.N)}return Object(m.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Be=!1,Promise.resolve()}},{key:"started",get:function(){return this.Be}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(){return this.Ht}},{key:"getMutationQueue",value:function(e){var t=this.bs[e.toKey()];return t||(t=new yi(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}},{key:"getTargetCache",value:function(){return this.ze}},{key:"getRemoteDocumentCache",value:function(){return this.He}},{key:"getBundleCache",value:function(){return this.Je}},{key:"runTransaction",value:function(e,t,n){var r=this;T("MemoryPersistence","Starting transaction:",e);var a=new Oi(this.Le.next());return this.referenceDelegate.vs(),n(a).next((function(e){return r.referenceDelegate.Vs(a).next((function(){return e}))})).toPromise().then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"Ss",value:function(e,t){return Tr.or(Object.values(this.bs).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),Oi=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return n}(Ir),ji=function(){function e(t){Object(v.a)(this,e),this.persistence=t,this.Ds=new vi,this.Cs=null}return Object(m.a)(e,[{key:"xs",get:function(){if(this.Cs)return this.Cs;throw A()}},{key:"addReference",value:function(e,t,n){return this.Ds.addReference(n,t),this.xs.delete(n.toString()),Tr.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Ds.removeReference(n,t),this.xs.add(n.toString()),Tr.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.xs.add(t.toString()),Tr.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Ds.cs(t.targetId).forEach((function(e){return n.xs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.xs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"vs",value:function(){this.Cs=new Set}},{key:"Vs",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Tr.forEach(this.xs,(function(r){var a=be.fromPath(r);return t.ks(e,a).next((function(e){e||n.removeEntry(a)}))})).next((function(){return t.Cs=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.ks(e,t).next((function(e){e?n.xs.delete(t.toString()):n.xs.add(t.toString())}))}},{key:"Ps",value:function(e){return 0}},{key:"ks",value:function(e,t){var n=this;return Tr.or([function(){return Tr.resolve(n.Ds.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Ss(e,t)}])}}],[{key:"Ns",value:function(t){return new e(t)}}]),e}();function xi(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function _i(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function Ei(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var Ii=function(){function e(t,n,r,a){Object(v.a)(this,e),this.user=t,this.batchId=n,this.state=r,this.error=a}return Object(m.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n,r){var a,i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&((o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new M(i.error.code,i.error.message))),o?new e(t,n,i.state,a):(S("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),Ti=function(){function e(t,n,r){Object(v.a)(this,e),this.targetId=t,this.state=n,this.error=r}return Object(m.a)(e,[{key:"Os",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"$s",value:function(t,n){var r,a=JSON.parse(n),i="object"==typeof a&&-1!==["not-current","current","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return i&&a.error&&((i="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(r=new M(a.error.code,a.error.message))),i?new e(t,a.state,r):(S("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),Si=function(){function e(t,n){Object(v.a)(this,e),this.clientId=t,this.activeTargetIds=n}return Object(m.a)(e,null,[{key:"$s",value:function(t,n){for(var r=JSON.parse(n),a="object"==typeof r&&r.activeTargetIds instanceof Array,i=mn(),o=0;a&&o<r.activeTargetIds.length;++o)a=ye(r.activeTargetIds[o]),i=i.add(r.activeTargetIds[o]);return a?new e(t,i):(S("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),Ni=function(){function e(t,n){Object(v.a)(this,e),this.clientId=t,this.onlineState=n}return Object(m.a)(e,null,[{key:"$s",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(S("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),Ci=function(){function e(){Object(v.a)(this,e),this.activeTargetIds=mn()}return Object(m.a)(e,[{key:"Fs",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Ms",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Os",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Ai=function(){function e(t,n,r,a,i){Object(v.a)(this,e),this.window=t,this.Oe=n,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new tn(Q),this.started=!1,this.Ks=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=xi(this.persistenceKey,this.Ls),this.Qs=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.qs=this.qs.insert(this.Ls,new Ci),this.Ws=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.Gs=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.zs=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.Hs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Js=function(e){return"firestore_bundle_loaded_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}return Object(m.a)(e,[{key:"start",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,a,i,o,s,l,f,h,d,p=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.pn();case 2:t=e.sent,n=Object(u.a)(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((a=r.value)!==this.Ls){e.next=10;break}return e.abrupt("continue",12);case 10:(i=this.getItem(xi(this.persistenceKey,a)))&&(o=Si.$s(a,i))&&(this.qs=this.qs.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.Ys(),(s=this.storage.getItem(this.Hs))&&(l=this.Xs(s))&&this.Zs(l),f=Object(u.a)(this.Ks);try{for(f.s();!(h=f.n()).done;)d=h.value,this.Us(d)}catch(c){f.e(c)}finally{f.f()}this.Ks=[],this.window.addEventListener("pagehide",(function(){return p.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.Qs,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.ti(this.qs)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.qs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.ei(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.ei(e,t,n),this.ni(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(Ei(this.persistenceKey,e));if(n){var r=Ti.$s(e,n);r&&(t=r.state)}}return this.si.Fs(e),this.Ys(),t}},{key:"removeLocalQueryTarget",value:function(e){this.si.Ms(e),this.Ys()}},{key:"isLocalQueryTarget",value:function(e){return this.si.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(Ei(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.ii(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.ni(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.ri(e)}},{key:"notifyBundleLoaded",value:function(){this.oi()}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return T("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){T("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){T("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"Us",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(T("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void S("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable(Object(l.a)(c.a.mark((function e(){var r,a,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=41;break}if(null===n.key){e.next=39;break}if(!t.Ws.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.ci(n.key),e.abrupt("return",t.ai(r,null));case 6:if(!(a=t.ui(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.ai(a.clientId,a));case 9:e.next=39;break;case 11:if(!t.Gs.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(i=t.hi(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.li(i));case 16:e.next=39;break;case 18:if(!t.zs.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.fi(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.di(o));case 23:e.next=39;break;case 25:if(n.key!==t.Hs){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.Xs(n.newValue))){e.next=30;break}return e.abrupt("return",t.Zs(u));case 30:e.next=39;break;case 32:if(n.key!==t.Qs){e.next=37;break}(s=function(e){var t=H.T;if(null!=e)try{var n=JSON.parse(e);R("number"==typeof n),t=n}catch(e){S("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==H.T&&t.sequenceNumberHandler(s),e.next=39;break;case 37:if(n.key!==t.Js){e.next=39;break}return e.abrupt("return",t.syncEngine.wi());case 39:e.next=42;break;case 41:t.Ks.push(n);case 42:case"end":return e.stop()}}),e)}))))}}},{key:"si",get:function(){return this.qs.get(this.Ls)}},{key:"Ys",value:function(){this.setItem(this.js,this.si.Os())}},{key:"ei",value:function(e,t,n){var r=new Ii(this.currentUser,e,t,n),a=_i(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Os())}},{key:"ni",value:function(e){var t=_i(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"ri",value:function(e){var t={clientId:this.Ls,onlineState:e};this.storage.setItem(this.Hs,JSON.stringify(t))}},{key:"ii",value:function(e,t,n){var r=Ei(this.persistenceKey,e),a=new Ti(e,t,n);this.setItem(r,a.Os())}},{key:"oi",value:function(){this.setItem(this.Js,"value-not-used")}},{key:"ci",value:function(e){var t=this.Ws.exec(e);return t?t[1]:null}},{key:"ui",value:function(e,t){var n=this.ci(e);return Si.$s(n,t)}},{key:"hi",value:function(e,t){var n=this.Gs.exec(e),r=Number(n[1]),a=void 0!==n[2]?n[2]:null;return Ii.$s(new j(a),r,t)}},{key:"fi",value:function(e,t){var n=this.zs.exec(e),r=Number(n[1]);return Ti.$s(r,t)}},{key:"Xs",value:function(e){return Ni.$s(e)}},{key:"li",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine._i(t.batchId,t.state,t.error));case 2:T("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"di",value:function(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}},{key:"ai",value:function(e,t){var n=this,r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),i=this.ti(r),o=[],u=[];return i.forEach((function(e){a.has(e)||o.push(e)})),a.forEach((function(e){i.has(e)||u.push(e)})),this.syncEngine.gi(o,u).then((function(){n.qs=r}))}},{key:"Zs",value:function(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"ti",value:function(e){var t=mn();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"bt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),Ri=function(){function e(){Object(v.a)(this,e),this.yi=new Ci,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(m.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.yi.Fs(e),this.pi[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.pi[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.yi.Ms(e)}},{key:"isLocalQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.pi[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.yi.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.yi.activeTargetIds.has(e)}},{key:"start",value:function(){return this.yi=new Ci,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(){}}]),e}(),Di=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"Ti",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Pi=function(){function e(){var t=this;Object(v.a)(this,e),this.Ei=function(){return t.Ii()},this.Ai=function(){return t.Ri()},this.bi=[],this.Pi()}return Object(m.a)(e,[{key:"Ti",value:function(e){this.bi.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}},{key:"Pi",value:function(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}},{key:"Ii",value:function(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Object(u.a)(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Ri",value:function(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Object(u.a)(this.bi);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"bt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Li={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mi=function(){function e(t){Object(v.a)(this,e),this.vi=t.vi,this.Vi=t.Vi}return Object(m.a)(e,[{key:"Si",value:function(e){this.Di=e}},{key:"Ci",value:function(e){this.Ni=e}},{key:"onMessage",value:function(e){this.xi=e}},{key:"close",value:function(){this.Vi()}},{key:"send",value:function(e){this.vi(e)}},{key:"ki",value:function(){this.Di()}},{key:"$i",value:function(e){this.Ni(e)}},{key:"Oi",value:function(e){this.xi(e)}}]),e}(),Fi=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Object(m.a)(n,[{key:"qi",value:function(e,t,n,r){return new Promise((function(a,i){var o=new w.g;o.listenOnce(w.c.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case w.a.NO_ERROR:var t=o.getResponseJson();T("Connection","XHR received:",JSON.stringify(t)),a(t);break;case w.a.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),i(new M(L.DEADLINE_EXCEEDED,"Request time out"));break;case w.a.HTTP_ERROR:var n=o.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(t)>=0?t:L.UNKNOWN}(r.status);i(new M(u,r.message))}else i(new M(L.UNKNOWN,"Server responded with status "+o.getStatus()))}else i(new M(L.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{T("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"ji",value:function(e,t){var n=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=Object(w.h)(),a=Object(w.i)(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(i.xmlHttpFactory=new w.d({})),this.Ui(i.initMessageHeaders,t),Object(k.u)()||Object(k.w)()||Object(k.q)()||Object(k.s)()||Object(k.y)()||Object(k.p)()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");T("Connection","Creating WebChannel: "+o,i);var u=r.createWebChannel(o,i),s=!1,c=!1,l=new Mi({vi:function(e){c?T("Connection","Not sending because WebChannel is closed:",e):(s||(T("Connection","Opening WebChannel transport."),u.open(),s=!0),T("Connection","WebChannel sending:",e),u.send(e))},Vi:function(){return u.close()}}),f=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return f(u,w.f.EventType.OPEN,(function(){c||T("Connection","WebChannel transport opened.")})),f(u,w.f.EventType.CLOSE,(function(){c||(c=!0,T("Connection","WebChannel transport closed"),l.$i())})),f(u,w.f.EventType.ERROR,(function(e){c||(c=!0,N("Connection","WebChannel transport errored:",e),l.$i(new M(L.UNAVAILABLE,"The operation could not be completed")))})),f(u,w.f.EventType.MESSAGE,(function(e){var t;if(!c){var n=e.data[0];R(!!n);var r=n,a=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(a){T("Connection","WebChannel received error:",a);var i=a.status,o=function(e){var t=Qt[e];if(void 0!==t)return en(t)}(i),s=a.message;void 0===o&&(o=L.INTERNAL,s="Unknown error status: "+i+" with message "+a.message),c=!0,l.$i(new M(o,s)),u.close()}else T("Connection","WebChannel received:",n),l.Oi(n)}})),f(a,w.b.STAT_EVENT,(function(e){e.stat===w.e.PROXY?T("Connection","Detected buffering proxy"):e.stat===w.e.NOPROXY&&T("Connection","Detected no buffering proxy")})),setTimeout((function(){l.ki()}),0),l}}]),n}(function(){function e(t){Object(v.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.Fi=n+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(m.a)(e,[{key:"Li",value:function(e,t,n,r){var a=this.Bi(e,t);T("RestConnection","Sending: ",a,n);var i={};return this.Ui(i,r),this.qi(e,a,i,n).then((function(e){return T("RestConnection","Received: ",e),e}),(function(t){throw N("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"Ki",value:function(e,t,n,r){return this.Li(e,t,n,r)}},{key:"Ui",value:function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+x,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])}},{key:"Bi",value:function(e,t){var n=Li[e];return"".concat(this.Fi,"/v1/").concat(t,":").concat(n)}}]),e}());function Ui(){return"undefined"!=typeof window?window:null}function Vi(){return"undefined"!=typeof document?document:null}function Bi(e){return new Tn(e,!0)}var qi=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(v.a)(this,e),this.Oe=t,this.timerId=n,this.Qi=r,this.Wi=a,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}return Object(m.a)(e,[{key:"reset",value:function(){this.zi=0}},{key:"Yi",value:function(){this.zi=this.Gi}},{key:"Xi",value:function(e){var t=this;this.cancel();var n=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,n-r);a>0&&T("ExponentialBackoff","Backing off for ".concat(a," ms (base delay: ").concat(this.zi," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,(function(){return t.Ji=Date.now(),e()})),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}},{key:"tr",value:function(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}},{key:"cancel",value:function(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}},{key:"Zi",value:function(){return(Math.random()-.5)*this.zi}}]),e}(),zi=function(){function e(t,n,r,a,i,o,u){Object(v.a)(this,e),this.Oe=t,this.er=r,this.nr=a,this.sr=i,this.credentialsProvider=o,this.listener=u,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new qi(t,n)}return Object(m.a)(e,[{key:"ur",value:function(){return 1===this.state||5===this.state||this.hr()}},{key:"hr",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.lr()}},{key:"stop",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ur(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"dr",value:function(){this.state=0,this.ar.reset()}},{key:"wr",value:function(){var e=this;this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,(function(){return e._r()})))}},{key:"mr",value:function(e){this.gr(),this.stream.send(e)}},{key:"_r",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.hr()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"gr",value:function(){this.rr&&(this.rr.cancel(),this.rr=null)}},{key:"yr",value:function(){this.cr&&(this.cr.cancel(),this.cr=null)}},{key:"close",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gr(),this.yr(),this.ar.cancel(),this.ir++,4!==t?this.ar.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(S(n.toString()),S("Using maximum backoff delay to prevent overloading the backend."),this.ar.Yi()):n&&n.code===L.UNAUTHENTICATED&&3!==this.state&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.pr(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Ci(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"pr",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Tr(this.ir),n=this.ir;this.credentialsProvider.getToken().then((function(t){e.ir===n&&e.Er(t)}),(function(n){t((function(){var t=new M(L.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ir(t)}))}))}},{key:"Er",value:function(e){var t=this,n=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si((function(){n((function(){return t.state=2,t.cr=t.Oe.enqueueAfterDelay(t.nr,1e4,(function(){return t.hr()&&(t.state=3),Promise.resolve()})),t.listener.Si()}))})),this.stream.Ci((function(e){n((function(){return t.Ir(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))}},{key:"lr",value:function(){var e=this;this.state=5,this.ar.Xi(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ir",value:function(e){return T("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Tr",value:function(e){var t=this;return function(n){t.Oe.enqueueAndForget((function(){return t.ir===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),Ki=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a,i,o){var u;return Object(v.a)(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,a,o)).N=i,u}return Object(m.a)(n,[{key:"Ar",value:function(e){return this.sr.ji("Listen",e)}},{key:"onMessage",value:function(e){this.ar.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],i=function(e,t){return e.D?(R(void 0===t||"string"==typeof t),se.fromBase64String(t||"")):(R(void 0===t||t instanceof Uint8Array),se.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?L.UNKNOWN:en(e.code);return new M(t,e.message||"")}(o);n=new wn(r,a,i,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=Ln(e,s.document.name),l=An(s.document.updateTime),f=new Ae({mapValue:{fields:s.document.fields}}),h=De.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new gn(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=Ln(e,v.document),y=v.readTime?An(v.readTime):X.min(),b=De.newNoDocument(m,y),g=v.removedTargetIds||[];n=new gn([],g,b.key,b)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var w=Ln(e,k.document),O=k.removedTargetIds||[];n=new gn([],O,w,null)}else{if(!("filter"in t))return A();t.filter;var j=t.filter;j.targetId;var x=j.count||0,_=new Xt(x),E=j.targetId;n=new kn(E,_)}return n}(this.N,e),n=function(e){if(!("targetChange"in e))return X.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?X.min():t.readTime?An(t.readTime):X.min()}(e);return this.listener.Rr(t,n)}},{key:"br",value:function(e){var t={};t.database=Un(this.N),t.addTarget=function(e,t){var n,r=t.target;return(n=Ue(r)?{documents:Wn(e,r)}:{query:Gn(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Nn(e,t.resumeToken):t.snapshotVersion.compareTo(X.min())>0&&(n.readTime=Sn(e,t.snapshotVersion.toTimestamp())),n}(this.N,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return A()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.N,e);n&&(t.labels=n),this.mr(t)}},{key:"Pr",value:function(e){var t={};t.database=Un(this.N),t.removeTarget=e,this.mr(t)}}]),n}(zi),Hi=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a,i,o){var u;return Object(v.a)(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,a,o)).N=i,u.vr=!1,u}return Object(m.a)(n,[{key:"Vr",get:function(){return this.vr}},{key:"start",value:function(){this.vr=!1,this.lastStreamToken=void 0,Object(a.a)(Object(i.a)(n.prototype),"start",this).call(this)}},{key:"pr",value:function(){this.vr&&this.Sr([])}},{key:"Ar",value:function(e){return this.sr.ji("Write",e)}},{key:"onMessage",value:function(e){if(R(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();var t=function(e,t){return e&&e.length>0?(R(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?An(e.updateTime):An(t);return n.isEqual(X.min())&&(n=An(t)),new Dt(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=An(e.commitTime);return this.listener.Dr(n,t)}return R(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}},{key:"Nr",value:function(){var e={};e.database=Un(this.N),this.mr(e)}},{key:"Sr",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Kn(t.N,e)}))};this.mr(n)}}]),n}(zi),Wi=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this)).credentials=e,i.sr=r,i.N=a,i.kr=!1,i}return Object(m.a)(n,[{key:"$r",value:function(){if(this.kr)throw new M(L.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"Li",value:function(e,t,n){var r=this;return this.$r(),this.credentials.getToken().then((function(a){return r.sr.Li(e,t,n,a)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new M(L.UNKNOWN,e.toString())}))}},{key:"Ki",value:function(e,t,n){var r=this;return this.$r(),this.credentials.getToken().then((function(a){return r.sr.Ki(e,t,n,a)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===L.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new M(L.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.kr=!0}}]),n}(function(){return function e(){Object(v.a)(this,e)}}()),Gi=function(){function e(t,n){Object(v.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}return Object(m.a)(e,[{key:"Lr",value:function(){var e=this;0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Fr=null,e.Ur("Backend didn't respond within 10 seconds."),e.Br("Offline"),Promise.resolve()})))}},{key:"qr",value:function(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.Br("Offline")))}},{key:"set",value:function(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}},{key:"Br",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"Ur",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.Mr?(S(t),this.Mr=!1):T("OnlineStateTracker",t)}},{key:"Kr",value:function(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}]),e}(),Qi=function e(t,n,r,a,i){var o=this;Object(v.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=i,this.zr.Ti((function(e){r.enqueueAndForget(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=io(o),!e.t0){e.next=5;break}return T("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P(t)).Wr.add(4),e.next=4,Ji(n);case 4:return n.Hr.set("Unknown"),n.Wr.delete(4),e.next=8,Yi(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.Hr=new Gi(r,a)};function Yi(e){return $i.apply(this,arguments)}function $i(){return($i=Object(l.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!io(t)){e.next=18;break}n=Object(u.a)(t.Gr),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return a=r.value,e.next=8,a(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])})))).apply(this,arguments)}function Ji(e){return Xi.apply(this,arguments)}function Xi(){return(Xi=Object(l.a)(c.a.mark((function e(t){var n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(u.a)(t.Gr),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return a=r.value,e.next=7,a(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})))).apply(this,arguments)}function Zi(e,t){var n=P(e);n.Qr.has(t.targetId)||(n.Qr.set(t.targetId,t),ao(n)?ro(n):Ro(n).hr()&&to(n,t))}function eo(e,t){var n=P(e),r=Ro(n);n.Qr.delete(t),r.hr()&&no(n,t),0===n.Qr.size&&(r.hr()?r.wr():io(n)&&n.Hr.set("Unknown"))}function to(e,t){e.Jr.Y(t.targetId),Ro(e).br(t)}function no(e,t){e.Jr.Y(t),Ro(e).Pr(t)}function ro(e){e.Jr=new jn({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Tt:function(t){return e.Qr.get(t)||null}}),Ro(e).start(),e.Hr.Lr()}function ao(e){return io(e)&&!Ro(e).ur()&&e.Qr.size>0}function io(e){return 0===P(e).Wr.size}function oo(e){e.Jr=void 0}function uo(e){return so.apply(this,arguments)}function so(){return(so=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.Qr.forEach((function(e,n){to(t,e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function co(e,t){return lo.apply(this,arguments)}function lo(){return(lo=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:oo(t),ao(t)?(t.Hr.qr(n),ro(t)):t.Hr.set("Unknown");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fo(e,t,n){return ho.apply(this,arguments)}function ho(){return(ho=Object(l.a)(c.a.mark((function e(t,n,r){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.Hr.set("Online"),!(n instanceof wn&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,a=Object(u.a)(n.targetIds),e.prev=2,a.s();case 4:if((i=a.n()).done){e.next=14;break}if(o=i.value,e.t0=t.Qr.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.Qr.delete(o),t.Jr.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),a.e(e.t1);case 19:return e.prev=19,a.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),T("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,po(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof gn?t.Jr.rt(n):n instanceof kn?t.Jr.ft(n):t.Jr.at(n),r.isEqual(X.min())){e.next=29;break}return e.prev=14,e.next=17,Xa(t.localStore);case 17:if(a=e.sent,e.t1=r.compareTo(a)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.Jr._t(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var a=e.Qr.get(r);a&&e.Qr.set(r,a.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.Qr.get(t);if(n){e.Qr.set(t,n.withResumeToken(se.EMPTY_BYTE_STRING,n.snapshotVersion)),no(e,t);var r=new qr(n.target,t,1,n.sequenceNumber);to(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),T("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,po(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])})))).apply(this,arguments)}function po(e,t,n){return vo.apply(this,arguments)}function vo(){return(vo=Object(l.a)(c.a.mark((function e(t,n,r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Rr(n)){e.next=2;break}throw n;case 2:return t.Wr.add(1),e.next=5,Ji(t);case 5:t.Hr.set("Offline"),r||(r=function(){return Xa(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.Wr.delete(1),e.next=6,Yi(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function mo(e,t){return t().catch((function(n){return po(e,n,t)}))}function yo(e){return bo.apply(this,arguments)}function bo(){return(bo=Object(l.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=P(t),r=Do(n),a=n.jr.length>0?n.jr[n.jr.length-1].batchId:-1;case 2:if(!go(n)){e.next=19;break}return e.prev=3,e.next=6,ti(n.localStore,a);case 6:if(null!==(i=e.sent)){e.next=10;break}return 0===n.jr.length&&r.wr(),e.abrupt("break",19);case 10:a=i.batchId,ko(n,i),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,po(n,e.t0);case 17:e.next=2;break;case 19:wo(n)&&Oo(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function go(e){return io(e)&&e.jr.length<10}function ko(e,t){e.jr.push(t);var n=Do(e);n.hr()&&n.Vr&&n.Sr(t.mutations)}function wo(e){return io(e)&&!Do(e).ur()&&e.jr.length>0}function Oo(e){Do(e).start()}function jo(e){return xo.apply(this,arguments)}function xo(){return(xo=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Do(t).Nr();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _o(e){return Eo.apply(this,arguments)}function Eo(){return(Eo=Object(l.a)(c.a.mark((function e(t){var n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Do(t),r=Object(u.a)(t.jr);try{for(r.s();!(a=r.n()).done;)i=a.value,n.Sr(i.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Io(e,t,n){return To.apply(this,arguments)}function To(){return(To=Object(l.a)(c.a.mark((function e(t,n,r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.jr.shift(),i=Br.from(a,n,r),e.next=3,mo(t,(function(){return t.remoteSyncer.applySuccessfulWrite(i)}));case 3:return e.next=5,yo(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function So(e,t){return No.apply(this,arguments)}function No(){return(No=Object(l.a)(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Do(t).Vr,!e.t0){e.next=4;break}return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Zt(a=n.code)||a===L.ABORTED){e.next=7;break}return r=t.jr.shift(),Do(t).dr(),e.next=5,mo(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yo(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:wo(t)&&Oo(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Co(e,t){return Ao.apply(this,arguments)}function Ao(){return(Ao=Object(l.a)(c.a.mark((function e(t,n){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),!n){e.next=7;break}return r.Wr.delete(2),e.next=5,Yi(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.Wr.add(2),e.next=12,Ji(r);case 12:r.Hr.set("Unknown");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ro(e){return e.Yr||(e.Yr=function(e,t,n){var r=P(e);return r.$r(),new Ki(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:uo.bind(null,e),Ci:co.bind(null,e),Rr:fo.bind(null,e)}),e.Gr.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Yr.dr(),ao(e)?ro(e):e.Hr.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Yr.stop();case 6:oo(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Yr}function Do(e){return e.Xr||(e.Xr=function(e,t,n){var r=P(e);return r.$r(),new Hi(t,r.sr,r.credentials,r.N,n)}(e.datastore,e.asyncQueue,{Si:jo.bind(null,e),Ci:So.bind(null,e),Cr:_o.bind(null,e),Dr:Io.bind(null,e)}),e.Gr.push(function(){var t=Object(l.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Xr.dr(),t.next=4,yo(e);case 4:t.next=9;break;case 6:return t.next=8,e.Xr.stop();case 8:e.jr.length>0&&(T("RemoteStore","Stopping write stream with ".concat(e.jr.length," pending writes")),e.jr=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Xr}var Po=function(){function e(t,n,r,a,i){Object(v.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=a,this.removalCallback=i,this.deferred=new F,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Object(m.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,a,i){var o=new e(t,n,Date.now()+r,a,i);return o.start(r),o}}]),e}();function Lo(e,t){if(S("AsyncQueue","".concat(t,": ").concat(e)),Rr(e))return new M(L.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var Mo=function(){function e(t){Object(v.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||be.comparator(e.key,n.key)}:function(e,t){return be.comparator(e.key,t.key)},this.keyedMap=ln(),this.sortedSet=new tn(this.comparator)}return Object(m.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var a=n.getNext().key,i=r.getNext().key;if(!a.isEqual(i))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),Fo=function(){function e(){Object(v.a)(this,e),this.Zr=new tn(be.comparator)}return Object(m.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Zr.get(t);n?0!==e.type&&3===n.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==n.type?this.Zr=this.Zr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Zr=this.Zr.remove(t):1===e.type&&2===n.type?this.Zr=this.Zr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):A():this.Zr=this.Zr.insert(t,e)}},{key:"eo",value:function(){var e=[];return this.Zr.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),Uo=function(){function e(t,n,r,a,i,o,u,s){Object(v.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Object(m.a)(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ht(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,a){var i=[];return n.forEach((function(e){i.push({type:0,doc:e})})),new e(t,n,Mo.emptySet(n),i,r,a,!0,!1)}}]),e}(),Vo=function e(){Object(v.a)(this,e),this.no=void 0,this.listeners=[]},Bo=function e(){Object(v.a)(this,e),this.queries=new Sa((function(e){return dt(e)}),ht),this.onlineState="Unknown",this.so=new Set};function qo(e,t){return zo.apply(this,arguments)}function zo(){return(zo=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),a=n.query,i=!1,(o=r.queries.get(a))||(i=!0,o=new Vo),!i){e.next=13;break}return e.prev=3,e.next=6,r.onListen(a);case 6:o.no=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=Lo(e.t0,"Initialization of query '".concat(pt(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(a,o),o.listeners.push(n),n.io(r.onlineState),o.no&&n.ro(o.no)&&Qo(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])})))).apply(this,arguments)}function Ko(e,t){return Ho.apply(this,arguments)}function Ho(){return(Ho=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),a=n.query,i=!1,(o=r.queries.get(a))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),i=0===o.listeners.length),!i){e.next=6;break}return e.abrupt("return",(r.queries.delete(a),r.onUnlisten(a)));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wo(e,t){var n,r=P(e),a=!1,i=Object(u.a)(t);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=o.query,c=r.queries.get(s);if(c){var l,f=Object(u.a)(c.listeners);try{for(f.s();!(l=f.n()).done;){l.value.ro(o)&&(a=!0)}}catch(h){f.e(h)}finally{f.f()}c.no=o}}}catch(h){i.e(h)}finally{i.f()}a&&Qo(r)}function Go(e,t,n){var r=P(e),a=r.queries.get(t);if(a){var i,o=Object(u.a)(a.listeners);try{for(o.s();!(i=o.n()).done;){i.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function Qo(e){e.so.forEach((function(e){e.next()}))}var Yo=function(){function e(t,n,r){Object(v.a)(this,e),this.query=t,this.oo=n,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}return Object(m.a)(e,[{key:"ro",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Object(u.a)(e.docChanges);try{for(r.s();!(t=r.n()).done;){var a=t.value;3!==a.type&&n.push(a)}}catch(o){r.e(o)}finally{r.f()}e=new Uo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var i=!1;return this.co?this.uo(e)&&(this.oo.next(e),i=!0):this.ho(e,this.onlineState)&&(this.lo(e),i=!0),this.ao=e,i}},{key:"onError",value:function(e){this.oo.error(e)}},{key:"io",value:function(e){this.onlineState=e;var t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}},{key:"ho",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.fo||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"uo",value:function(e){if(e.docChanges.length>0)return!0;var t=this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"lo",value:function(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}]),e}(),$o=function(){function e(t,n){Object(v.a)(this,e),this.payload=t,this.byteLength=n}return Object(m.a)(e,[{key:"wo",value:function(){return"metadata"in this.payload}}]),e}(),Jo=function(){function e(t){Object(v.a)(this,e),this.N=t}return Object(m.a)(e,[{key:"zn",value:function(e){return Ln(this.N,e)}},{key:"Hn",value:function(e){return e.metadata.exists?qn(this.N,e.document,!1):De.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}},{key:"Jn",value:function(e){return An(e)}}]),e}(),Xo=function(){function e(t,n,r){Object(v.a)(this,e),this._o=t,this.localStore=n,this.N=r,this.queries=[],this.documents=[],this.progress=Zo(t)}return Object(m.a)(e,[{key:"mo",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"yo",value:function(e){var t,n=new Map,r=new Jo(this.N),a=Object(u.a)(e);try{for(a.s();!(t=a.n()).done;){var i=t.value;if(i.metadata.queries){var o,s=r.zn(i.metadata.name),c=Object(u.a)(i.metadata.queries);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=(n.get(l)||pn()).add(s);n.set(l,f)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){a.e(h)}finally{a.f()}return n}},{key:"complete",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,li(this.localStore,new Jo(this.N),this.documents,this._o.id);case 2:t=e.sent,n=this.yo(this.documents),r=Object(u.a)(this.queries),e.prev=5,r.s();case 7:if((a=r.n()).done){e.next=13;break}return i=a.value,e.next=11,hi(this.localStore,i,n.get(i.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",new za(Object.assign({},this.progress),t)));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function Zo(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var eu=function e(t){Object(v.a)(this,e),this.key=t},tu=function e(t){Object(v.a)(this,e),this.key=t},nu=function(){function e(t,n){Object(v.a)(this,e),this.query=t,this.po=n,this.To=null,this.current=!1,this.Eo=pn(),this.mutatedKeys=pn(),this.Io=mt(t),this.Ao=new Mo(this.Io)}return Object(m.a)(e,[{key:"Ro",get:function(){return this.po}},{key:"bo",value:function(e,t){var n=this,r=t?t.Po:new Fo,a=t?t.Ao:this.Ao,i=t?t.mutatedKeys:this.mutatedKeys,o=a,u=!1,s=at(this.query)&&a.size===this.query.limit?a.last():null,c=it(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((function(e,t){var l=a.get(e),f=vt(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.vo(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Io(f,s)>0||c&&n.Io(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),at(this.query)||it(this.query))for(;o.size>this.query.limit;){var l=at(this.query)?o.last():o.first();o=o.delete(l.key),i=i.delete(l.key),r.track({type:1,doc:l})}return{Ao:o,Po:r,Ln:u,mutatedKeys:i}}},{key:"vo",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,a=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;var i=e.Po.eo();i.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||r.Io(e.doc,t.doc)})),this.Vo(n);var o=t?this.So():[],u=0===this.Eo.size&&this.current?1:0,s=u!==this.To;return this.To=u,0!==i.length||s?{snapshot:new Uo(this.query,e.Ao,a,i,e.mutatedKeys,0===u,s,!1),Do:o}:{Do:o}}},{key:"io",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new Fo,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}},{key:"Co",value:function(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}},{key:"Vo",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.po=t.po.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.po=t.po.delete(e)})),this.current=e.current)}},{key:"So",value:function(){var e=this;if(!this.current)return[];var t=this.Eo;this.Eo=pn(),this.Ao.forEach((function(t){e.Co(t.key)&&(e.Eo=e.Eo.add(t.key))}));var n=[];return t.forEach((function(t){e.Eo.has(t)||n.push(new tu(t))})),this.Eo.forEach((function(e){t.has(e)||n.push(new eu(e))})),n}},{key:"No",value:function(e){this.po=e.Gn,this.Eo=pn();var t=this.bo(e.documents);return this.applyChanges(t,!0)}},{key:"xo",value:function(){return Uo.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}]),e}(),ru=function e(t,n,r){Object(v.a)(this,e),this.query=t,this.targetId=n,this.view=r},au=function e(t){Object(v.a)(this,e),this.key=t,this.ko=!1},iu=function(){function e(t,n,r,a,i,o){Object(v.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=a,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.$o={},this.Oo=new Sa((function(e){return dt(e)}),ht),this.Fo=new Map,this.Mo=new Set,this.Lo=new tn(be.comparator),this.Bo=new Map,this.Uo=new vi,this.qo={},this.Ko=new Map,this.jo=ma.ie(),this.onlineState="Unknown",this.Qo=void 0}return Object(m.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.Qo}}]),e}();function ou(e,t){return uu.apply(this,arguments)}function uu(){return(uu=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Zu(t),!(o=r.Oo.get(n))){e.next=6;break}a=o.targetId,r.sharedClientState.addLocalQueryTarget(a),i=o.view.xo(),e.next=15;break;case 6:return e.next=8,ni(r.localStore,lt(n));case 8:return u=e.sent,s=r.sharedClientState.addLocalQueryTarget(u.targetId),a=u.targetId,e.next=13,su(r,n,a,"current"===s);case 13:i=e.sent,r.isPrimaryClient&&Zi(r.remoteStore,u);case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function su(e,t,n,r){return cu.apply(this,arguments)}function cu(){return(cu=Object(l.a)(c.a.mark((function e(t,n,r,a){var i,o,u,s,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Wo=function(e,n,r){return function(){var e=Object(l.a)(c.a.mark((function e(t,n,r,a){var i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.view.bo(r),e.t0=i.Ln,!e.t0){e.next=6;break}return e.next=5,ii(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.bo(t,i)}));case 5:i=e.sent;case 6:return o=a&&a.targetChanges.get(n.targetId),u=n.view.applyChanges(i,t.isPrimaryClient,o),e.abrupt("return",(Su(t,n.targetId,u.Do),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,ii(t.localStore,n,!0);case 3:return i=e.sent,o=new nu(n,i.Gn),u=o.bo(i.documents),s=bn.createSynthesizedTargetChangeForCurrentChange(r,a&&"Offline"!==t.onlineState),f=o.applyChanges(u,t.isPrimaryClient,s),Su(t,r,f.Do),h=new ru(n,r,o),e.abrupt("return",(t.Oo.set(n,h),t.Fo.has(r)?t.Fo.get(r).push(n):t.Fo.set(r,[n]),f.snapshot));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lu(e,t){return fu.apply(this,arguments)}function fu(){return(fu=Object(l.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),a=r.Oo.get(n),!((i=r.Fo.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.Fo.set(a.targetId,i.filter((function(e){return!ht(e,n)}))),void r.Oo.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,ri(r.localStore,a.targetId,!1).then((function(){r.sharedClientState.clearQueryState(a.targetId),eo(r.remoteStore,a.targetId),Iu(r,a.targetId)})).catch(wa);case 9:e.next=14;break;case 11:return Iu(r,a.targetId),e.next=14,ri(r.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hu(e,t,n){return du.apply(this,arguments)}function du(){return(du=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=es(t),e.prev=1,e.next=4,function(e,t){var n,r=P(e),a=J.now(),i=t.reduce((function(e,t){return e.add(t.key)}),pn());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Qn.Pn(e,i).next((function(i){n=i;var o,s=[],c=Object(u.a)(t);try{for(c.s();!(o=c.n()).done;){var l=o.value,f=Vt(l,n.get(l.key));null!=f&&s.push(new Kt(l.key,f,Re(f.value.mapValue),Pt.exists(!0)))}}catch(h){c.e(h)}finally{c.f()}return r.In.addMutationBatch(e,a,s,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(a.localStore,n);case 4:return i=e.sent,a.sharedClientState.addPendingMutation(i.batchId),function(e,t,n){var r=e.qo[e.currentUser.toKey()];r||(r=new tn(Q)),r=r.insert(t,n),e.qo[e.currentUser.toKey()]=r}(a,i.batchId,r),e.next=9,Au(a,i.changes);case 9:return e.next=11,yo(a.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Lo(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function pu(e,t){return vu.apply(this,arguments)}function vu(){return(vu=Object(l.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,Za(r.localStore,n);case 4:return a=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Bo.get(t);n&&(R(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ko=!0:e.modifiedDocuments.size>0?R(n.ko):e.removedDocuments.size>0&&(R(n.ko),n.ko=!1))})),e.next=8,Au(r,a,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,wa(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function mu(e,t,n){var r=P(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var a=[];r.Oo.forEach((function(e,n){var r=n.view.io(t);r.snapshot&&a.push(r.snapshot)})),function(e,t){var n=P(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var a,i=Object(u.a)(n.listeners);try{for(i.s();!(a=i.n()).done;){a.value.io(t)&&(r=!0)}}catch(o){i.e(o)}finally{i.f()}})),r&&Qo(n)}(r.eventManager,t),a.length&&r.$o.Rr(a),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function yu(e,t,n){return bu.apply(this,arguments)}function bu(){return(bu=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o,u,s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=P(t)).sharedClientState.updateQueryState(n,"rejected",r),i=a.Bo.get(n),!(o=i&&i.key)){e.next=14;break}return u=(u=new tn(be.comparator)).insert(o,De.newNoDocument(o,X.min())),s=pn().add(o),l=new yn(X.min(),new Map,new an(Q),u,s),e.next=9,pu(a,l);case 9:a.Lo=a.Lo.remove(o),a.Bo.delete(n),Cu(a),e.next=16;break;case 14:return e.next=16,ri(a.localStore,n,!1).then((function(){return Iu(a,n,r)})).catch(wa);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gu(e,t){return ku.apply(this,arguments)}function ku(){return(ku=Object(l.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),a=n.batch.batchId,e.prev=1,e.next=4,Ja(r.localStore,n);case 4:return i=e.sent,Eu(r,a,null),_u(r,a),r.sharedClientState.updateMutationState(a,"acknowledged"),e.next=10,Au(r,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wa(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function wu(e,t,n){return Ou.apply(this,arguments)}function Ou(){return(Ou=Object(l.a)(c.a.mark((function e(t,n,r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=P(t),e.prev=1,e.next=4,function(e,t){var n=P(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.In.lookupMutationBatch(e,t).next((function(t){return R(null!==t),r=t.keys(),n.In.removeMutationBatch(e,t)})).next((function(){return n.In.performConsistencyCheck(e)})).next((function(){return n.Qn.Pn(e,r)}))}))}(a.localStore,n);case 4:return i=e.sent,Eu(a,n,r),_u(a,n),a.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,Au(a,i);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,wa(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function ju(e,t){return xu.apply(this,arguments)}function xu(){return(xu=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return io((r=P(t)).remoteStore)||T("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=P(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.In.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(a=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(i=r.Ko.get(a)||[]).push(n),r.Ko.set(a,i),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=Lo(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function _u(e,t){(e.Ko.get(t)||[]).forEach((function(e){e.resolve()})),e.Ko.delete(t)}function Eu(e,t,n){var r=P(e),a=r.qo[r.currentUser.toKey()];if(a){var i=a.get(t);i&&(n?i.reject(n):i.resolve(),a=a.remove(t)),r.qo[r.currentUser.toKey()]=a}}function Iu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,a=Object(u.a)(e.Fo.get(t));try{for(a.s();!(r=a.n()).done;){var i=r.value;e.Oo.delete(i),n&&e.$o.Go(i,n)}}catch(o){a.e(o)}finally{a.f()}e.Fo.delete(t),e.isPrimaryClient&&e.Uo.cs(t).forEach((function(t){e.Uo.containsKey(t)||Tu(e,t)}))}function Tu(e,t){e.Mo.delete(t.path.canonicalString());var n=e.Lo.get(t);null!==n&&(eo(e.remoteStore,n),e.Lo=e.Lo.remove(t),e.Bo.delete(n),Cu(e))}function Su(e,t,n){var r,a=Object(u.a)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;i instanceof eu?(e.Uo.addReference(i.key,t),Nu(e,i)):i instanceof tu?(T("SyncEngine","Document no longer in limbo: "+i.key),e.Uo.removeReference(i.key,t),e.Uo.containsKey(i.key)||Tu(e,i.key)):A()}}catch(o){a.e(o)}finally{a.f()}}function Nu(e,t){var n=t.key,r=n.path.canonicalString();e.Lo.get(n)||e.Mo.has(r)||(T("SyncEngine","New document in limbo: "+n),e.Mo.add(r),Cu(e))}function Cu(e){for(;e.Mo.size>0&&e.Lo.size<e.maxConcurrentLimboResolutions;){var t=e.Mo.values().next().value;e.Mo.delete(t);var n=new be(re.fromString(t)),r=e.jo.next();e.Bo.set(r,new au(n)),e.Lo=e.Lo.insert(n,r),Zi(e.remoteStore,new qr(lt(rt(n.path)),r,2,H.T))}}function Au(e,t,n){return Ru.apply(this,arguments)}function Ru(){return(Ru=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=P(t),i=[],o=[],s=[],e.t0=a.Oo.isEmpty(),e.t0){e.next=9;break}return a.Oo.forEach((function(e,t){s.push(a.Wo(t,n,r).then((function(e){if(e){a.isPrimaryClient&&a.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),i.push(e);var n=Ha.kn(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return a.$o.Rr(i),e.next=9,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o,s,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Tr.forEach(n,(function(t){return Tr.forEach(t.Nn,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Tr.forEach(t.xn,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Rr(e.t0)){e.next=10;break}throw e.t0;case 10:T("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:a=Object(u.a)(n);try{for(a.s();!(i=a.n()).done;)o=i.value,s=o.targetId,o.fromCache||(l=r.Un.get(s),f=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(f),r.Un=r.Un.insert(s,h))}catch(c){a.e(c)}finally{a.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(a.localStore,o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Du(e,t){return Pu.apply(this,arguments)}function Pu(){return(Pu=Object(l.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=P(t)).currentUser.isEqual(n)){e.next=11;break}return T("SyncEngine","User change. New user:",n.toKey()),e.next=5,Ya(r.localStore,n);case 5:return a=e.sent,r.currentUser=n,function(e,t){e.Ko.forEach((function(e){e.forEach((function(e){e.reject(new M(L.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Ko.clear()}(r),r.sharedClientState.handleUserChange(n,a.removedBatchIds,a.addedBatchIds),e.next=11,Au(r,a.Wn);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lu(e,t){var n=P(e),r=n.Bo.get(t);if(r&&r.ko)return pn().add(r.key);var a=pn(),i=n.Fo.get(t);if(!i)return a;var o,s=Object(u.a)(i);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=n.Oo.get(c);a=a.unionWith(l.view.Ro)}}catch(f){s.e(f)}finally{s.f()}return a}function Mu(e,t){return Fu.apply(this,arguments)}function Fu(){return(Fu=Object(l.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.next=3,ii(r.localStore,n.query,!0);case 3:return a=e.sent,i=n.view.No(a),e.abrupt("return",(r.isPrimaryClient&&Su(r,n.targetId,i.Do),i));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uu(e){return Vu.apply(this,arguments)}function Vu(){return(Vu=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),e.abrupt("return",ui(n.localStore).then((function(e){return Au(n,e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bu(e,t,n,r){return qu.apply(this,arguments)}function qu(){return(qu=Object(l.a)(c.a.mark((function e(t,n,r,a){var i,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=P(t),e.next=3,function(e,t){var n=P(e),r=P(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.Xt(e,t).next((function(t){return t?n.Qn.Pn(e,t):Tr.resolve(null)}))}))}(i.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,yo(i.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(Eu(i,n,a||null),_u(i,n),function(e,t){P(P(e).In).te(t)}(i.localStore,n)):A();case 11:return e.next=13,Au(i,o);case 13:e.next=16;break;case 15:T("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zu(e,t){return Ku.apply(this,arguments)}function Ku(){return(Ku=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o,s,l,f,h;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Zu(r=P(t)),es(r),!0!==n||!0===r.Qo){e.next=13;break}return a=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,Hu(r,a.toArray());case 5:return i=e.sent,r.Qo=!0,e.next=9,Co(r.remoteStore,!0);case 9:o=Object(u.a)(i);try{for(o.s();!(s=o.n()).done;)l=s.value,Zi(r.remoteStore,l)}catch(c){o.e(c)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.Qo){e.next=25;break}return f=[],h=Promise.resolve(),r.Fo.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?f.push(t):h=h.then((function(){return Iu(r,t),ri(r.localStore,t,!0)})),eo(r.remoteStore,t)})),e.next=19,h;case 19:return e.next=21,Hu(r,f);case 21:return function(e){var t=P(e);t.Bo.forEach((function(e,n){eo(t.remoteStore,n)})),t.Uo.us(),t.Bo=new Map,t.Lo=new tn(be.comparator)}(r),r.Qo=!1,e.next=25,Co(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Hu(e,t,n){return Wu.apply(this,arguments)}function Wu(){return(Wu=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o,s,l,f,h,d,p,v,m,y,b,g;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=P(t),i=[],o=[],s=Object(u.a)(n),e.prev=2,s.s();case 4:if((l=s.n()).done){e.next=45;break}if(f=l.value,h=void 0,!(d=a.Fo.get(f))||0===d.length){e.next=34;break}return e.next=11,ni(a.localStore,lt(d[0]));case 11:h=e.sent,p=Object(u.a)(d),e.prev=13,p.s();case 15:if((v=p.n()).done){e.next=24;break}return m=v.value,y=a.Oo.get(m),e.next=20,Mu(a,y);case 20:(b=e.sent).snapshot&&o.push(b.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),p.e(e.t0);case 29:return e.prev=29,p.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,oi(a.localStore,f);case 36:return g=e.sent,e.next=39,ni(a.localStore,g);case 39:return h=e.sent,e.next=42,su(a,Gu(g),f,!1);case 42:i.push(h);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),s.e(e.t1);case 50:return e.prev=50,s.f(),e.finish(50);case 53:return e.abrupt("return",(a.$o.Rr(o),i));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])})))).apply(this,arguments)}function Gu(e){return nt(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function Qu(e){var t=P(e);return P(P(t.localStore).persistence).pn()}function Yu(e,t,n,r){return $u.apply(this,arguments)}function $u(){return($u=Object(l.a)(c.a.mark((function e(t,n,r,a){var i,o,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=P(t)).Qo){e.next=5;break}T("SyncEngine","Ignoring unexpected query state notification."),e.next=21;break;case 5:if(!i.Fo.has(n)){e.next=21;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?9:"rejected"===e.t0?16:20;break;case 9:return e.next=11,ui(i.localStore);case 11:return o=e.sent,u=yn.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=15,Au(i,o,u);case 15:return e.abrupt("break",21);case 16:return e.next=18,ri(i.localStore,n,!0);case 18:return Iu(i,n,a),e.abrupt("break",21);case 20:A();case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ju(e,t,n){return Xu.apply(this,arguments)}function Xu(){return(Xu=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o,s,l,f,h,d,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Zu(t)).Qo){e.next=45;break}i=Object(u.a)(n),e.prev=3,i.s();case 5:if((o=i.n()).done){e.next=21;break}if(s=o.value,!a.Fo.has(s)){e.next=10;break}return T("SyncEngine","Adding an already active target "+s),e.abrupt("continue",19);case 10:return e.next=12,oi(a.localStore,s);case 12:return l=e.sent,e.next=15,ni(a.localStore,l);case 15:return f=e.sent,e.next=18,su(a,Gu(l),f.targetId,!1);case 18:Zi(a.remoteStore,f);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),i.e(e.t0);case 26:return e.prev=26,i.f(),e.finish(26);case 29:h=Object(u.a)(r),e.prev=30,p=c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=d.value,e.t0=a.Fo.has(t),!e.t0){e.next=5;break}return e.next=5,ri(a.localStore,t,!1).then((function(){eo(a.remoteStore,t),Iu(a,t)})).catch(wa);case 5:case"end":return e.stop()}}),e)})),h.s();case 33:if((d=h.n()).done){e.next=37;break}return e.delegateYield(p(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),h.e(e.t2);case 42:return e.prev=42,h.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])})))).apply(this,arguments)}function Zu(e){var t=P(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=pu.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lu.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=yu.bind(null,t),t.$o.Rr=Wo.bind(null,t.eventManager),t.$o.Go=Go.bind(null,t.eventManager),t}function es(e){var t=P(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gu.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=wu.bind(null,t),t}function ts(e,t,n){var r=P(e);(function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return a=e.sent,e.next=6,function(e,t){var n=P(e),r=An(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Je.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,a);case 6:if(!e.sent){e.next=10;break}return e.next=9,n.close();case 9:return e.abrupt("return",void r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(a)));case 10:return r._updateProgress(Zo(a)),i=new Xo(a,t.localStore,n.N),e.next=14,n.zo();case 14:o=e.sent;case 15:if(!o){e.next=25;break}return e.next=18,i.mo(o);case 18:return(u=e.sent)&&r._updateProgress(u),e.next=22,n.zo();case 22:o=e.sent;case 23:e.next=15;break;case 25:return e.next=27,i.complete();case 27:return s=e.sent,e.next=30,Au(t,s.En,void 0);case 30:return e.next=32,function(e,t){var n=P(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Je.saveBundleMetadata(e,t)}))}(t.localStore,a);case 32:r._completeWith(s.progress),e.next=38;break;case 35:e.prev=35,e.t0=e.catch(0),N("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0);case 38:case"end":return e.stop()}}),e,null,[[0,35]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var ns=function(){function e(){Object(v.a)(this,e),this.synchronizeTabs=!1}return Object(m.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.N=Bi(t.databaseInfo.databaseId),this.sharedClientState=this.Ho(t),this.persistence=this.Jo(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.Yo(t),this.localStore=this.Xo(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Yo",value:function(e){return null}},{key:"Xo",value:function(e){return Qa(this.persistence,new Wa,e.initialUser,this.N)}},{key:"Jo",value:function(e){return new wi(ji.Ns,this.N)}},{key:"Ho",value:function(e){return new Ri}},{key:"terminate",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),rs=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this)).Zo=e,i.cacheSizeBytes=r,i.forceOwnership=a,i.synchronizeTabs=!1,i}return Object(m.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.a)(Object(i.a)(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,si(this.localStore);case 4:return e.next=6,this.Zo.initialize(this,t);case 6:return e.next=8,es(this.Zo.syncEngine);case 8:return e.next=10,yo(this.Zo.remoteStore);case 10:return e.next=12,this.persistence.nn((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Xo",value:function(e){return Qa(this.persistence,new Wa,e.initialUser,this.N)}},{key:"Yo",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new _a(t,e.asyncQueue)}},{key:"Jo",value:function(e){var t=qa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?sa.withCacheSize(this.cacheSizeBytes):sa.DEFAULT;return new Ua(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Ui(),Vi(),this.N,this.sharedClientState,!!this.forceOwnership)}},{key:"Ho",value:function(e){return new Ri}}]),n}(ns),as=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e,r,!1)).Zo=e,a.cacheSizeBytes=r,a.synchronizeTabs=!0,a}return Object(m.a)(n,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var r,o=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(a.a)(Object(i.a)(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Zo.syncEngine,e.t0=this.sharedClientState instanceof Ai,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={_i:Bu.bind(null,r),mi:Yu.bind(null,r),gi:Ju.bind(null,r),pn:Qu.bind(null,r),wi:Uu.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.nn(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(o.Zo.syncEngine,t);case 2:o.gcScheduler&&(t&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):t||o.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ho",value:function(e){var t=Ui();if(!Ai.bt(t))throw new M(L.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=qa(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Ai(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(rs),is=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"initialize",value:function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return mu(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Du.bind(null,this.syncEngine),e.next=12,Co(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Bo}},{key:"createDatastore",value:function(e){var t,n=Bi(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fi(t));return function(e,t,n){return new Wi(e,t,n)}(e.credentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,a,i,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,a=function(e){return mu(o.syncEngine,e,0)},i=Pi.bt()?new Pi:new Di,new Qi(t,n,r,a,i)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,a,i,o){var u=new iu(e,t,n,r,a,i);return o&&(u.Qo=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),T("RemoteStore","RemoteStore shutting down."),n.Wr.add(5),e.next=5,Ji(n);case 5:n.zr.shutdown(),n.Hr.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function os(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Object(l.a)(c.a.mark((function r(){var a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return a={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,a));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var us=function(){function e(t){Object(v.a)(this,e),this.observer=t,this.muted=!1}return Object(m.a)(e,[{key:"next",value:function(e){this.observer.next&&this.tc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"ec",value:function(){this.muted=!0}},{key:"tc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),ss=function(){function e(t,n){var r=this;Object(v.a)(this,e),this.nc=t,this.N=n,this.metadata=new F,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then((function(e){e&&e.wo()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Object(m.a)(e,[{key:"close",value:function(){return this.nc.cancel()}},{key:"getMetadata",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"zo",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.ic());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ic",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n,r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.rc();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.sc.decode(t),r=Number(n),isNaN(r)&&this.oc("length string (".concat(n,") is not valid number")),e.next=9,this.cc(r);case 9:return a=e.sent,e.abrupt("return",new $o(JSON.parse(a),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ac",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"rc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.ac()<0)){e.next=7;break}return e.next=3,this.uc();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.ac())<0&&this.oc("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"cc",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.uc();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.oc("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.sc.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"oc",value:function(e){throw this.nc.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"uc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.nc.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),cs=function(){function e(t){Object(v.a)(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Object(m.a)(e,[{key:"lookup",value:function(){var e=Object(l.a)(c.a.mark((function e(t){var n,r=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new M(L.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,a,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),a=Un(r.N)+"/documents",i={documents:n.map((function(e){return Pn(r.N,e)}))},e.next=5,r.Ki("BatchGetDocuments",a,i);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=zn(r.N,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());R(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new $t(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t,n=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=be.fromPath(t);n.mutations.push(new Jt(r,n.precondition(r)))})),e.next=7,function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),a=Un(r.N)+"/documents",i={writes:n.map((function(e){return Kn(r.N,e)}))},e.next=3,r.Li("Commit",a,i);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw A();t=X.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new M(L.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Pt.updateTime(t):Pt.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(X.min()))throw new M(L.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Pt.updateTime(t)}return Pt.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),ls=function(){function e(t,n,r,a){Object(v.a)(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=a,this.hc=5,this.ar=new qi(this.asyncQueue,"transaction_retry")}return Object(m.a)(e,[{key:"run",value:function(){this.hc-=1,this.lc()}},{key:"lc",value:function(){var e=this;this.ar.Xi(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new cs(e.datastore),(r=e.fc(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.dc(t)}))}))})).catch((function(t){e.dc(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"fc",value:function(e){try{var t=this.updateFunction(e);return!ve(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"dc",value:function(e){var t=this;this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget((function(){return t.lc(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"wc",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Zt(t)}return!1}}]),e}(),fs=function(){function e(t,n,r){var a=this;Object(v.a)(this,e),this.credentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=j.UNAUTHENTICATED,this.clientId=G.I(),this.credentialListener=function(){return Promise.resolve()},this.credentials.start(n,function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T("FirestoreClient","Received user=",t.uid),e.next=3,a.credentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}return Object(m.a)(e,[{key:"getConfiguration",value:function(){var e=Object(l.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.credentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new M(L.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new F;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){var r;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.credentials.shutdown(),t.resolve(),n.next=17;break;case 13:n.prev=13,n.t2=n.catch(0),r=Lo(n.t2,"Failed to shutdown persistence"),t.reject(r);case 17:case"end":return n.stop()}}),n,null,[[0,13]])})))),t.promise}}]),e}();function hs(e,t){return ds.apply(this,arguments)}function ds(){return(ds=Object(l.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:a=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=a.isEqual(t),e.t0){e.next=5;break}return e.next=4,Ya(n.localStore,t);case 4:a=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ps(e,t){return vs.apply(this,arguments)}function vs(){return(vs=Object(l.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ms(t);case 3:return r=e.sent,T("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return a=e.sent,e.next=10,n.initialize(r,a);case 10:t.setCredentialChangeListener((function(e){return function(){var e=Object(l.a)(c.a.mark((function e(t,n){var r,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=P(t)).asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials"),a=io(r),r.Wr.add(3),e.next=6,Ji(r);case 6:return a&&r.Hr.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.Wr.delete(3),e.next=12,Yi(r);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(n.remoteStore,e)})),t.onlineComponents=n;case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ms(e){return ys.apply(this,arguments)}function ys(){return(ys=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return T("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,hs(t,new ns);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bs(e){return gs.apply(this,arguments)}function gs(){return(gs=Object(l.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return T("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,ps(t,new is);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ks(e){return ms(e).then((function(e){return e.persistence}))}function ws(e){return ms(e).then((function(e){return e.localStore}))}function Os(e){return bs(e).then((function(e){return e.remoteStore}))}function js(e){return bs(e).then((function(e){return e.syncEngine}))}function xs(e){return _s.apply(this,arguments)}function _s(){return(_s=Object(l.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bs(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=ou.bind(null,n.syncEngine),r.onUnlisten=lu.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Es(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(e,t,n,r,a){var i=new us({next:function(i){t.enqueueAndForget((function(){return Ko(e,o)}));var u=i.docs.has(n);!u&&i.fromCache?a.reject(new M(L.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&i.fromCache&&r&&"server"===r.source?a.reject(new M(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):a.resolve(i)},error:function(e){return a.reject(e)}}),o=new Yo(rt(n.path),i,{includeMetadataChanges:!0,fo:!0});return qo(e,o)},a.next=3,xs(e);case 3:return a.t1=a.sent,a.t2=e.asyncQueue,a.t3=t,a.t4=n,a.t5=r,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3,a.t4,a.t5));case 9:case"end":return a.stop()}}),a)})))),r.promise}function Is(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.t0=function(e,t,n,r,a){var i=new us({next:function(n){t.enqueueAndForget((function(){return Ko(e,o)})),n.fromCache&&"server"===r.source?a.reject(new M(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(n)},error:function(e){return a.reject(e)}}),o=new Yo(n,i,{includeMetadataChanges:!0,fo:!0});return qo(e,o)},a.next=3,xs(e);case 3:return a.t1=a.sent,a.t2=e.asyncQueue,a.t3=t,a.t4=n,a.t5=r,a.abrupt("return",(0,a.t0)(a.t1,a.t2,a.t3,a.t4,a.t5));case 9:case"end":return a.stop()}}),a)})))),r.promise}var Ts=function e(t,n,r,a,i,o,u,s){Object(v.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=a,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},Ss=function(){function e(t,n){Object(v.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(m.a)(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}]),e}(),Ns=new Map;function Cs(e,t,n){if(!n)throw new M(L.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function As(e,t,n,r){if(!0===t&&!0===r)throw new M(L.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function Rs(e){if(!be.isDocumentKey(e))throw new M(L.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ds(e){if(be.isDocumentKey(e))throw new M(L.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ps(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":A()}function Ls(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new M(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ps(e);throw new M(L.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function Ms(e,t){if(t<=0)throw new M(L.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var Fs=function(){function e(t){var n;if(Object(v.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new M(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new M(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,As("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(m.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Us=function(){function e(t,n){Object(v.a)(this,e),this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fs({}),this._settingsFrozen=!1,t instanceof Ss?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new M(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ss(e.options.projectId)}(t))}return Object(m.a)(e,[{key:"app",get:function(){if(!this._app)throw new M(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new M(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fs(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new V;switch(e.type){case"gapi":var t=e.client;return R(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new K(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new M(L.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=Ns.get(e);t&&(T("ComponentProvider","Removing Datastore"),Ns.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function Vs(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=(e=Ls(e,Us))._getSettings();if("firestore.googleapis.com"!==i.host&&i.host!==t&&N("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},i),{host:"".concat(t,":").concat(n),ssl:!1})),a.mockUserToken){var o,u;if("string"==typeof a.mockUserToken)o=a.mockUserToken,u=j.MOCK_USER;else{o=Object(k.h)(a.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=a.mockUserToken.sub||a.mockUserToken.user_id;if(!s)throw new M(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new j(s)}e._credentials=new B(new U(o,u))}}var Bs=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(m.a)(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new zs(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),qs=function(){function e(t,n,r){Object(v.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(m.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),zs=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this,e,r,rt(a)))._path=a,i.type="collection",i}return Object(m.a)(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Bs(this.firestore,null,new be(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(qs);function Ks(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Object(k.m)(e),Cs("collection","path",t),e instanceof Us){var i=re.fromString.apply(re,[t].concat(r));return Ds(i),new zs(e,null,i)}if(!(e instanceof Bs||e instanceof zs))throw new M(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(re.fromString.apply(re,[t].concat(r)));return Ds(o),new zs(e.firestore,null,o)}function Hs(e,t){if(e=Ls(e,Us),Cs("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new M(L.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new qs(e,null,function(e){return new tt(re.emptyPath(),e)}(t))}function Ws(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];if(e=Object(k.m)(e),1===arguments.length&&(t=G.I()),Cs("doc","path",t),e instanceof Us){var i=re.fromString.apply(re,[t].concat(r));return Rs(i),new Bs(e,null,new be(i))}if(!(e instanceof Bs||e instanceof zs))throw new M(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(re.fromString.apply(re,[t].concat(r)));return Rs(o),new Bs(e.firestore,e instanceof zs?e.converter:null,new be(o))}function Gs(e,t){return e=Object(k.m)(e),t=Object(k.m)(t),(e instanceof Bs||e instanceof zs)&&(t instanceof Bs||t instanceof zs)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function Qs(e,t){return e=Object(k.m)(e),t=Object(k.m)(t),e instanceof qs&&t instanceof qs&&e.firestore===t.firestore&&ht(e._query,t._query)&&e.converter===t.converter}var Ys=function(){function e(){var t=this;Object(v.a)(this,e),this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new qi(this,"async_queue_retry"),this.Rc=function(){var e=Vi();e&&T("AsyncQueue","Visibility state changed to "+e.visibilityState),t.ar.tr()};var n=Vi();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Rc)}return Object(m.a)(e,[{key:"isShuttingDown",get:function(){return this.gc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.bc(),this.Pc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;var t=Vi();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}},{key:"enqueue",value:function(e){var t=this;if(this.bc(),this.gc)return new Promise((function(){}));var n=new F;return this.Pc((function(){return t.gc&&t.Ic?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.mc.push(e),t.vc()}))}},{key:"vc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.mc.length){e.next=14;break}return e.prev=1,e.next=4,this.mc[0]();case 4:this.mc.shift(),this.ar.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Rr(e.t0)){e.next=12;break}throw e.t0;case 12:T("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.mc.length>0&&this.ar.Xi((function(){return t.vc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Pc",value:function(e){var t=this,n=this._c.then((function(){return t.Ec=!0,e().catch((function(e){throw t.Tc=e,t.Ec=!1,S("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.Ec=!1,e}))}));return this._c=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.bc(),this.Ac.indexOf(e)>-1&&(t=0);var a=Po.createAndSchedule(this,e,t,n,(function(e){return r.Vc(e)}));return this.yc.push(a),a}},{key:"bc",value:function(){this.Tc&&A()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Sc",value:function(){var e=Object(l.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._c,e.next=3,t;case 3:if(t!==this._c){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Dc",value:function(e){var t,n=Object(u.a)(this.yc);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Cc",value:function(e){var t=this;return this.Sc().then((function(){t.yc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Object(u.a)(t.yc);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.skipDelay(),"all"!==e&&a.timerId===e)break}}catch(i){r.e(i)}finally{r.f()}return t.Sc()}))}},{key:"Nc",value:function(e){this.Ac.push(e)}},{key:"Vc",value:function(e){var t=this.yc.indexOf(e);this.yc.splice(t,1)}}]),e}();function $s(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,a=Object(u.a)(["next","error","complete"]);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i in r&&"function"==typeof r[i])return!0}}catch(o){a.e(o)}finally{a.f()}return!1}(e)}var Js=function(){function e(){Object(v.a)(this,e),this._progressObserver={},this._taskCompletionResolver=new F,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Object(m.a)(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),Xs=-1,Zs=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e,r)).type="firestore",a._queue=new Ys,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Object(m.a)(n,[{key:"_terminate",value:function(){return this._firestoreClient||tc(this),this._firestoreClient.terminate()}}]),n}(Us);function ec(e){return e._firestoreClient||tc(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function tc(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Ts(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new fs(e._credentials,e._queue,r)}function nc(e,t){fc(e=Ls(e,Zs));var n=ec(e),r=e._freezeSettings(),a=new is;return ac(n,a,new rs(a,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function rc(e){fc(e=Ls(e,Zs));var t=ec(e),n=e._freezeSettings(),r=new is;return ac(t,r,new as(r,n.cacheSizeBytes))}function ac(e,t,n){var r=new F;return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,hs(e,n);case 3:return a.next=5,ps(e,t);case 5:r.resolve(),a.next=13;break;case 8:if(a.prev=8,a.t0=a.catch(0),function(e){return"FirebaseError"===e.name?e.code===L.FAILED_PRECONDITION||e.code===L.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(a.t0)){a.next=12;break}throw a.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a.t0),r.reject(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})))).then((function(){return r.promise}))}function ic(e){if(e._initialized&&!e._terminated)throw new M(L.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new F;return e._queue.enqueueAndForgetEvenWhileRestricted(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Nr.bt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,Nr.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(qa(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}function oc(e){return function(e){var t=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=ju,n.next=3,js(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(ec(e=Ls(e,Zs)))}function uc(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ks(e);case 2:return n=t.sent,t.next=5,Os(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=P(e);return t.Wr.delete(0),Yi(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(ec(e=Ls(e,Zs)))}function sc(e){return function(e){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function t(){var n,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ks(e);case 2:return n=t.sent,t.next=5,Os(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Object(l.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P(t)).Wr.add(0),e.next=4,Ji(n);case 4:n.Hr.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(ec(e=Ls(e,Zs)))}function cc(e,t){var n=ec(e=Ls(e,Zs)),r=new Js;return function(e,t,n,r){var a=function(e,t){return function(e,t){return new ss(e,t)}(function(e,t){if(e instanceof Uint8Array)return os(e,t);if(e instanceof ArrayBuffer)return os(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Bi(t));e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=ts,t.next=3,js(e);case 3:t.t1=t.sent,t.t2=a,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function lc(e,t){return function(e,t){return e.asyncQueue.enqueue(Object(l.a)(c.a.mark((function n(){return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=P(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Je.getNamedQuery(e,t)}))},n.next=3,ws(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(ec(e=Ls(e,Zs)),t).then((function(t){return t?new qs(e,null,t.query):null}))}function fc(e){if(e._initialized||e._terminated)throw new M(L.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var hc=function(){function e(){Object(v.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var a=0;a<n.length;++a)if(0===n[a].length)throw new M(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ie(n)}return Object(m.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var dc=function(){function e(t){Object(v.a)(this,e),this._byteString=t}return Object(m.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(se.fromBase64String(t))}catch(t){throw new M(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(se.fromUint8Array(t))}}]),e}(),pc=function e(t){Object(v.a)(this,e),this._methodName=t},vc=function(){function e(t,n){if(Object(v.a)(this,e),!isFinite(t)||t<-90||t>90)throw new M(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new M(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(m.a)(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Q(this._lat,e._lat)||Q(this._long,e._long)}}]),e}(),mc=/^__.*__$/,yc=function(){function e(t,n,r){Object(v.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(m.a)(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Kt(e,this.data,this.fieldMask,t,this.fieldTransforms):new zt(e,this.data,t,this.fieldTransforms)}}]),e}(),bc=function(){function e(t,n,r){Object(v.a)(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Object(m.a)(e,[{key:"toMutation",value:function(e,t){return new Kt(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function gc(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}var kc=function(){function e(t,n,r,a,i,o){Object(v.a)(this,e),this.settings=t,this.databaseId=n,this.N=r,this.ignoreUndefinedProperties=a,void 0===i&&this.xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object(m.a)(e,[{key:"path",get:function(){return this.settings.path}},{key:"kc",get:function(){return this.settings.kc}},{key:"$c",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.Mc(e),r}},{key:"Lc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.$c({path:n,Fc:!1});return r.xc(),r}},{key:"Bc",value:function(e){return this.$c({path:void 0,Fc:!0})}},{key:"Uc",value:function(e){return Vc(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"xc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}},{key:"Mc",value:function(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if(gc(this.kc)&&mc.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}]),e}(),wc=function(){function e(t,n,r){Object(v.a)(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.N=r||Bi(t)}return Object(m.a)(e,[{key:"jc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new kc({kc:e,methodName:t,Kc:n,path:ie.emptyPath(),Fc:!1,qc:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}]),e}();function Oc(e){var t=e._freezeSettings(),n=Bi(e._databaseId);return new wc(e._databaseId,!!t.ignoreUndefinedProperties,n)}function jc(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.jc(i.merge||i.mergeFields?2:0,t,n,a);Lc("Data must be an object, but it was:",o,r);var s,c,l=Dc(r,o);if(i.merge)s=new oe(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){var f,h=[],d=Object(u.a)(i.mergeFields);try{for(d.s();!(f=d.n()).done;){var p=f.value,v=Mc(t,p,n);if(!o.contains(v))throw new M(L.INVALID_ARGUMENT,"Field '".concat(v,"' is specified in your field mask but missing from your input data."));Bc(h,v)||h.push(v)}}catch(m){d.e(m)}finally{d.f()}s=new oe(h),c=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,c=o.fieldTransforms;return new yc(new Ae(l),s,c)}var xc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.kc)throw 1===e.kc?e.Uc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Uc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pc);function _c(e,t,n){return new kc({kc:3,Kc:t.settings.Kc,methodName:e._methodName,Fc:n},t.databaseId,t.N,t.ignoreUndefinedProperties)}var Ec=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){return new Rt(e.path,new _t)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(pc),Ic=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e)).Qc=r,a}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){var t=_c(this,e,!0),n=this.Qc.map((function(e){return Rc(e,t)})),r=new Et(n);return new Rt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pc),Tc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e)).Qc=r,a}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){var t=_c(this,e,!0),n=this.Qc.map((function(e){return Rc(e,t)})),r=new Tt(n);return new Rt(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pc),Sc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e)).Wc=r,a}return Object(m.a)(n,[{key:"_toFieldTransform",value:function(e){var t=new Nt(e.N,kt(e.N,this.Wc));return new Rt(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(pc);function Nc(e,t,n,r){var a=e.jc(1,t,n);Lc("Data must be an object, but it was:",a,r);var i=[],o=Ae.empty();ee(r,(function(e,r){var u=Uc(t,e,n);r=Object(k.m)(r);var s=a.Lc(u);if(r instanceof xc)i.push(u);else{var c=Rc(r,s);null!=c&&(i.push(u),o.set(u,c))}}));var u=new oe(i);return new bc(o,u,a.fieldTransforms)}function Cc(e,t,n,r,a,i){var o=e.jc(1,t,n),u=[Mc(t,r,n)],s=[a];if(i.length%2!=0)throw new M(L.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<i.length;c+=2)u.push(Mc(t,i[c])),s.push(i[c+1]);for(var l=[],f=Ae.empty(),h=u.length-1;h>=0;--h)if(!Bc(l,u[h])){var d=u[h],p=s[h];p=Object(k.m)(p);var v=o.Lc(d);if(p instanceof xc)l.push(d);else{var m=Rc(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new oe(l);return new bc(f,y,o.fieldTransforms)}function Ac(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Rc(n,e.jc(r?4:3,t))}function Rc(e,t){if(Pc(e=Object(k.m)(e)))return Lc("Unsupported field value:",t,e),Dc(e,t);if(e instanceof pc)return function(e,t){if(!gc(t.kc))throw t.Uc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Uc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,t){var n,r=[],a=0,i=Object(u.a)(e);try{for(i.s();!(n=i.n()).done;){var o=Rc(n.value,t.Bc(a));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),a++}}catch(s){i.e(s)}finally{i.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Object(k.m)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return kt(t.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=J.fromDate(e);return{timestampValue:Sn(t.N,n)}}if(e instanceof J){var r=new J(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Sn(t.N,r)}}if(e instanceof vc)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof dc)return{bytesValue:Nn(t.N,e._byteString)};if(e instanceof Bs){var a=t.databaseId,i=e.firestore._databaseId;if(!i.isEqual(a))throw t.Uc("Document reference is for database ".concat(i.projectId,"/").concat(i.database," but should be for database ").concat(a.projectId,"/").concat(a.database));return{referenceValue:Rn(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Uc("Unsupported field value: ".concat(Ps(e)))}(e,t)}function Dc(e,t){var n={};return te(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ee(e,(function(e,r){var a=Rc(r,t.Oc(e));null!=a&&(n[e]=a)})),{mapValue:{fields:n}}}function Pc(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof J||e instanceof vc||e instanceof dc||e instanceof Bs||e instanceof pc)}function Lc(e,t,n){if(!Pc(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=Ps(n);throw"an object"===r?t.Uc(e+" a custom object"):t.Uc(e+" "+r)}}function Mc(e,t,n){if((t=Object(k.m)(t))instanceof hc)return t._internalPath;if("string"==typeof t)return Uc(e,t);throw Vc("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Fc=new RegExp("[~\\*/\\[\\]]");function Uc(e,t,n){if(t.search(Fc)>=0)throw Vc("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(hc,Object(p.a)(t.split(".")))._internalPath}catch(a){throw Vc("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Vc(e,t,n,r,a){var i=r&&!r.isEmpty(),o=void 0!==a,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(i||o)&&(s+=" (found",i&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(a)),s+=")"),new M(L.INVALID_ARGUMENT,u+e+s)}function Bc(e,t){return e.some((function(e){return e.isEqual(t)}))}var qc=function(){function e(t,n,r,a,i){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=a,this._converter=i}return Object(m.a)(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Bs(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new zc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Kc("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),zc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"data",value:function(){return Object(a.a)(Object(i.a)(n.prototype),"data",this).call(this)}}]),n}(qc);function Kc(e,t){return"string"==typeof t?Uc(e,t):t instanceof hc?t._internalPath:t._delegate._internalPath}var Hc=function(){function e(t,n){Object(v.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(m.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Wc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a,i,o,u){var s;return Object(v.a)(this,n),(s=t.call(this,e,r,a,i,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Object(m.a)(n,[{key:"exists",value:function(){return Object(a.a)(Object(i.a)(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Kc("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(qc),Gc=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(){return Object(v.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(a.a)(Object(i.a)(n.prototype),"data",this).call(this,e)}}]),n}(Wc),Qc=function(){function e(t,n,r,a){Object(v.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=a,this.metadata=new Hc(a.hasPendingWrites,a.fromCache),this.query=r}return Object(m.a)(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Gc(n._firestore,n._userDataWriter,r.key,r,new Hc(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Gc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Gc(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Hc(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),a=-1,i=-1;return 0!==t.type&&(a=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(i=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Yc(t.type),doc:n,oldIndex:a,newIndex:i}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function Yc(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}function $c(e,t){return e instanceof Wc&&t instanceof Wc?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Qc&&t instanceof Qc&&e._firestore===t._firestore&&Qs(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Jc(e){if(it(e)&&0===e.explicitOrderBy.length)throw new M(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xc=function e(){Object(v.a)(this,e)};function Zc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var a=0,i=n;a<i.length;a++){var o=i[a];e=o._apply(e)}return e}var el=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this)).Gc=e,i.zc=r,i.Hc=a,i.type="where",i}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=Oc(e.firestore),n=function(e,t,n,r,a,i,o){var s;if(a.isKeyField()){if("array-contains"===i||"array-contains-any"===i)throw new M(L.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(i,"' queries on FieldPath.documentId()."));if("in"===i||"not-in"===i){vl(o,i);var c,l=[],f=Object(u.a)(o);try{for(f.s();!(c=f.n()).done;){var h=c.value;l.push(pl(r,e,h))}}catch(p){f.e(p)}finally{f.f()}s={arrayValue:{values:l}}}else s=pl(r,e,o)}else"in"!==i&&"not-in"!==i&&"array-contains-any"!==i||vl(o,i),s=Ac(n,"where",o,"in"===i||"not-in"===i);var d=Ve.create(a,i,s);return function(e,t){if(t.v()){var n=ut(e);if(null!==n&&!n.isEqual(t.field))throw new M(L.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=ot(e);null!==r&&ml(e,t.field,r)}var a=function(e,t){var n,r=Object(u.a)(e.filters);try{for(r.s();!(n=r.n()).done;){var a=n.value;if(t.indexOf(a.op)>=0)return a.op}}catch(p){r.e(p)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new M(L.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new M(L.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}(e,d),d}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new qs(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new tt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(Xc);function tl(e,t,n){var r=t,a=Kc("where",e);return new el(a,r,n)}var nl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this)).Gc=e,a.Jc=r,a.type="orderBy",a}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new M(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new M(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Je(t,n);return function(e,t){if(null===ot(e)){var n=ut(e);null!==n&&ml(e,n,t.field)}}(e,r),r}(e._query,this.Gc,this.Jc);return new qs(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new tt(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(Xc);function rl(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=t,r=Kc("orderBy",e);return new nl(r,n)}var al=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this)).type=e,i.Yc=r,i.Xc=a,i}return Object(m.a)(n,[{key:"_apply",value:function(e){return new qs(e.firestore,e.converter,ft(e._query,this.Yc,this.Xc))}}]),n}(Xc);function il(e){return Ms("limit",e),new al("limit",e,"F")}function ol(e){return Ms("limitToLast",e),new al("limitToLast",e,"L")}var ul=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this)).type=e,i.Zc=r,i.ta=a,i}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=dl(e,this.type,this.Zc,this.ta);return new qs(e.firestore,e.converter,function(e,t){return new tt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(Xc);function sl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ul("startAt",t,!0)}function cl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ul("startAfter",t,!1)}var ll=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r,a){var i;return Object(v.a)(this,n),(i=t.call(this)).type=e,i.Zc=r,i.ta=a,i}return Object(m.a)(n,[{key:"_apply",value:function(e){var t=dl(e,this.type,this.Zc,this.ta);return new qs(e.firestore,e.converter,function(e,t){return new tt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(Xc);function fl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ll("endBefore",t,!0)}function hl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new ll("endAt",t,!1)}function dl(e,t,n,r){if(n[0]=Object(k.m)(n[0]),n[0]instanceof qc)return function(e,t,n,r,a){if(!r)throw new M(L.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var i,o=[],s=Object(u.a)(ct(e));try{for(s.s();!(i=s.n()).done;){var c=i.value;if(c.field.isKeyField())o.push(_e(t,r.key));else{var l=r.data.field(c.field);if(de(l))throw new M(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+c.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===l){var f=c.field.canonicalString();throw new M(L.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(f,"' (used as the orderBy) does not exist."))}o.push(l)}}}catch(h){s.e(h)}finally{s.f()}return new Ye(o,a)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var a=Oc(e.firestore);return function(e,t,n,r,a,i){var o=e.explicitOrderBy;if(a.length>o.length)throw new M(L.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<a.length;s++){var c=a[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new M(L.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!st(e)&&-1!==c.indexOf("/"))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(re.fromString(c));if(!be.isDocumentKey(l))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new be(l);u.push(_e(t,f))}else{var h=Ac(n,r,c);u.push(h)}}return new Ye(u,i)}(e._query,e.firestore._databaseId,a,t,n,r)}function pl(e,t,n){if("string"==typeof(n=Object(k.m)(n))){if(""===n)throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!st(t)&&-1!==n.indexOf("/"))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(re.fromString(n));if(!be.isDocumentKey(r))throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return _e(e,new be(r))}if(n instanceof Bs)return _e(e,n._key);throw new M(L.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Ps(n),"."))}function vl(e,t){if(!Array.isArray(e)||0===e.length)throw new M(L.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new M(L.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function ml(e,t,n){if(!n.isEqual(t))throw new M(L.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var yl=function(){function e(){Object(v.a)(this,e)}return Object(m.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ge(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(he(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ee(e.fields,(function(e,a){r[e]=n.convertValue(a,t)})),r}},{key:"convertGeoPoint",value:function(e){return new vc(fe(e.latitude),fe(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return de(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(pe(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=le(e);return new J(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=re.fromString(e);R(ar(n));var r=new Ss(n.get(1),n.get(3)),a=new be(n.popFirst(5));return r.isEqual(t)||S("Document ".concat(a," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),a}}]),e}();function bl(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(m.a)(n,[{key:"convertBytes",value:function(e){return new dc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,t)}}]),n}(yl),kl=function(){function e(t,n){Object(v.a)(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Oc(t)}return Object(m.a)(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=wl(e,this._firestore),a=bl(r.converter,t,n),i=jc(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,n);return this._mutations.push(i.toMutation(r._key,Pt.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,a=wl(e,this._firestore),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(k.m)(t))||t instanceof hc?Cc(this._dataReader,"WriteBatch.update",a._key,t,n,o):Nc(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(r.toMutation(a._key,Pt.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=wl(e,this._firestore);return this._mutations=this._mutations.concat(new $t(t._key,Pt.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new M(L.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function wl(e,t){if((e=Object(k.m)(e)).firestore!==t)throw new M(L.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Ol(e){e=Ls(e,Bs);var t=Ls(e.firestore,Zs);return Es(ec(t),e._key).then((function(n){return Ll(t,e,n)}))}var jl=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(v.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(m.a)(n,[{key:"convertBytes",value:function(e){return new dc(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bs(this.firestore,null,t)}}]),n}(yl);function xl(e){e=Ls(e,Bs);var t=Ls(e.firestore,Zs),n=ec(t),r=new jl(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var a,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=P(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Qn.An(e,t)}))}(t,n);case 3:(a=e.sent).isFoundDocument()?r.resolve(a):a.isNoDocument()?r.resolve(null):r.reject(new M(L.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),i=Lo(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(i);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ws(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new Wc(t,r,e._key,n,new Hc(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function _l(e){e=Ls(e,Bs);var t=Ls(e.firestore,Zs);return Es(ec(t),e._key,{source:"server"}).then((function(n){return Ll(t,e,n)}))}function El(e){e=Ls(e,qs);var t=Ls(e.firestore,Zs),n=ec(t),r=new jl(t);return Jc(e._query),Is(n,e._query).then((function(n){return new Qc(t,r,e,n)}))}function Il(e){e=Ls(e,qs);var t=Ls(e.firestore,Zs),n=ec(t),r=new jl(t);return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Object(l.a)(c.a.mark((function e(t,n,r){var a,i,o,u,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ii(t,n,!0);case 3:a=e.sent,i=new nu(n,a.Gn),o=i.bo(a.documents),u=i.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=Lo(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,ws(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new Qc(t,r,e,n)}))}function Tl(e){e=Ls(e,qs);var t=Ls(e.firestore,Zs),n=ec(t),r=new jl(t);return Is(n,e._query,{source:"server"}).then((function(n){return new Qc(t,r,e,n)}))}function Sl(e,t,n){e=Ls(e,Bs);var r=Ls(e.firestore,Zs),a=bl(e.converter,t,n);return Pl(r,[jc(Oc(r),"setDoc",e._key,a,null!==e.converter,n).toMutation(e._key,Pt.none())])}function Nl(e,t,n){e=Ls(e,Bs);for(var r=Ls(e.firestore,Zs),a=Oc(r),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return Pl(r,[("string"==typeof(t=Object(k.m)(t))||t instanceof hc?Cc(a,"updateDoc",e._key,t,n,o):Nc(a,"updateDoc",e._key,t)).toMutation(e._key,Pt.exists(!0))])}function Cl(e){return Pl(Ls(e.firestore,Zs),[new $t(e._key,Pt.none())])}function Al(e,t){var n=Ls(e.firestore,Zs),r=Ws(e),a=bl(e.converter,t);return Pl(n,[jc(Oc(e.firestore),"addDoc",r._key,a,null!==e.converter,{}).toMutation(r._key,Pt.exists(!1))]).then((function(){return r}))}function Rl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,i,o;e=Object(k.m)(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||$s(n[s])||(u=n[s],s++);var f,h,d,p={includeMetadataChanges:u.includeMetadataChanges};if($s(n[s])){var v=n[s];n[s]=null===(a=v.next)||void 0===a?void 0:a.bind(v),n[s+1]=null===(i=v.error)||void 0===i?void 0:i.bind(v),n[s+2]=null===(o=v.complete)||void 0===o?void 0:o.bind(v)}if(e instanceof Bs)h=Ls(e.firestore,Zs),d=rt(e._key.path),f={next:function(t){n[s]&&n[s](Ll(h,e,t))},error:n[s+1],complete:n[s+2]};else{var m=Ls(e,qs);h=Ls(m.firestore,Zs),d=m._query;var y=new jl(h);f={next:function(e){n[s]&&n[s](new Qc(h,y,m,e))},error:n[s+1],complete:n[s+2]},Jc(e._query)}return function(e,t,n,r){var a=new us(r),i=new Yo(t,a,n);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=qo,t.next=3,xs(e);case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){a.ec(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=Ko,t.next=3,xs(e);case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ec(h),d,p,f)}function Dl(e,t){return function(e,t){var n=new us(t);return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){P(e).so.add(t),t.next()},t.next=3,xs(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.ec(),e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function t(){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){P(e).so.delete(t)},t.next=3,xs(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(ec(e=Ls(e,Zs)),$s(t)?t:{next:t})}function Pl(e,t){return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=hu,r.next=3,js(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(ec(e),t)}function Ll(e,t,n){var r=n.docs.get(t._key),a=new jl(e);return new Wc(e,a,t._key,r,new Hc(n.hasPendingWrites,n.fromCache),t.converter)}var Ml=function(e){Object(f.a)(n,e);var t=Object(h.a)(n);function n(e,r){var a;return Object(v.a)(this,n),(a=t.call(this,e,r))._firestore=e,a}return Object(m.a)(n,[{key:"get",value:function(e){var t=this,r=wl(e,this._firestore),o=new jl(this._firestore);return Object(a.a)(Object(i.a)(n.prototype),"get",this).call(this,e).then((function(e){return new Wc(t._firestore,o,r._key,e._document,new Hc(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Object(v.a)(this,e),this._firestore=t,this._transaction=n,this._dataReader=Oc(t)}return Object(m.a)(e,[{key:"get",value:function(e){var t=this,n=wl(e,this._firestore),r=new gl(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return A();var a=e[0];if(a.isFoundDocument())return new qc(t._firestore,r,a.key,a,n.converter);if(a.isNoDocument())return new qc(t._firestore,r,n._key,null,n.converter);throw A()}))}},{key:"set",value:function(e,t,n){var r=wl(e,this._firestore),a=bl(r.converter,t,n),i=jc(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,n);return this._transaction.set(r._key,i),this}},{key:"update",value:function(e,t,n){for(var r,a=wl(e,this._firestore),i=arguments.length,o=new Array(i>3?i-3:0),u=3;u<i;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Object(k.m)(t))||t instanceof hc?Cc(this._dataReader,"Transaction.update",a._key,t,n,o):Nc(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,r),this}},{key:"delete",value:function(e){var t=wl(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function Fl(e,t){return function(e,t){var n=new F;return e.asyncQueue.enqueueAndForget(Object(l.a)(c.a.mark((function r(){var a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return bs(e).then((function(e){return e.datastore}))}(e);case 2:a=r.sent,new ls(e.asyncQueue,a,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(ec(e=Ls(e,Zs)),(function(n){return t(new Ml(e,n))}))}function Ul(){return new xc("deleteField")}function Vl(){return new Ec("serverTimestamp")}function Bl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ic("arrayUnion",t)}function ql(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Tc("arrayRemove",t)}function zl(e){return new Sc("increment",e)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){x=e}(y.SDK_VERSION),Object(y._registerComponent)(new b.a("firestore",(function(e,n){var r=n.options,a=e.getProvider("app").getImmediate(),i=new Zs(a,new q(e.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:t},r),i._setSettings(r),i}),"PUBLIC")),Object(y.registerVersion)(O,"3.3.0",e),Object(y.registerVersion)(O,"3.3.0","esm2017")}()}).call(this,n(104))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(52);function a(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(22),a=n(73);function i(e){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var o=n(48);function u(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(o.a)(e):t}function s(e){return function(){var t,n=Object(r.a)(e);if(Object(a.a)()){var i=Object(r.a)(this).constructor;t=Reflect.construct(n,arguments,i)}else t=n.apply(this,arguments);return u(this,t)}}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(70);var a=n(44),i=n(71);function o(e,t){return Object(r.a)(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,a=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){a=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(a)throw i}}return n}}(e,t)||Object(a.a)(e,t)||Object(i.a)()}},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)){if(r.length){var o=a.apply(null,r);o&&e.push(o)}}else if("object"===i)if(r.toString===Object.prototype.toString)for(var u in r)n.call(r,u)&&r[u]&&e.push(u);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));n(6);var r=n(1),a=(n(8),r.createContext({prefixes:{}}));a.Consumer,a.Provider;function i(e,t){var n=Object(r.useContext)(a).prefixes;return e||n[t]||t}function o(){return"rtl"===Object(r.useContext)(a).dir}},function(e,t,n){"use strict";n.r(t),n.d(t,"SDK_VERSION",(function(){return A})),n.d(t,"_DEFAULT_ENTRY_NAME",(function(){return b})),n.d(t,"_addComponent",(function(){return O})),n.d(t,"_addOrOverwriteComponent",(function(){return j})),n.d(t,"_apps",(function(){return k})),n.d(t,"_clearComponents",(function(){return I})),n.d(t,"_components",(function(){return w})),n.d(t,"_getProvider",(function(){return _})),n.d(t,"_registerComponent",(function(){return x})),n.d(t,"_removeServiceInstance",(function(){return E})),n.d(t,"deleteApp",(function(){return L})),n.d(t,"getApp",(function(){return D})),n.d(t,"getApps",(function(){return P})),n.d(t,"initializeApp",(function(){return R})),n.d(t,"onLog",(function(){return U})),n.d(t,"registerVersion",(function(){return F})),n.d(t,"setLogLevel",(function(){return V}));var r,a,i=n(0),o=n.n(i),u=n(2),s=n(9),c=n(5),l=n(3),f=n(4),h=n(23),d=n(25),p=n(7);n.d(t,"FirebaseError",(function(){return p.c}));var v=function(){function e(t){Object(l.a)(this,e),this.container=t}return Object(f.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var m="@firebase/app",y=new d.b("@firebase/app"),b="[DEFAULT]",g=(r={},Object(c.a)(r,m,"fire-core"),Object(c.a)(r,"@firebase/app-compat","fire-core-compat"),Object(c.a)(r,"@firebase/analytics","fire-analytics"),Object(c.a)(r,"@firebase/analytics-compat","fire-analytics-compat"),Object(c.a)(r,"@firebase/app-check","fire-app-check"),Object(c.a)(r,"@firebase/app-check-compat","fire-app-check-compat"),Object(c.a)(r,"@firebase/auth","fire-auth"),Object(c.a)(r,"@firebase/auth-compat","fire-auth-compat"),Object(c.a)(r,"@firebase/database","fire-rtdb"),Object(c.a)(r,"@firebase/database-compat","fire-rtdb-compat"),Object(c.a)(r,"@firebase/functions","fire-fn"),Object(c.a)(r,"@firebase/functions-compat","fire-fn-compat"),Object(c.a)(r,"@firebase/installations","fire-iid"),Object(c.a)(r,"@firebase/installations-compat","fire-iid-compat"),Object(c.a)(r,"@firebase/messaging","fire-fcm"),Object(c.a)(r,"@firebase/messaging-compat","fire-fcm-compat"),Object(c.a)(r,"@firebase/performance","fire-perf"),Object(c.a)(r,"@firebase/performance-compat","fire-perf-compat"),Object(c.a)(r,"@firebase/remote-config","fire-rc"),Object(c.a)(r,"@firebase/remote-config-compat","fire-rc-compat"),Object(c.a)(r,"@firebase/storage","fire-gcs"),Object(c.a)(r,"@firebase/storage-compat","fire-gcs-compat"),Object(c.a)(r,"@firebase/firestore","fire-fst"),Object(c.a)(r,"@firebase/firestore-compat","fire-fst-compat"),Object(c.a)(r,"fire-js","fire-js"),Object(c.a)(r,"firebase","fire-js-all"),r),k=new Map,w=new Map;function O(e,t){try{e.container.addComponent(t)}catch(n){y.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function j(e,t){e.container.addOrOverwriteComponent(t)}function x(e){var t=e.name;if(w.has(t))return y.debug("There were multiple attempts to register component ".concat(t,".")),!1;w.set(t,e);var n,r=Object(s.a)(k.values());try{for(r.s();!(n=r.n()).done;){O(n.value,e)}}catch(a){r.e(a)}finally{r.f()}return!0}function _(e,t){return e.container.getProvider(t)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b;_(e,t).clearInstance(n)}function I(){w.clear()}var T,S=(a={},Object(c.a)(a,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(c.a)(a,"bad-app-name","Illegal App name: '{$appName}"),Object(c.a)(a,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(c.a)(a,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(c.a)(a,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(c.a)(a,"invalid-log-argument","First argument to `onLog` must be null or a function."),a),N=new p.b("app","Firebase",S),C=function(){function e(t,n,r){var a=this;Object(l.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new h.a("app",(function(){return a}),"PUBLIC"))}return Object(f.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw N.create("app-deleted",{appName:this._name})}}]),e}(),A="9.4.1";function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:b,automaticDataCollectionEnabled:!1},t),a=r.name;if("string"!==typeof a||!a)throw N.create("bad-app-name",{appName:String(a)});var i=k.get(a);if(i){if(Object(p.j)(e,i.options)&&Object(p.j)(r,i.config))return i;throw N.create("duplicate-app",{appName:a})}var o,u=new h.b(a),c=Object(s.a)(w.values());try{for(c.s();!(o=c.n()).done;){var l=o.value;u.addComponent(l)}}catch(d){c.e(d)}finally{c.f()}var f=new C(e,r,u);return k.set(a,f),f}function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=k.get(e);if(!t)throw N.create("no-app",{appName:e});return t}function P(){return Array.from(k.values())}function L(e){return M.apply(this,arguments)}function M(){return(M=Object(u.a)(o.a.mark((function e(t){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!k.has(n)){e.next=6;break}return k.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e,t,n){var r,a=null!==(r=g[e])&&void 0!==r?r:e;n&&(a+="-".concat(n));var i=a.match(/\s|\//),o=t.match(/\s|\//);if(i||o){var u=['Unable to register library "'.concat(a,'" with version "').concat(t,'":')];return i&&u.push('library name "'.concat(a,'" contains illegal characters (whitespace or "/")')),i&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void y.warn(u.join(" "))}x(new h.a("".concat(a,"-version"),(function(){return{library:a,version:t}}),"VERSION"))}function U(e,t){if(null!==e&&"function"!==typeof e)throw N.create("invalid-log-argument");Object(d.d)(e,t)}function V(e){Object(d.c)(e)}T="",x(new h.a("platform-logger",(function(e){return new v(e)}),"PRIVATE")),F(m,"0.7.8",T),F(m,"0.7.8","esm2017"),F("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return m})),n.d(t,"f",(function(){return y})),n.d(t,"g",(function(){return b})),n.d(t,"h",(function(){return g}));var r=n(15),a=n(1),i=n(34);function o(e,t){if(!e)throw new Error(t)}var u=Object(a.createContext)(null);var s=Object(a.createContext)(null);var c=Object(a.createContext)({outlet:null,matches:[]});function l(e){return Object(a.useContext)(c).outlet}function f(e){o(!1)}function h(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,c=void 0===r?null:r,l=e.location,f=e.navigationType,h=void 0===f?i.a.Pop:f,d=e.navigator,p=e.static,m=void 0!==p&&p;v()&&o(!1);var y=S(n),b=Object(a.useMemo)((function(){return{basename:y,navigator:d,static:m}}),[y,d,m]);"string"===typeof l&&(l=Object(i.f)(l));var g=l,k=g.pathname,w=void 0===k?"/":k,O=g.search,j=void 0===O?"":O,x=g.hash,_=void 0===x?"":x,E=g.state,T=void 0===E?null:E,N=g.key,C=void 0===N?"default":N,A=Object(a.useMemo)((function(){var e=I(w,y);return null==e?null:{pathname:e,search:j,hash:_,state:T,key:C}}),[y,w,j,_,T,C]);return null==A?null:Object(a.createElement)(u.Provider,{value:b},Object(a.createElement)(s.Provider,{children:c,value:{location:A,navigationType:h}}))}function d(e){var t=e.children,n=e.location;return function(e,t){v()||o(!1);var n=Object(a.useContext)(c).matches,r=n[n.length-1],u=r?r.params:{},s=(r&&r.pathname,r?r.pathnameBase:"/");r&&r.route;0;var l,f=m();if(t){var h,d="string"===typeof t?Object(i.f)(t):t;"/"===s||(null==(h=d.pathname)?void 0:h.startsWith(s))||o(!1),l=d}else l=f;var p=l.pathname||"/",y="/"===s?p:p.slice(s.length)||"/",b=function(e,t,n){void 0===n&&(n="/");var r=I(("string"===typeof t?Object(i.f)(t):t).pathname||"/",n);if(null==r)return null;var a=function e(t,n,r,a){void 0===n&&(n=[]);void 0===r&&(r=[]);void 0===a&&(a="");return t.forEach((function(t,i){var u={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:i};u.relativePath.startsWith("/")&&(u.relativePath.startsWith(a)||o(!1),u.relativePath=u.relativePath.slice(a.length));var s=T([a,u.relativePath]),c=r.concat(u);t.children&&t.children.length>0&&(!0===t.index&&o(!1),e(t.children,n,c,s)),(null!=t.path||t.index)&&n.push({path:s,score:O(s,t.index),routesMeta:c})})),n}(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}))?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(a);for(var u=null,s=0;null==u&&s<a.length;++s)u=j(a[s],e,r);return u}(e,{pathname:y});0;return x(b&&b.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:T([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:T([s,e.pathnameBase])})})),n)}(function e(t){var n=[];return a.Children.forEach(t,(function(t){if(Object(a.isValidElement)(t))if(t.type!==a.Fragment){t.type!==f&&o(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=e(t.props.children)),n.push(r)}else n.push.apply(n,e(t.props.children))})),n}(t),n)}function p(e){v()||o(!1);var t=Object(a.useContext)(u),n=t.basename,r=t.navigator,s=g(e),c=s.hash,l=s.pathname,f=s.search,h=l;if("/"!==n){var d=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?Object(i.f)(e).pathname:e.pathname}(e),p=null!=d&&d.endsWith("/");h="/"===l?n+(p?"/":""):T([n,l])}return r.createHref({pathname:h,search:f,hash:c})}function v(){return null!=Object(a.useContext)(s)}function m(){return v()||o(!1),Object(a.useContext)(s).location}function y(){v()||o(!1);var e=Object(a.useContext)(u),t=e.basename,n=e.navigator,r=Object(a.useContext)(c).matches,i=m().pathname,s=JSON.stringify(r.map((function(e){return e.pathnameBase}))),l=Object(a.useRef)(!1);return Object(a.useEffect)((function(){l.current=!0})),Object(a.useCallback)((function(e,r){if(void 0===r&&(r={}),l.current)if("number"!==typeof e){var a=E(e,JSON.parse(s),i);"/"!==t&&(a.pathname=T([t,a.pathname])),(r.replace?n.replace:n.push)(a,r.state)}else n.go(e)}),[t,n,s,i])}function b(){var e=Object(a.useContext)(c).matches,t=e[e.length-1];return t?t.params:{}}function g(e){var t=Object(a.useContext)(c).matches,n=m().pathname,r=JSON.stringify(t.map((function(e){return e.pathnameBase})));return Object(a.useMemo)((function(){return E(e,JSON.parse(r),n)}),[e,r,n])}var k=/^:\w+$/,w=function(e){return"*"===e};function O(e,t){var n=e.split("/"),r=n.length;return n.some(w)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!w(e)})).reduce((function(e,t){return e+(k.test(t)?3:""===t?1:10)}),r)}function j(e,t,n){for(var r=t,a=e.routesMeta,i={},o="/",u=[],s=0;s<a.length;++s){var c=a[s],l=s===a.length-1,f="/"===o?n:n.slice(o.length)||"/",h=_({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},f);if(!h)return null;Object.assign(i,h.params);var d=r[c.childrenIndex];u.push({params:i,pathname:T([o,h.pathname]),pathnameBase:T([o,h.pathnameBase]),route:d}),"/"!==h.pathnameBase&&(o=T([o,h.pathnameBase])),r=d.children}return u}function x(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,r,i){return Object(a.createElement)(c.Provider,{children:void 0!==r.route.element?r.route.element:Object(a.createElement)(l,null),value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})}),null)}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):a+=n?"\\/*$":"(?:\\b|$)";return[new RegExp(a,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),a=Object(r.a)(n,2),i=a[0],o=a[1],u=t.match(i);if(!u)return null;var s=u[0],c=s.replace(/(.)\/+$/,"$1"),l=u.slice(1);return{params:o.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(l[n]||""),e}),{}),pathname:s,pathnameBase:c,pattern:e}}function E(e,t,n){var r,a="string"===typeof e?Object(i.f)(e):e,o=""===e||""===a.pathname?"/":a.pathname;if(null==o)r=n;else{var u=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),u-=1;a.pathname=s.join("/")}r=u>=0?t[u]:"/"}var c=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Object(i.f)(e):e,r=n.pathname,a=n.search,o=void 0===a?"":a,u=n.hash,s=void 0===u?"":u;return{pathname:r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t,search:N(o),hash:C(s)}}(a,r);return o&&"/"!==o&&o.endsWith("/")&&!c.pathname.endsWith("/")&&(c.pathname+="/"),c}function I(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var T=function(e){return e.join("/").replace(/\/\/+/g,"/")},S=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},N=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},C=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(62);var a=n(72),i=n(44);function o(e){return function(e){if(Array.isArray(e))return Object(r.a)(e)}(e)||Object(a.a)(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(6),a=n(14),i=n(16),o=n.n(i),u=/-(.)/g;var s=n(1),c=n(17),l=n(8),f=["className","bsPrefix","as"],h=function(e){return e[0].toUpperCase()+(t=e,t.replace(u,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.displayName,i=void 0===n?h(e):n,u=t.Component,d=t.defaultProps,p=s.forwardRef((function(t,n){var i=t.className,s=t.bsPrefix,h=t.as,d=void 0===h?u||"div":h,p=Object(a.a)(t,f),v=Object(c.a)(s,e);return Object(l.jsx)(d,Object(r.a)({ref:n,className:o()(i,v)},p))}));return p.defaultProps=d,p.displayName=i,p}},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return p}));var r=n(0),a=n.n(r),i=n(20),o=n(2),u=n(15),s=n(9),c=n(3),l=n(4),f=n(7),h=function(){function e(t,n,r){Object(c.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(l.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),d=function(){function e(t,n){Object(c.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(l.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new f.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(a){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(a){if(r)return null;throw a}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:"[DEFAULT]"})}catch(l){}var t,n=Object(s.a)(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(u.a)(t.value,2),a=r[0],i=r[1],o=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch(l){}}}catch(f){n.e(f)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(i.a)(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Object(i.a)(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a,i=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Object(s.a)(this.instancesDeferred.entries());try{for(o.s();!(a=o.n()).done;){var c=Object(u.a)(a.value,2),l=c[0],f=c[1],h=this.normalizeInstanceIdentifier(l);r===h&&f.resolve(i)}}catch(d){o.e(d)}finally{o.f()}return i}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),a=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;a.add(e),this.onInitCallbacks.set(r,a);var i=this.instances.get(r);return i&&e(i,r),function(){a.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,a=Object(s.a)(n);try{for(a.s();!(r=a.n()).done;){var i=r.value;try{i(e,t)}catch(o){}}}catch(u){a.e(u)}finally{a.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,a=void 0===r?{}:r,i=this.instances.get(n);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,"[DEFAULT]"===t?void 0:t),options:a}),this.instances.set(n,i),this.instancesOptions.set(n,a),this.invokeOnInitCallbacks(i,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,i)}catch(o){}return i||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"[DEFAULT]";return this.component?this.component.multipleInstances?e:"[DEFAULT]":e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var p=function(){function e(t){Object(c.a)(this,e),this.name=t,this.providers=new Map}return Object(l.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new d(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(22);function a(e,t,n){return(a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var a=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(a){var i=Object.getOwnPropertyDescriptor(a,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return m}));var r,a,i=n(9),o=n(3),u=n(4),s=n(5),c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(a||(a={}));var l={debug:a.DEBUG,verbose:a.VERBOSE,info:a.INFO,warn:a.WARN,error:a.ERROR,silent:a.SILENT},f=a.INFO,h=(r={},Object(s.a)(r,a.DEBUG,"log"),Object(s.a)(r,a.VERBOSE,"log"),Object(s.a)(r,a.INFO,"info"),Object(s.a)(r,a.WARN,"warn"),Object(s.a)(r,a.ERROR,"error"),r),d=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=h[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var a,i=arguments.length,o=new Array(i>2?i-2:0),u=2;u<i;u++)o[u-2]=arguments[u];(a=console)[r].apply(a,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},p=function(){function e(t){Object(o.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=d,this._userLogHandler=null,c.push(this)}return Object(u.a)(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in a))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?l[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.DEBUG].concat(t)),this._logHandler.apply(this,[this,a.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.VERBOSE].concat(t)),this._logHandler.apply(this,[this,a.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.INFO].concat(t)),this._logHandler.apply(this,[this,a.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.WARN].concat(t)),this._logHandler.apply(this,[this,a.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,a.ERROR].concat(t)),this._logHandler.apply(this,[this,a.ERROR].concat(t))}}]),e}();function v(e){c.forEach((function(t){t.setLogLevel(e)}))}function m(e,t){var n,r=Object(i.a)(c);try{var o=function(){var r=n.value,i=null;t&&t.level&&(i=l[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),u=2;u<r;u++)o[u-2]=arguments[u];var s=o.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:a[n].toLowerCase(),message:s,args:o,type:t.name})}};for(r.s();!(n=r.n()).done;)o()}catch(u){r.e(u)}finally{r.f()}}},function(e,t,n){e.exports=n(109)()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return f}));n(9);var r=n(15),a=n(1),i=n(34),o=n(19);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var c=["onClick","reloadDocument","replace","state","target","to"];function l(e){var t=e.basename,n=e.children,u=e.window,s=Object(a.useRef)();null==s.current&&(s.current=Object(i.b)({window:u}));var c=s.current,l=Object(a.useState)({action:c.action,location:c.location}),f=Object(r.a)(l,2),h=f[0],d=f[1];return Object(a.useLayoutEffect)((function(){return c.listen(d)}),[c]),Object(a.createElement)(o.b,{basename:t,children:n,location:h.location,navigationType:h.action,navigator:c})}var f=Object(a.forwardRef)((function(e,t){var n=e.onClick,r=e.reloadDocument,l=e.replace,f=void 0!==l&&l,h=e.state,d=e.target,p=e.to,v=s(e,c),m=Object(o.d)(p),y=function(e,t){var n=void 0===t?{}:t,r=n.target,u=n.replace,s=n.state,c=Object(o.f)(),l=Object(o.e)(),f=Object(o.h)(e);return Object(a.useCallback)((function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!u||Object(i.e)(l)===Object(i.e)(f);c(e,{replace:n,state:s})}}),[l,c,f,u,s,r,e])}(p,{replace:f,state:h,target:d});return Object(a.createElement)("a",u({},v,{href:m,onClick:function(e){n&&n(e),e.defaultPrevented||r||y(e)},ref:t,target:d}))}))},function(e,t,n){"use strict";var r=n(1),a=r.createContext({});t.a=a},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return vr})),n.d(t,"b",(function(){return yr})),n.d(t,"c",(function(){return mr})),n.d(t,"d",(function(){return gr})),n.d(t,"e",(function(){return br})),n.d(t,"f",(function(){return kr})),n.d(t,"g",(function(){return wr})),n.d(t,"h",(function(){return dr})),n.d(t,"i",(function(){return pr}));var r,a=n(9),i=n(24),o=n(22),u=n(12),s=n(13),c=n(3),l=n(4),f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},h={},d=d||{},p=f||self;function v(){}function m(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function y(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var b="closure_uid_"+(1e9*Math.random()>>>0),g=0;function k(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function O(e,t,n){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?k:w).apply(null,arguments)}function j(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function x(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var a=Array(arguments.length-2),i=2;i<arguments.length;i++)a[i-2]=arguments[i];return t.prototype[n].apply(e,a)}}function _(){this.s=this.s,this.o=this.o}var E={};_.prototype.s=!1,_.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++g)}(this);delete E[e]}},_.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var I=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},T=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,a="string"===typeof e?e.split(""):e,i=0;i<r;i++)i in a&&t.call(n,a[i],i,e)};function S(e){return Array.prototype.concat.apply([],arguments)}function N(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function C(e){return/^[\s\xa0]*$/.test(e)}var A,R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function P(e,t){return e<t?-1:e>t?1:0}e:{var L=p.navigator;if(L){var M=L.userAgent;if(M){A=M;break e}}A=""}function F(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function U(e){var t={};for(var n in e)t[n]=e[n];return t}var V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,t){for(var n,r,a=1;a<arguments.length;a++){for(n in r=arguments[a])e[n]=r[n];for(var i=0;i<V.length;i++)n=V[i],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e){return q[" "](e),e}q[" "]=v;var z,K=D(A,"Opera"),H=D(A,"Trident")||D(A,"MSIE"),W=D(A,"Edge"),G=W||H,Q=D(A,"Gecko")&&!(D(A.toLowerCase(),"webkit")&&!D(A,"Edge"))&&!(D(A,"Trident")||D(A,"MSIE"))&&!D(A,"Edge"),Y=D(A.toLowerCase(),"webkit")&&!D(A,"Edge");function $(){var e=p.document;return e?e.documentMode:void 0}e:{var J="",X=function(){var e=A;return Q?/rv:([^\);]+)(\)|;)/.exec(e):W?/Edge\/([\d\.]+)/.exec(e):H?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Y?/WebKit\/(\S+)/.exec(e):K?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&(J=X?X[1]:""),H){var Z=$();if(null!=Z&&Z>parseFloat(J)){z=String(Z);break e}}z=J}var ee,te={};function ne(){return function(e){var t=te;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=R(String(z)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),a=0;0==e&&a<r;a++){var i=t[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=P(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||P(0==i[2].length,0==o[2].length)||P(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}))}if(p.document&&H){var re=$();ee=re||(parseInt(z,10)||void 0)}else ee=void 0;var ae=ee,ie=function(){if(!p.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{p.addEventListener("test",v,t),p.removeEventListener("test",v,t)}catch(n){}return e}();function oe(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function ue(e,t){if(oe.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Q){e:{try{q(t.nodeName);var a=!0;break e}catch(i){}a=!1}a||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:se[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ue.Z.h.call(this)}}oe.prototype.h=function(){this.defaultPrevented=!0},x(ue,oe);var se={2:"touch",3:"pen",4:"mouse"};ue.prototype.h=function(){ue.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),le=0;function fe(e,t,n,r,a){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=a,this.key=++le,this.ca=this.fa=!1}function he(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function de(e){this.src=e,this.g={},this.h=0}function pe(e,t){var n=t.type;if(n in e.g){var r,a=e.g[n],i=I(a,t);(r=0<=i)&&Array.prototype.splice.call(a,i,1),r&&(he(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ve(e,t,n,r){for(var a=0;a<e.length;++a){var i=e[a];if(!i.ca&&i.listener==t&&i.capture==!!n&&i.ia==r)return a}return-1}de.prototype.add=function(e,t,n,r,a){var i=e.toString();(e=this.g[i])||(e=this.g[i]=[],this.h++);var o=ve(e,t,r,a);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fe(t,this.src,i,!!r,a)).fa=n,e.push(t)),t};var me="closure_lm_"+(1e6*Math.random()|0),ye={};function be(e,t,n,r,a){if(r&&r.once)return function e(t,n,r,a,i){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,a,i);return null}return r=_e(r),t&&t[ce]?t.O(n,r,y(a)?!!a.capture:!!a,i):ge(t,n,r,!0,a,i)}(e,t,n,r,a);if(Array.isArray(t)){for(var i=0;i<t.length;i++)be(e,t[i],n,r,a);return null}return n=_e(n),e&&e[ce]?e.N(t,n,y(r)?!!r.capture:!!r,a):ge(e,t,n,!1,r,a)}function ge(e,t,n,r,a,i){if(!t)throw Error("Invalid event type");var o=y(a)?!!a.capture:!!a,u=je(e);if(u||(e[me]=u=new de(e)),(n=u.add(t,n,r,o,i)).proxy)return n;if(r=function(){var e=Oe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)ie||(a=o),void 0===a&&(a=!1),e.addEventListener(t.toString(),r,a);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ke(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=je(t))?(pe(n,e),0==n.h&&(n.src=null,t[me]=null)):he(e)}}}function we(e){return e in ye?ye[e]:ye[e]="on"+e}function Oe(e,t){if(e.ca)e=!0;else{t=new ue(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&ke(e),e=n.call(r,t)}return e}function je(e){return(e=e[me])instanceof de?e:null}var xe="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(e){return"function"===typeof e?e:(e[xe]||(e[xe]=function(t){return e.handleEvent(t)}),e[xe])}function Ee(){_.call(this),this.i=new de(this),this.P=this,this.I=null}function Ie(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new oe(t,e);else if(t instanceof oe)t.target=t.target||e;else{var a=t;B(t=new oe(r,e),a)}if(a=!0,n)for(var i=n.length-1;0<=i;i--){var o=t.g=n[i];a=Te(o,r,!0,t)&&a}if(a=Te(o=t.g=e,r,!0,t)&&a,a=Te(o,r,!1,t)&&a,n)for(i=0;i<n.length;i++)a=Te(o=t.g=n[i],r,!1,t)&&a}function Te(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var a=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&pe(e.i,o),a=!1!==u.call(s,r)&&a}}return a&&!r.defaultPrevented}x(Ee,_),Ee.prototype[ce]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,a,i){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,a,i);else a=y(a)?!!a.capture:!!a,r=_e(r),t&&t[ce]?(t=t.i,(n=String(n).toString())in t.g&&(-1<(r=ve(o=t.g[n],r,a,i))&&(he(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--)))):t&&(t=je(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ve(n,r,a,i)),(r=-1<t?n[t]:null)&&ke(r))}(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)he(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Se=p.JSON.stringify;function Ne(){var e=Fe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ce,Ae=function(){function e(){Object(c.a)(this,e),this.h=this.g=null}return Object(l.a)(e,[{key:"add",value:function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Re=new(function(){function e(t,n){Object(c.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(l.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new De}),(function(e){return e.reset()})),De=function(){function e(){Object(c.a)(this,e),this.next=this.g=this.h=null}return Object(l.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Pe(e){p.setTimeout((function(){throw e}),0)}function Le(e,t){Ce||function(){var e=p.Promise.resolve(void 0);Ce=function(){e.then(Ue)}}(),Me||(Ce(),Me=!0),Fe.add(e,t)}var Me=!1,Fe=new Ae;function Ue(){for(var e;e=Ne();){try{e.h.call(e.g)}catch(n){Pe(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Me=!1}function Ve(e,t){Ee.call(this),this.h=e||1,this.g=t||p,this.j=O(this.kb,this),this.l=Date.now()}function Be(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=O(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=O(e.handleEvent,e)}return 2147483647<Number(t)?-1:p.setTimeout(e,t||0)}function ze(e){e.g=qe((function(){e.g=null,e.i&&(e.i=!1,ze(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}x(Ve,Ee),(r=Ve.prototype).da=!1,r.S=null,r.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ie(this,"tick"),this.da&&(Be(this),this.start()))}},r.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},r.M=function(){Ve.Z.M.call(this),Be(this),delete this.g};var Ke=function(e){Object(u.a)(n,e);var t=Object(s.a)(n);function n(e,r){var a;return Object(c.a)(this,n),(a=t.call(this)).m=e,a.j=r,a.h=null,a.i=!1,a.g=null,a}return Object(l.a)(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:ze(this)}},{key:"M",value:function(){Object(i.a)(Object(o.a)(n.prototype),"M",this).call(this),this.g&&(p.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(_);function He(e){_.call(this),this.h=e,this.g={}}x(He,_);var We=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(We[0]=n.toString()),n=We);for(var a=0;a<n.length;a++){var i=be(t,n[a],r||e.handleEvent,!1,e.h||e);if(!i)break;e.g[i.key]=i}}function Qe(e){F(e.g,(function(e,t){this.g.hasOwnProperty(t)&&ke(e)}),e),e.g={}}function Ye(){this.g=!0}function $e(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var i=a[0];if("noop"!=i&&"stop"!=i&&"close"!=i)for(var o=1;o<a.length;o++)a[o]=""}}}return Se(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}He.prototype.M=function(){He.Z.M.call(this),Qe(this)},He.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ye.prototype.Aa=function(){this.g=!1},Ye.prototype.info=function(){};var Je={},Xe=null;function Ze(){return Xe=Xe||new Ee}function et(e){oe.call(this,Je.Ma,e)}function tt(e){var t=Ze();Ie(t,new et(t,e))}function nt(e,t){oe.call(this,Je.STAT_EVENT,e),this.stat=t}function rt(e){var t=Ze();Ie(t,new nt(t,e))}function at(e,t){oe.call(this,Je.Na,e),this.size=t}function it(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return p.setTimeout((function(){e()}),t)}Je.Ma="serverreachability",x(et,oe),Je.STAT_EVENT="statevent",x(nt,oe),Je.Na="timingevent",x(at,oe);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ut={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function ct(e){return e.h||(e.h=e.i())}function lt(){}st.prototype.h=null;var ft,ht={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){oe.call(this,"d")}function pt(){oe.call(this,"c")}function vt(){}function mt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new He(this),this.P=bt,e=G?125:void 0,this.W=new Ve(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new yt}function yt(){this.i=null,this.g="",this.h=!1}x(dt,oe),x(pt,oe),x(vt,st),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ft=new vt;var bt=45e3,gt={},kt={};function wt(e,t,n){e.K=1,e.v=Kt(Ft(t)),e.s=n,e.U=!0,Ot(e,null)}function Ot(e,t){e.F=Date.now(),Et(e),e.A=Ft(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new yt,e.g=or(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ke(O(e.Ia,e,e.g),e.O)),Ge(e.V,e.g,"readystatechange",e.gb),t=e.H?U(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tt(1),function(e,t,n,r,a,i){e.info((function(){if(e.g)if(i)for(var o="",u=i.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function jt(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function xt(e,t,n){for(var r,a=!0;!e.I&&e.C<n.length;){if((r=_t(e,n))==kt){4==t&&(e.o=4,rt(14),a=!1),$e(e.j,e.m,null,"[Incomplete Response]");break}if(r==gt){e.o=4,rt(15),$e(e.j,e.m,n,"[Invalid Chunk]"),a=!1;break}$e(e.j,e.m,r,null),Ct(e,r)}jt(e)&&r!=kt&&r!=gt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),a=!1),e.i=e.i&&a,a?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Xn(t),t.L=!0,rt(11))):($e(e.j,e.m,n,"[Invalid Chunked Response]"),Nt(e),St(e))}function _t(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kt:(n=Number(t.substring(n,r)),isNaN(n)?gt:(r+=1)+n>t.length?kt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,It(e,e.P)}function It(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=it(O(e.eb,e),t)}function Tt(e){e.B&&(p.clearTimeout(e.B),e.B=null)}function St(e){0==e.l.G||e.I||tr(e.l,e)}function Nt(e){Tt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.W),Qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ct(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hn(n.i,e)))if(n.I=e.N,!e.J&&hn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(i){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;er(n),zn(n)}Jn(n),rt(18)}}else n.ta=a[1],0<n.ta-n.U&&37500>a[2]&&n.N&&0==n.A&&!n.v&&(n.v=it(O(n.ab,n),6e3));if(1>=fn(n.i)&&n.ka){try{n.ka()}catch(i){}n.ka=void 0}}else rr(n,11)}else if((e.J||n.g==e)&&er(n),!C(t))for(a=n.Ca.g.parse(t),t=0;t<a.length;t++){var i=a[t];if(n.U=i[0],i=i[1],2==n.G)if("c"==i[0]){n.J=i[1],n.la=i[2];var o=i[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=i[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=i[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(dn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,zt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ir(r,r.H?r.la:null,r.W),d.J){pn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Tt(p),Et(p)),r.g=d}else $n(r);0<n.l.length&&Wn(n)}else"stop"!=i[0]&&"close"!=i[0]||rr(n,7);else 3==n.G&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?rr(n,7):qn(n):"noop"!=i[0]&&n.j&&n.j.wa(i),n.A=0)}tt(4)}catch(i){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(m(e)||"string"===typeof e)T(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(m(e)||"string"===typeof e){n=[];for(var r=e.length,a=0;a<r;a++)n.push(a)}else for(a in n=[],r=0,e)n[r++]=a;a=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(m(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var i=0;i<a;i++)t.call(void 0,r[i],n&&n[i],e)}}function Rt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Pt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var a={};for(n=t=0;t<e.g.length;)Pt(a,r=e.g[t])||(e.g[n++]=r,a[r]=1),t++;e.g.length=n}}function Pt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(r=mt.prototype).setTimeout=function(e){this.P=e},r.gb=function(e){e=e.target;var t=this.L;t&&3==Mn(e)?t.l():this.Ia(e)},r.Ia=function(e){try{if(e==this.g)e:{var t=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||G||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),Tt(this);var a=this.g.ba();this.N=a;t:if(jt(this)){var i=Fn(this.g);e="";var o=i.length,u=4==Mn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Nt(this),St(this);var s="";break t}this.h.i=new p.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:u&&n==o-1});i.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==a,function(e,t,n,r,a,i,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+t+"\n"+n+"\n"+i+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,a),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(c)){var f=c;break t}}f=null}if(!(a=f)){this.i=!1,this.o=3,rt(12),Nt(this),St(this);break e}$e(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ct(this,a)}this.U?(xt(this,t,s),G&&this.i&&3==t&&(Ge(this.V,this.W,"tick",this.fb),this.W.start())):($e(this.j,this.m,s,null),Ct(this,s)),4==t&&Nt(this),this.i&&!this.I&&(4==t?tr(this.l,this):(this.i=!1,Et(this)))}else 400==a&&0<s.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),Nt(this),St(this)}}}catch(t){}},r.fb=function(){if(this.g){var e=Mn(this.g),t=this.g.ga();this.C<t.length&&(Tt(this),xt(this,e,t),this.i&&4!=e&&Et(this))}},r.cancel=function(){this.I=!0,Nt(this)},r.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),Nt(this),this.o=2,St(this)):It(this,this.Y-e)},(r=Rt.prototype).R=function(){Dt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},r.T=function(){return Dt(this),this.g.concat()},r.get=function(e,t){return Pt(this.h,e)?this.h[e]:t},r.set=function(e,t){Pt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},r.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var a=n[r],i=this.get(a);e.call(t,i,a,this)}};var Lt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Mt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,Vt(this,e.i),Bt(this,e.m),this.l=e.l,t=e.h;var n=new Zt;n.i=t.i,t.g&&(n.g=new Rt(t.g),n.h=t.h),qt(this,n),this.o=e.o}else e&&(n=String(e).match(Lt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Ht(n[2]||""),Vt(this,n[3]||"",!0),Bt(this,n[4]),this.l=Ht(n[5]||"",!0),qt(this,n[6]||"",!0),this.o=Ht(n[7]||"")):(this.g=!!t,this.h=new Zt(null,this.g))}function Ft(e){return new Mt(e)}function Ut(e,t,n){e.j=n?Ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vt(e,t,n){e.i=n?Ht(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function qt(e,t,n){t instanceof Zt?(e.h=t,function(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Wt(t,Jt)),e.h=new Zt(t,e.g))}function zt(e,t,n){e.h.set(t,n)}function Kt(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Wt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Wt(t,Qt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Wt(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Wt(n,"/"==n.charAt(0)?$t:Yt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Wt(n,Xt)),e.join("")};var Qt=/[#\/\?@]/g,Yt=/[#\?:]/g,$t=/[#\?]/g,Jt=/[#\?@]/g,Xt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Rt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),a=null;if(0<=r){var i=e[n].substring(0,r);a=e[n].substring(r+1)}else i=e[n];t(i,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=an(e,t),Pt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Pt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dt(e)))}function nn(e,t){return en(e),t=an(e,t),Pt(e.g.h,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(an(e,t),N(n)),e.h+=n.length)}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(r=Zt.prototype).add=function(e,t){en(this),this.i=null,e=an(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},r.forEach=function(e,t){en(this),this.g.forEach((function(n,r){T(n,(function(n){e.call(t,n,r,this)}),this)}),this)},r.T=function(){en(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var a=e[r],i=0;i<a.length;i++)n.push(t[r]);return n},r.R=function(e){en(this);var t=[];if("string"===typeof e)nn(this,e)&&(t=S(t,this.g.get(an(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=S(t,e[n])}return t},r.set=function(e,t){return en(this),this.i=null,nn(this,e=an(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},r.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},r.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],a=encodeURIComponent(String(r));r=this.R(r);for(var i=0;i<r.length;i++){var o=a;""!==r[i]&&(o+="="+encodeURIComponent(String(r[i]))),e.push(o)}}return this.i=e.join("&")};var on=function e(t,n){Object(c.a)(this,e),this.h=t,this.g=n};function un(e){this.l=e||cn,p.PerformanceNavigationTiming?e=0<(e=p.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(p.g&&p.g.Ea&&p.g.Ea()&&p.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn,cn=10;function ln(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fn(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Object(a.a)(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(o){r.e(o)}finally{r.f()}return n}return N(e.i)}function mn(){}function yn(){this.g=new mn}function bn(e,t,n){var r=n||"";try{At(e,(function(e,n){var a=e;y(e)&&(a=Se(e)),t.push(r+n+"="+encodeURIComponent(a))}))}catch(a){throw t.push(r+"type="+encodeURIComponent("_badmap")),a}}function gn(e,t,n,r,a){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,a(r)}catch(i){}}function kn(e){this.l=e.$b||null,this.j=e.ib||!1}function wn(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=On,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Object(a.a)(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},mn.prototype.stringify=function(e){return p.JSON.stringify(e,void 0)},mn.prototype.parse=function(e){return p.JSON.parse(e,void 0)},x(kn,st),kn.prototype.g=function(){return new wn(this.l,this.j)},kn.prototype.i=(sn={},function(){return sn}),x(wn,Ee);var On=0;function jn(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function xn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,_n(e)}function _n(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(r=wn.prototype).open=function(e,t){if(this.readyState!=On)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,_n(this)},r.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||p).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},r.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xn(this)),this.readyState=On},r.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,_n(this)),this.g&&(this.readyState=3,_n(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof p.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jn(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},r.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?xn(this):_n(this),3==this.readyState&&jn(this)}},r.Ua=function(e){this.g&&(this.response=this.responseText=e,xn(this))},r.Ta=function(e){this.g&&(this.response=e,xn(this))},r.ha=function(){this.g&&xn(this)},r.setRequestHeader=function(e,t){this.v.append(e,t)},r.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=p.JSON.parse;function In(e){Ee.call(this),this.headers=new Rt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Tn,this.K=this.L=!1}x(In,Ee);var Tn="",Sn=/^https?$/i,Nn=["POST","PUT"];function Cn(e){return"content-type"==e.toLowerCase()}function An(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rn(e),Pn(e)}function Rn(e){e.D||(e.D=!0,Ie(e,"complete"),Ie(e,"error"))}function Dn(e){if(e.h&&"undefined"!=typeof d&&(!e.C[1]||4!=Mn(e)||2!=e.ba()))if(e.v&&4==Mn(e))qe(e.Fa,0,e);else if(Ie(e,"readystatechange"),4==Mn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var a;if(a=0===n){var i=String(e.H).match(Lt)[1]||null;if(!i&&p.self&&p.self.location){var o=p.self.location.protocol;i=o.substr(0,o.length-1)}a=!Sn.test(i?i.toLowerCase():"")}t=a}if(t)Ie(e,"complete"),Ie(e,"success");else{e.m=6;try{var u=2<Mn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Rn(e)}}finally{Pn(e)}}}function Pn(e,t){if(e.g){Ln(e);var n=e.g,r=e.C[0]?v:null;e.g=null,e.C=null,t||Ie(e,"ready");try{n.onreadystatechange=r}catch(a){}}}function Ln(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(p.clearTimeout(e.A),e.A=null)}function Mn(e){return e.g?e.g.readyState:0}function Fn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Tn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return F(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zt(e,t,n))}function Vn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bn(e){this.za=0,this.l=[],this.h=new Ye,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vn("baseRetryDelayMs",5e3,e),this.$a=Vn("retryDelaySeedMs",1e4,e),this.Ya=Vn("forwardChannelMaxRetries",2,e),this.ra=Vn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new un(e&&e.concurrentRequestLimit),this.Ca=new yn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function qn(e){if(Kn(e),3==e.G){var t=e.V++,n=Ft(e.F);zt(n,"SID",e.J),zt(n,"RID",t),zt(n,"TYPE","terminate"),Qn(e,n),(t=new mt(e,e.h,t,void 0)).K=2,t.v=Kt(Ft(n)),n=!1,p.navigator&&p.navigator.sendBeacon&&(n=p.navigator.sendBeacon(t.v.toString(),"")),!n&&p.Image&&((new Image).src=t.v,n=!0),n||(t.g=or(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}ar(e)}function zn(e){e.g&&(Xn(e),e.g.cancel(),e.g=null)}function Kn(e){zn(e),e.u&&(p.clearTimeout(e.u),e.u=null),er(e),e.i.cancel(),e.m&&("number"===typeof e.m&&p.clearTimeout(e.m),e.m=null)}function Hn(e,t){e.l.push(new on(e.Za++,t)),3==e.G&&Wn(e)}function Wn(e){ln(e.i)||e.m||(e.m=!0,Le(e.Ha,e),e.C=0)}function Gn(e,t){var n;n=t?t.m:e.V++;var r=Ft(e.F);zt(r,"SID",e.J),zt(r,"RID",n),zt(r,"AID",e.U),Qn(e,r),e.o&&e.s&&Un(r,e.o,e.s),n=new mt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Yn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dn(e.i,n),wt(n,r,t)}function Qn(e,t){e.j&&At({},(function(e,n){zt(t,n,e)}))}function Yn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?O(e.j.Oa,e.j,e):null;e:for(var a=e.l,i=-1;;){var o=["count="+n];-1==i?0<n?(i=a[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);for(var u=!0,s=0;s<n;s++){var c=a[s].h,l=a[s].g;if(0>(c-=i))i=Math.max(0,a[s].h-100),u=!1;else try{bn(l,o,"req"+c+"_")}catch(f){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $n(e){e.g||e.u||(e.Y=1,Le(e.Ga,e),e.A=0)}function Jn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=it(O(e.Ga,e),nr(e,e.A)),e.A++,!0)}function Xn(e){null!=e.B&&(p.clearTimeout(e.B),e.B=null)}function Zn(e){e.g=new mt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);zt(t,"RID","rpc"),zt(t,"SID",e.J),zt(t,"CI",e.N?"0":"1"),zt(t,"AID",e.U),Qn(e,t),zt(t,"TYPE","xmlhttp"),e.o&&e.s&&Un(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Kt(Ft(t)),n.s=null,n.U=!0,Ot(n,e)}function er(e){null!=e.v&&(p.clearTimeout(e.v),e.v=null)}function tr(e,t){var n=null;if(e.g==t){er(e),Xn(e),e.g=null;var r=2}else{if(!hn(e.i,t))return;n=t.D,pn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var a=e.C;Ie(r=Ze(),new at(r,n,t,a)),Wn(e)}else $n(e);else if(3==(a=t.o)||0==a&&0<e.I||!(1==r&&function(e,t){return!(fn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=it(O(e.Ha,e,t),nr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Jn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),a){case 1:rr(e,5);break;case 4:rr(e,10);break;case 3:rr(e,6);break;default:rr(e,2)}}function nr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=O(e.jb,e);n||(n=new Mt("//www.google.com/images/cleardot.gif"),p.location&&"http"==p.location.protocol||Ut(n,"https"),Kt(n)),function(e,t){var n=new Ye;if(p.Image){var r=new Image;r.onload=j(gn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=j(gn,n,r,"TestLoadImage: error",!1,t),r.onabort=j(gn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=j(gn,n,r,"TestLoadImage: timeout",!1,t),p.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),ar(e),Kn(e)}function ar(e){e.G=0,e.I=-1,e.j&&(0==vn(e.i).length&&0==e.l.length||(e.i.i.length=0,N(e.l),e.l.length=0),e.j.ua())}function ir(e,t,n){var r=function(e){return e instanceof Mt?Ft(e):new Mt(e,void 0)}(n);if(""!=r.i)t&&Vt(r,t+"."+r.i),Bt(r,r.m);else{var a=p.location;r=function(e,t,n,r){var a=new Mt(null,void 0);return e&&Ut(a,e),t&&Vt(a,t),n&&Bt(a,n),r&&(a.l=r),a}(a.protocol,t?t+"."+a.hostname:a.hostname,+a.port,n)}return e.aa&&F(e.aa,(function(e,t){zt(r,t,e)})),t=e.D,n=e.sa,t&&n&&zt(r,t,n),zt(r,"VER",e.ma),Qn(e,r),r}function or(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new In(new kn({ib:!0})):new In(e.qa)).L=e.H,t}function ur(){}function sr(){if(H&&!(10<=Number(ae)))throw Error("Environmental error: no available transport.")}function cr(e,t){Ee.call(this),this.g=new Bn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!C(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!C(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hr(this)}function lr(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fr(){pt.call(this),this.status=1}function hr(e){this.g=e}(r=In.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ft.g(),this.C=this.u?ct(this.u):ct(ft),this.g.onreadystatechange=O(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(i){return void An(this,i)}e=n||"";var a=new Rt(this.headers);r&&At(r,(function(e,t){a.set(t,e)})),r=function(e){e:{for(var t=Cn,n=e.length,r="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in r&&t.call(void 0,r[a],a,e)){t=a;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(a.T()),n=p.FormData&&e instanceof p.FormData,!(0<=I(Nn,t))||r||n||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ln(this),0<this.B&&((this.K=function(e){return H&&ne()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=O(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(i){An(this,i)}},r.pa=function(){"undefined"!=typeof d&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ie(this,"timeout"),this.abort(8))},r.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ie(this,"complete"),Ie(this,"abort"),Pn(this))},r.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),In.Z.M.call(this)},r.Fa=function(){this.s||(this.F||this.v||this.l?Dn(this):this.cb())},r.cb=function(){Dn(this)},r.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(sn){return-1}},r.ga=function(){try{return this.g?this.g.responseText:""}catch(sn){return""}},r.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},r.Da=function(){return this.m},r.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(r=Bn.prototype).ma=8,r.G=1,r.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},r.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new mt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?B(n=U(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,a=0;a<this.l.length;a++){var i=this.l[a];if(void 0===(i="__data__"in i.g&&"string"===typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(r+=i)){r=a;break e}if(4096===r||a===this.l.length-1){r=a+1;break e}}r=1e3}else r=1e3;r=Yn(this,t,r),zt(a=Ft(this.F),"RID",e),zt(a,"CVER",22),this.D&&zt(a,"X-HTTP-Session-Id",this.D),Qn(this,a),this.o&&n&&Un(a,this.o,n),dn(this.i,t),this.Ra&&zt(a,"TYPE","init"),this.ja?(zt(a,"$req",r),zt(a,"SID","null"),t.$=!0,wt(t,a,null)):wt(t,a,r),this.G=2}}else 3==this.G&&(e?Gn(this,e):0==this.l.length||ln(this.i)||Gn(this))},r.Ga=function(){if(this.u=null,Zn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=it(O(this.bb,this),e)}},r.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),zn(this),Zn(this))},r.ab=function(){null!=this.v&&(this.v=null,zn(this),Jn(this),rt(19))},r.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))},(r=ur.prototype).xa=function(){},r.wa=function(){},r.va=function(){},r.ua=function(){},r.Oa=function(){},sr.prototype.g=function(e,t){return new cr(e,t)},x(cr,Ee),cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Le(O(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ir(e,null,e.W),Wn(e)},cr.prototype.close=function(){qn(this.g)},cr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Hn(this.g,t)}else this.v?((t={}).__data__=Se(e),Hn(this.g,t)):Hn(this.g,e)},cr.prototype.M=function(){this.g.j=null,delete this.j,qn(this.g),delete this.g,cr.Z.M.call(this)},x(lr,dt),x(fr,pt),x(hr,ur),hr.prototype.xa=function(){Ie(this.g,"a")},hr.prototype.wa=function(e){Ie(this.g,new lr(e))},hr.prototype.va=function(e){Ie(this.g,new fr(e))},hr.prototype.ua=function(){Ie(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,ut.COMPLETE="complete",lt.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,In.prototype.listenOnce=In.prototype.O,In.prototype.getLastError=In.prototype.La,In.prototype.getLastErrorCode=In.prototype.Da,In.prototype.getStatus=In.prototype.ba,In.prototype.getResponseJson=In.prototype.Qa,In.prototype.getResponseText=In.prototype.ga,In.prototype.send=In.prototype.ea;var dr=h.createWebChannelTransport=function(){return new sr},pr=h.getStatEventTarget=function(){return Ze()},vr=h.ErrorCode=ot,mr=h.EventType=ut,yr=h.Event=Je,br=h.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},gr=h.FetchXmlHttpFactory=kn,kr=h.WebChannel=lt,wr=h.XhrIo=In}).call(this,n(67))},function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return p}));var r=n(54),a=n(84),i=(n(26),n(1)),o=n.n(i),u=n(41),s=n.n(u),c=!1,l=o.a.createContext(null),f="exited",h="entering",d="entered",p="exiting",v=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=f,r.appearStatus=h):a=d:a=t.unmountOnExit||t.mountOnEnter?"unmounted":f,r.state={status:a},r.nextCallback=null,r}Object(a.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:f}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==d&&(t=h):n!==h&&n!==d||(t=p)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===h?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===f&&this.setState({status:"unmounted"})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,a=this.props.nodeRef?[r]:[s.a.findDOMNode(this),r],i=a[0],o=a[1],u=this.getTimeouts(),l=r?u.appear:u.enter;!e&&!n||c?this.safeSetState({status:d},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,o),this.safeSetState({status:h},(function(){t.props.onEntering(i,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:d},(function(){t.props.onEntered(i,o)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:s.a.findDOMNode(this);t&&!c?(this.props.onExit(r),this.safeSetState({status:p},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:f},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:f},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:s.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=a[0],o=a[1];this.props.addEndListener(i,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,n=t.children,a=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(r.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(l.Provider,{value:null},"function"===typeof n?n(e,a):o.a.cloneElement(o.a.Children.only(n),a))},t}(o.a.Component);function m(){}v.contextType=l,v.propTypes={},v.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:m,onEntering:m,onEntered:m,onExit:m,onExiting:m,onExited:m},v.UNMOUNTED="unmounted",v.EXITED=f,v.ENTERING=h,v.ENTERED=d,v.EXITING=p;t.e=v},function(e,t,n){"use strict";var r=n(46);function a(e,t){return function(e){var t=Object(r.a)(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var i=/([A-Z])/g;var o=/^ms-/;function u(e){return function(e){return e.replace(i,"-$1").toLowerCase()}(e).replace(o,"-ms-")}var s=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;t.a=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(u(t))||a(e).getPropertyValue(u(t));Object.keys(t).forEach((function(a){var i=t[a];i||0===i?!function(e){return!(!e||!s.test(e))}(a)?n+=u(a)+": "+i+";":r+=a+"("+i+") ":e.style.removeProperty(u(a))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return h})),n.d(t,"c",(function(){return d})),n.d(t,"d",(function(){return p})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return f}));var r,a=n(30),i=r||(r={});i.Pop="POP",i.Push="PUSH",i.Replace="REPLACE";var o=function(e){return e};function u(e){e.preventDefault(),e.returnValue=""}function s(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function c(){return Math.random().toString(36).substr(2,8)}function l(e){var t=e.pathname,n=e.search;return(void 0===t?"/":t)+(void 0===n?"":n)+(void 0===(e=e.hash)?"":e)}function f(e){var t={};if(e){var n=e.indexOf("#");0<=n&&(t.hash=e.substr(n),e=e.substr(0,n)),0<=(n=e.indexOf("?"))&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function h(e){function t(){var e=p.location,t=v.state||{};return[t.idx,o({pathname:e.pathname,search:e.search,hash:e.hash,state:t.usr||null,key:t.key||"default"})]}function n(e){return"string"===typeof e?e:l(e)}function i(e,t){return void 0===t&&(t=null),o(Object(a.a)({pathname:g.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function h(e){y=e,e=t(),b=e[0],g=e[1],k.call({action:y,location:g})}function d(e){v.go(e)}void 0===e&&(e={});var p=void 0===(e=e.window)?document.defaultView:e,v=p.history,m=null;p.addEventListener("popstate",(function(){if(m)w.call(m),m=null;else{var e=r.Pop,n=t(),a=n[0];if(n=n[1],w.length){if(null!=a){var i=b-a;i&&(m={action:e,location:n,retry:function(){d(-1*i)}},d(i))}}else h(e)}}));var y=r.Pop,b=(e=t())[0],g=e[1],k=s(),w=s();return null==b&&(b=0,v.replaceState(Object(a.a)({},v.state,{idx:b}),"")),{get action(){return y},get location(){return g},createHref:n,push:function e(t,a){var o=r.Push,u=i(t,a);if(!w.length||(w.call({action:o,location:u,retry:function(){e(t,a)}}),0)){var s=[{usr:u.state,key:u.key,idx:b+1},n(u)];u=s[0],s=s[1];try{v.pushState(u,"",s)}catch(c){p.location.assign(s)}h(o)}},replace:function e(t,a){var o=r.Replace,u=i(t,a);w.length&&(w.call({action:o,location:u,retry:function(){e(t,a)}}),1)||(u=[{usr:u.state,key:u.key,idx:b},n(u)],v.replaceState(u[0],"",u[1]),h(o))},go:d,back:function(){d(-1)},forward:function(){d(1)},listen:function(e){return k.push(e)},block:function(e){var t=w.push(e);return 1===w.length&&p.addEventListener("beforeunload",u),function(){t(),w.length||p.removeEventListener("beforeunload",u)}}}}function d(e){function t(){var e=f(v.location.hash.substr(1)),t=e.pathname,n=e.search;e=e.hash;var r=m.state||{};return[r.idx,o({pathname:void 0===t?"/":t,search:void 0===n?"":n,hash:void 0===e?"":e,state:r.usr||null,key:r.key||"default"})]}function n(){if(y)O.call(y),y=null;else{var e=r.Pop,n=t(),a=n[0];if(n=n[1],O.length){if(null!=a){var i=g-a;i&&(y={action:e,location:n,retry:function(){p(-1*i)}},p(i))}}else d(e)}}function i(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&(n=-1===(n=(t=v.location.href).indexOf("#"))?t:t.slice(0,n)),n+"#"+("string"===typeof e?e:l(e))}function h(e,t){return void 0===t&&(t=null),o(Object(a.a)({pathname:k.pathname,hash:"",search:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function d(e){b=e,e=t(),g=e[0],k=e[1],w.call({action:b,location:k})}function p(e){m.go(e)}void 0===e&&(e={});var v=void 0===(e=e.window)?document.defaultView:e,m=v.history,y=null;v.addEventListener("popstate",n),v.addEventListener("hashchange",(function(){l(t()[1])!==l(k)&&n()}));var b=r.Pop,g=(e=t())[0],k=e[1],w=s(),O=s();return null==g&&(g=0,m.replaceState(Object(a.a)({},m.state,{idx:g}),"")),{get action(){return b},get location(){return k},createHref:i,push:function e(t,n){var a=r.Push,o=h(t,n);if(!O.length||(O.call({action:a,location:o,retry:function(){e(t,n)}}),0)){var u=[{usr:o.state,key:o.key,idx:g+1},i(o)];o=u[0],u=u[1];try{m.pushState(o,"",u)}catch(s){v.location.assign(u)}d(a)}},replace:function e(t,n){var a=r.Replace,o=h(t,n);O.length&&(O.call({action:a,location:o,retry:function(){e(t,n)}}),1)||(o=[{usr:o.state,key:o.key,idx:g},i(o)],m.replaceState(o[0],"",o[1]),d(a))},go:p,back:function(){p(-1)},forward:function(){p(1)},listen:function(e){return w.push(e)},block:function(e){var t=O.push(e);return 1===O.length&&v.addEventListener("beforeunload",u),function(){t(),O.length||v.removeEventListener("beforeunload",u)}}}}function p(e){function t(e,t){return void 0===t&&(t=null),o(Object(a.a)({pathname:m.pathname,search:"",hash:""},"string"===typeof e?f(e):e,{state:t,key:c()}))}function n(e,t,n){return!b.length||(b.call({action:e,location:t,retry:n}),!1)}function i(e,t){v=e,m=t,y.call({action:v,location:m})}function u(e){var t=Math.min(Math.max(p+e,0),d.length-1),a=r.Pop,o=d[t];n(a,o,(function(){u(e)}))&&(p=t,i(a,o))}void 0===e&&(e={});var h=e;e=h.initialEntries,h=h.initialIndex;var d=(void 0===e?["/"]:e).map((function(e){return o(Object(a.a)({pathname:"/",search:"",hash:"",state:null,key:c()},"string"===typeof e?f(e):e))})),p=Math.min(Math.max(null==h?d.length-1:h,0),d.length-1),v=r.Pop,m=d[p],y=s(),b=s();return{get index(){return p},get action(){return v},get location(){return m},createHref:function(e){return"string"===typeof e?e:l(e)},push:function e(a,o){var u=r.Push,s=t(a,o);n(u,s,(function(){e(a,o)}))&&(p+=1,d.splice(p,d.length,s),i(u,s))},replace:function e(a,o){var u=r.Replace,s=t(a,o);n(u,s,(function(){e(a,o)}))&&(d[p]=s,i(u,s))},go:u,back:function(){u(-1)},forward:function(){u(1)},listen:function(e){return y.push(e)},block:function(e){return b.push(e)}}}},function(e,t,n){"use strict";var r=n(1),a=r.createContext(null);a.displayName="NavbarContext",t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1),a=n(40);function i(e){var t=Object(a.a)(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(1);var a=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t};function i(e){var t=a(e);return Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[t])}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i}));var r=n(1),a=r.createContext(null),i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null};t.a=a},function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r,a=n(5),i=n(3),o=n(4),u=n(7),s=n(23),c=n(18),l=n(25),f=function(){function e(t,n){var r=this;Object(i.a)(this,e),this._delegate=t,this.firebase=n,Object(c._addComponent)(t,new s.a("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Object(o.a)(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Object(c.deleteApp)(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c._DEFAULT_ENTRY_NAME;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Object(c._addComponent)(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Object(c._addOrOverwriteComponent)(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),h=(r={},Object(a.a)(r,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(a.a)(r,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r),d=new u.b("app-compat","Firebase",h);var p=function e(){var t=function(e){var t={},n={__esModule:!0,initializeApp:function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=c.initializeApp(r,a);if(Object(u.g)(t,i.name))return t[i.name];var o=new e(i,n);return t[i.name]=o,o},app:r,registerVersion:c.registerVersion,setLogLevel:c.setLogLevel,onLog:c.onLog,apps:null,SDK_VERSION:c.SDK_VERSION,INTERNAL:{registerComponent:function(t){var a=t.name,i=a.replace("-compat","");if(c._registerComponent(t)&&"PUBLIC"===t.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r();if("function"!==typeof e[i])throw d.create("invalid-app-argument",{appName:a});return e[i]()};void 0!==t.serviceProps&&Object(u.k)(o,t.serviceProps),n[i]=o,e.prototype[i]=function(){for(var e=this._getService.bind(this,a),n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.apply(this,t.multipleInstances?r:[])}}return"PUBLIC"===t.type?n[i]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){if("serverAuth"===t)return null;return t},modularAPIs:c}};function r(e){if(e=e||c._DEFAULT_ENTRY_NAME,!Object(u.g)(t,e))throw d.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),r.App=e,n}(f);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){Object(u.k)(t,e)},createSubscribe:u.i,ErrorFactory:u.b,deepExtend:u.k}),t}(),v=new l.b("@firebase/app-compat");if(Object(u.o)()&&void 0!==self.firebase){v.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&v.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var y,b=p;Object(c.registerVersion)("@firebase/app-compat","0.1.9",y)},function(e,t,n){"use strict";var r=n(1);t.a=function(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e}),[e]),t}},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}}(),e.exports=n(98)},function(e,t,n){"use strict";var r=n(6),a=n(1),i=n(16),o=n.n(i),u=n(8);t.a=function(e){return a.forwardRef((function(t,n){return Object(u.jsx)("div",Object(r.a)(Object(r.a)({},t),{},{ref:n,className:o()(t.className,e)}))}))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=Function.prototype.bind.call(Function.prototype.call,[].slice);function a(e,t){return r(e.querySelectorAll(t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(62);function a(e,t){if(e){if("string"===typeof e)return Object(r.a)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(e,t):void 0}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return Ce}));var r=n(0),a=n.n(r),i=n(2),o=n(9),u=n(5),s=n(15),c=n(20),l=n(1),f=function(e){return"checkbox"===e.type},h=function(e){return e instanceof Date},d=function(e){return null==e},p=function(e){return"object"===typeof e},v=function(e){return!d(e)&&!Array.isArray(e)&&p(e)&&!h(e)},m=function(e,t){return Object(c.a)(e).some((function(e){return function(e){return e.substring(0,e.search(/.\d/))||e}(t)===e}))},y=function(e){return e.filter(Boolean)},b=function(e){return void 0===e},g=function(e,t,n){if(v(e)&&t){var r=y(t.split(/[,[\].]+?/)).reduce((function(e,t){return d(e)?e:e[t]}),e);return b(r)||r===e?b(e[t])?n:e[t]:r}},k="blur",w="onBlur",O="onChange",j="onSubmit",x="onTouched",_="all",E="max",I="min",T="maxLength",S="minLength",N="pattern",C="required",A="validate",R=function(e,t){var n=Object.assign({},e);return delete n[t],n},D=(l.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];function a(a){return function(){if(a in e)return t[a]!==_&&(t[a]=!r||_),n&&(n[a]=!0),e[a]}}var i={};for(var o in e)Object.defineProperty(i,o,{get:a(o)});return i}),P=function(e){return v(e)&&!Object.keys(e).length},L=function(e,t,n){var r=R(e,"name");return P(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||_)}))},M=function(e){return Array.isArray(e)?e:[e]},F=function(e){e.current&&(e.current.unsubscribe(),e.current=void 0)},U=function(e){var t=e._subscription,n=e._props;n.current.disabled?F(t):t.current||(t.current=n.current.subject.subscribe({next:n.current.callback}))};function V(e){var t=l.useRef(),n=l.useRef(e);n.current=e,U({_subscription:t,_props:n}),l.useEffect((function(){return U({_subscription:t,_props:n}),function(){return F(t)}}),[])}var B=function(e){return"string"===typeof e};function q(e,t,n,r){var a=Array.isArray(e);return B(e)?(r&&t.watch.add(e),g(n,e)):a?e.map((function(e){return r&&t.watch.add(e),g(n,e)})):(r&&(t.watchAll=!0),n)}var z=function(e,t,n,r,a){return t?Object.assign(Object.assign({},n[e]),{types:Object.assign(Object.assign({},n[e]&&n[e].types?n[e].types:{}),Object(u.a)({},r,a||!0))}):{}},K=function(e){return/^\w*$/.test(e)},H=function(e){return y(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function W(e,t,n){for(var r=-1,a=K(t)?[t]:H(t),i=a.length,o=i-1;++r<i;){var u=a[r],s=n;if(r!==o){var c=e[u];s=v(c)||Array.isArray(c)?c:isNaN(+a[r+1])?{}:[]}e[u]=s,e=e[u]}return e}var G=function e(t,n,r){var a,i=Object(o.a)(r||Object.keys(t));try{for(i.s();!(a=i.n()).done;){var u=a.value,s=g(t,u);if(s){var c=s._f,l=R(s,"_f");if(c&&n(c.name)){if(c.ref.focus&&b(c.ref.focus()))break;if(c.refs){c.refs[0].focus();break}}else v(l)&&e(l,n)}}}catch(f){i.e(f)}finally{i.f()}};var Q=function(e){return"function"===typeof e};function Y(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(!n&&!v(e))return e;for(var r in t=n?[]:{},e){if(Q(e[r])){t=e;break}t[r]=Y(e[r])}}return t}function $(){var e=[];return{get observers(){return e},next:function(t){var n,r=Object(o.a)(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(a){r.e(a)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var J=function(e){return d(e)||!p(e)};function X(e,t){if(J(e)||J(t))return e===t;if(h(e)&&h(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0,i=n;a<i.length;a++){var o=i[a],u=e[o];if(!r.includes(o))return!1;if("ref"!==o){var s=t[o];if(h(u)&&h(s)||v(u)&&v(s)||Array.isArray(u)&&Array.isArray(s)?!X(u,s):u!==s)return!1}}return!0}var Z=function(e){return{isOnSubmit:!e||e===j,isOnBlur:e===w,isOnChange:e===O,isOnAll:e===_,isOnTouch:e===x}},ee=function(e){return"boolean"===typeof e},te=function(e){return"file"===e.type},ne=function(e){return e instanceof HTMLElement},re=function(e){return"select-multiple"===e.type},ae=function(e){return"radio"===e.type},ie=function(e){return ae(e)||f(e)},oe="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document,ue=function(e){return ne(e)&&document.contains(e)};function se(e,t){var n,r=K(t)?[t]:H(t),a=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=b(e)?r++:e[t[r++]];return e}(e,r),i=r[r.length-1];a&&delete a[i];for(var o=0;o<r.slice(0,-1).length;o++){var u=-1,s=void 0,c=r.slice(0,-(o+1)),l=c.length-1;for(o>0&&(n=e);++u<c.length;){var f=c[u];s=s?s[f]:e[f],l===u&&(v(s)&&P(s)||Array.isArray(s)&&!s.filter((function(e){return v(e)&&!P(e)||ee(e)})).length)&&(n?delete n[f]:delete e[f]),n=s}}return e}var ce={value:!1,isValid:!1},le={value:!0,isValid:!0},fe=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!b(e[0].attributes.value)?b(e[0].value)||""===e[0].value?le:{value:e[0].value,isValid:!0}:le:ce}return ce},he=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,a=t.setValueAs;return b(e)?e:n?""===e?NaN:+e:r?new Date(e):a?a(e):e},de={isValid:!1,value:null},pe=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),de):de};function ve(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return te(t)?t.files:ae(t)?pe(e.refs).value:re(t)?Object(c.a)(t.selectedOptions).map((function(e){return e.value})):f(t)?fe(e.refs).value:he(b(t.value)?e.ref.value:t.value,e)}var me=function(e,t,n,r){var a,i={},u=Object(o.a)(e);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=g(t,s);l&&W(i,s,l._f)}}catch(f){u.e(f)}finally{u.f()}return{criteriaMode:n,names:Object(c.a)(e),fields:i,shouldUseNativeValidation:r}},ye=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function be(e,t,n){var r=g(e,n);if(r||K(n))return{error:r,name:n};for(var a=n.split(".");a.length;){var i=a.join("."),o=g(t,i),u=g(e,i);if(o&&!Array.isArray(o)&&n!==i)return{name:n};if(u&&u.type)return{name:i,error:u};a.pop()}return{name:n}}function ge(e,t,n,r,a){for(var i=-1;++i<e.length;){for(var o in e[i])Array.isArray(e[i][o])?(!n[i]&&(n[i]={}),n[i][o]=[],ge(e[i][o],g(t[i]||{},o,[]),n[i][o],n[i],o)):!d(t)&&X(g(t[i]||{},o),e[i][o])?W(n[i]||{},o):n[i]=Object.assign(Object.assign({},n[i]),Object(u.a)({},o,!0));r&&!n.length&&delete r[a]}return n}var ke=function(e,t,n){return function e(t,n){if(J(t)||J(n))return n;for(var r in n){var a=t[r],i=n[r];try{t[r]=v(a)&&v(i)||Array.isArray(a)&&Array.isArray(i)?e(a,i):i}catch(o){}}return t}(ge(e,t,n.slice(0,e.length)),ge(t,e,n.slice(0,e.length)))},we=function(e,t,n,r,a){return!a.isOnAll&&(!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:!(n?r.isOnChange:a.isOnChange)||e)},Oe=function(e,t){return!y(g(e,t,[])).length&&se(e,t)},je=function(e){return B(e)||l.isValidElement(e)},xe=function(e){return e instanceof RegExp};function _e(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(je(e)||Array.isArray(e)&&e.every(je)||ee(e)&&!e)return{type:n,message:je(e)?e:"",ref:t}}var Ee=function(e){return v(e)&&!xe(e)?e:{value:e,message:""}},Ie=function(){var e=Object(i.a)(a.a.mark((function e(t,n,r,i){var o,u,s,c,l,h,p,m,y,b,g,k,w,O,j,x,_,R,D,L,M,F,U,V,q,K,H,W,G,Y,$,J,X,Z,ne,re,ie,oe,ue,se,ce,le,he,de;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,u=o.ref,s=o.refs,c=o.required,l=o.maxLength,h=o.minLength,p=o.min,m=o.max,y=o.pattern,b=o.validate,g=o.name,k=o.valueAsNumber,w=o.mount,O=o.disabled,w&&!O){e.next=3;break}return e.abrupt("return",{});case 3:if(j=s?s[0]:u,x=function(e){i&&j.reportValidity&&(j.setCustomValidity(ee(e)?"":e||" "),j.reportValidity())},_={},R=ae(u),D=f(u),L=R||D,M=(k||te(u))&&!u.value||""===n||Array.isArray(n)&&!n.length,F=z.bind(null,g,r,_),U=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:T,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:S,i=e?t:n;_[g]=Object.assign({type:e?r:a,message:i,ref:u},F(e?r:a,i))},!c||!(!L&&(M||d(n))||ee(n)&&!n||D&&!fe(s).isValid||R&&!pe(s).isValid)){e.next=19;break}if(V=je(c)?{value:!!c,message:c}:Ee(c),q=V.value,K=V.message,!q){e.next=19;break}if(_[g]=Object.assign({type:C,message:K,ref:j},F(C,K)),r){e.next=19;break}return x(K),e.abrupt("return",_);case 19:if(M||d(p)&&d(m)){e.next=28;break}if(G=Ee(m),Y=Ee(p),isNaN(n)?(J=u.valueAsDate||new Date(n),B(G.value)&&(H=J>new Date(G.value)),B(Y.value)&&(W=J<new Date(Y.value))):($=u.valueAsNumber||parseFloat(n),d(G.value)||(H=$>G.value),d(Y.value)||(W=$<Y.value)),!H&&!W){e.next=28;break}if(U(!!H,G.message,Y.message,E,I),r){e.next=28;break}return x(_[g].message),e.abrupt("return",_);case 28:if(!l&&!h||M||!B(n)){e.next=38;break}if(X=Ee(l),Z=Ee(h),ne=!d(X.value)&&n.length>X.value,re=!d(Z.value)&&n.length<Z.value,!ne&&!re){e.next=38;break}if(U(ne,X.message,Z.message),r){e.next=38;break}return x(_[g].message),e.abrupt("return",_);case 38:if(!y||M||!B(n)){e.next=45;break}if(ie=Ee(y),oe=ie.value,ue=ie.message,!xe(oe)||n.match(oe)){e.next=45;break}if(_[g]=Object.assign({type:N,message:ue,ref:u},F(N,ue)),r){e.next=45;break}return x(ue),e.abrupt("return",_);case 45:if(!b){e.next=79;break}if(!Q(b)){e.next=58;break}return e.next=49,b(n);case 49:if(se=e.sent,!(ce=_e(se,j))){e.next=56;break}if(_[g]=Object.assign(Object.assign({},ce),F(A,ce.message)),r){e.next=56;break}return x(ce.message),e.abrupt("return",_);case 56:e.next=79;break;case 58:if(!v(b)){e.next=79;break}le={},e.t0=a.a.keys(b);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(he=e.t1.value,P(le)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=_e,e.next=68,b[he](n);case 68:e.t3=e.sent,e.t4=j,e.t5=he,(de=(0,e.t2)(e.t3,e.t4,e.t5))&&(le=Object.assign(Object.assign({},de),F(he,de.message)),x(de.message),r&&(_[g]=le)),e.next=61;break;case 75:if(P(le)){e.next=79;break}if(_[g]=Object.assign({ref:j},le),r){e.next=79;break}return e.abrupt("return",_);case 79:return x(!0),e.abrupt("return",_);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),Te={mode:j,reValidateMode:O,shouldFocusError:!0},Se="undefined"===typeof window;function Ne(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Object.assign(Object.assign({},Te),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},l={},p=n.defaultValues||{},v=n.shouldUnregister?{}:Y(p),w={action:!1,mount:!1,watch:!1},O={mount:new Set,unMount:new Set,array:new Set,watch:new Set},j=0,x={},E={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},I={watch:$(),array:$(),state:$()},T=Z(n.mode),S=Z(n.reValidateMode),N=n.criteriaMode===_,C=function(e,t){return function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];clearTimeout(j),j=window.setTimeout((function(){return e.apply(void 0,r)}),t)}},A=function(e,t){return!t&&(O.watchAll||O.watch.has(e)||O.watch.has((e.match(/\w+/)||[])[0]))},D=function(){var e=Object(i.a)(a.a.mark((function e(t){var i;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=!1,!E.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=P,e.next=6,H();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,ce(l,!0);case 12:e.t0=e.sent;case 13:i=e.t0,t||i===r.isValid||(r.isValid=i,I.state.next({isValid:i}));case 15:return e.abrupt("return",i);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(w.action=!0,o&&g(l,e)){var u=t(g(l,e),n.argA,n.argB);i&&W(l,e,u)}if(Array.isArray(g(r.errors,e))){var s=t(g(r.errors,e),n.argA,n.argB);i&&W(r.errors,e,s),Oe(r.errors,e)}if(E.touchedFields&&g(r.touchedFields,e)){var c=t(g(r.touchedFields,e),n.argA,n.argB);i&&W(r.touchedFields,e,c),Oe(r.touchedFields,e)}(E.dirtyFields||E.isDirty)&&z(e,a),I.state.next({isDirty:fe(e,a),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})},F=function(e,t){return W(r.errors,e,t),I.state.next({errors:r.errors})},U=function(e,t,n){var r=g(l,e);if(r){var a=g(v,e,g(p,e));b(a)||n&&n.defaultChecked||t?W(v,e,t?a:ve(r._f)):ge(e,a)}w.mount&&D()},V=function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!1,o={name:e},u=g(r.touchedFields,e);if(E.isDirty){var s=r.isDirty;r.isDirty=o.isDirty=fe(),i=s!==o.isDirty}if(E.dirtyFields&&!n){var c=g(r.dirtyFields,e),l=X(g(p,e),t);l?se(r.dirtyFields,e):W(r.dirtyFields,e,!0),o.dirtyFields=r.dirtyFields,i=i||c!==g(r.dirtyFields,e)}return n&&!u&&(W(r.touchedFields,e,n),o.touchedFields=r.touchedFields,i=i||E.touchedFields&&u!==n),i&&a&&I.state.next(o),i?o:{}},z=function(e,t){return W(r.dirtyFields,e,ke(t,g(p,e,[]),g(r.dirtyFields,e,[]))),Oe(r.dirtyFields,e)},K=function(){var n=Object(i.a)(a.a.mark((function n(i,o,u,s,c){var l,f,h;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:l=g(r.errors,o),f=E.isValid&&r.isValid!==u,t.delayError&&s?(e=e||C(F,t.delayError))(o,s):(clearTimeout(j),s?W(r.errors,o,s):se(r.errors,o)),(s?X(l,s):!l)&&P(c)&&!f||i||(h=Object.assign(Object.assign(Object.assign({},c),f?{isValid:u}:{}),{errors:r.errors,name:o}),r=Object.assign(Object.assign({},r),h),I.state.next(h)),x[o]--,E.isValidating&&!x[o]&&(I.state.next({isValidating:!1}),x={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,a,i){return n.apply(this,arguments)}}(),H=function(){var e=Object(i.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Object.assign({},v),n.context,me(t||O.mount,l,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=Object(i.a)(a.a.mark((function e(t){var n,i,u,s,c,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H();case 2:if(n=e.sent,i=n.errors,t){u=Object(o.a)(t);try{for(u.s();!(s=u.n()).done;)c=s.value,(l=g(i,c))?W(r.errors,c,l):se(r.errors,c)}catch(a){u.e(a)}finally{u.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ce=function(){var e=Object(i.a)(a.a.mark((function e(t,i){var o,u,s,c,l,f,h=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=a.a.keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(u=e.t1.value,!(s=t[u])){e.next=21;break}if(c=s._f,l=R(s,"_f"),!c){e.next=17;break}return e.next=11,Ie(s,g(v,c.name),N,n.shouldUseNativeValidation);case 11:if(!(f=e.sent)[c.name]){e.next=16;break}if(o.valid=!1,!i){e.next=16;break}return e.abrupt("break",23);case 16:i||(f[c.name]?W(r.errors,c.name,f[c.name]):se(r.errors,c.name));case 17:if(e.t2=l,!e.t2){e.next=21;break}return e.next=21,ce(l,i,o);case 21:e.next=2;break;case 23:return e.abrupt("return",o.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),le=function(){var e,t=Object(o.a)(O.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=g(l,n);r&&(r._f.refs?r._f.refs.every((function(e){return!ue(e)})):!ue(r._f.ref))&&De(n)}}catch(a){t.e(a)}finally{t.f()}O.unMount=new Set},fe=function(e,t){return e&&t&&W(v,e,t),!X(Ne(),p)},de=function(e,t,n){var r=Object.assign({},w.mount?v:b(t)?p:B(e)?Object(u.a)({},e,t):t);return q(e,O,r,n)},pe=function(e){return g(w.mount?v:p,e,t.shouldUnregister?g(p,e,[]):[])},ge=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=g(l,e),a=t;if(r){var i=r._f;i&&(W(v,e,he(t,i)),a=oe&&ne(i.ref)&&d(t)?"":t,te(i.ref)&&!B(a)?i.ref.files=a:re(i.ref)?Object(c.a)(i.ref.options).forEach((function(e){return e.selected=a.includes(e.value)})):i.refs?f(i.ref)?i.refs.length>1?i.refs.forEach((function(e){return e.checked=Array.isArray(a)?!!a.find((function(t){return t===e.value})):a===e.value})):i.refs[0].checked=!!a:i.refs.forEach((function(e){return e.checked=e.value===a})):i.ref.value=a)}(n.shouldDirty||n.shouldTouch)&&V(e,a,n.shouldTouch),n.shouldValidate&&Ee(e)},je=function e(t,n,r){for(var a in n){var i=n[a],o="".concat(t,".").concat(a),u=g(l,o);!O.array.has(t)&&J(i)&&(!u||u._f)||h(i)?ge(o,i,r):e(o,i,r)}},xe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=g(l,e),i=O.array.has(e);W(v,e,t),i?(I.array.next({name:e,values:v}),(E.isDirty||E.dirtyFields)&&n.shouldDirty&&(z(e,t),I.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:fe(e,t)}))):!a||a._f||d(t)?ge(e,t,n):je(e,t,n),A(e)&&I.state.next({}),I.watch.next({name:e})},_e=function(){var e=Object(i.a)(a.a.mark((function e(t){var i,o,u,s,c,f,h,d,p,m,y,b,w,O,j;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.target,o=i.name,!(u=g(l,o))){e.next=39;break}if(f=i.type?ve(u._f):i.value,h=t.type===k,d=!ye(u._f)&&!n.resolver&&!g(r.errors,o)&&!u._f.deps||we(h,g(r.touchedFields,o),r.isSubmitted,S,T),p=A(o,h),h?u._f.onBlur&&u._f.onBlur(t):u._f.onChange&&u._f.onChange(t),W(v,o,f),m=V(o,f,h,!1),y=!P(m)||p,!h&&I.watch.next({name:o,type:t.type}),!d){e.next=15;break}return e.abrupt("return",y&&I.state.next(Object.assign({name:o},p?{}:m)));case 15:if(!h&&p&&I.state.next({}),x[o]=(x[o],1),E.isValidating&&I.state.next({isValidating:!0}),!n.resolver){e.next=30;break}return e.next=21,H([o]);case 21:b=e.sent,w=b.errors,O=be(r.errors,l,o),j=be(w,l,O.name||o),s=j.error,o=j.name,c=P(w),e.next=37;break;case 30:return e.next=32,Ie(u,g(v,o),N,n.shouldUseNativeValidation);case 32:return e.t0=o,s=e.sent[e.t0],e.next=36,D(!0);case 36:c=e.sent;case 37:u._f.deps&&Ee(u._f.deps),K(!1,o,c,s,m);case 39:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(i.a)(a.a.mark((function e(t){var o,s,c,f,h,d=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=d.length>1&&void 0!==d[1]?d[1]:{},f=M(t),I.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,ae(b(t)?t:f);case 6:h=e.sent,s=P(h),c=t?!f.some((function(e){return g(h,e)})):s,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(f.map(function(){var e=Object(i.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=g(l,t),e.next=3,ce(n&&n._f?Object(u.a)({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((c=e.sent.every(Boolean))||r.isValid)&&D(),e.next=21;break;case 18:return e.next=20,ce(l);case 20:c=s=e.sent;case 21:return I.state.next(Object.assign(Object.assign(Object.assign({},!B(t)||E.isValid&&s!==r.isValid?{}:{name:t}),n.resolver?{isValid:s}:{}),{errors:r.errors,isValidating:!1})),o.shouldFocus&&!c&&G(l,(function(e){return g(r.errors,e)}),t?f:O.mount),e.abrupt("return",c);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){var t=Object.assign(Object.assign({},p),w.mount?v:{});return b(e)?t:B(e)?g(t,e):e.map((function(e){return g(t,e)}))},Ce=function(e){e?M(e).forEach((function(e){return se(r.errors,e)})):r.errors={},I.state.next({errors:r.errors,isValid:!0})},Ae=function(e,t,n){var a=(g(l,e,{_f:{}})._f||{}).ref;W(r.errors,e,Object.assign(Object.assign({},t),{ref:a})),I.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&a&&a.focus&&a.focus()},Re=function(e,t){return Q(e)?I.watch.subscribe({next:function(n){return e(de(void 0,t),n)}}):de(e,t,!0)},De=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=Object(o.a)(e?M(e):O.mount);try{for(i.s();!(t=i.n()).done;){var u=t.value;O.mount.delete(u),O.array.delete(u),g(l,u)&&(a.keepValue||(se(l,u),se(v,u)),!a.keepError&&se(r.errors,u),!a.keepDirty&&se(r.dirtyFields,u),!a.keepTouched&&se(r.touchedFields,u),!n.shouldUnregister&&!a.keepDefaultValue&&se(p,u))}}catch(s){i.e(s)}finally{i.f()}I.watch.next({}),I.state.next(Object.assign(Object.assign({},r),a.keepDirty?{isDirty:fe()}:{})),!a.keepIsValid&&D()},Pe=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=g(l,t);return W(l,t,{_f:Object.assign(Object.assign(Object.assign({},a&&a._f?a._f:{ref:{name:t}}),{name:t,mount:!0}),r)}),O.mount.add(t),!b(r.value)&&!r.disabled&&W(v,t,g(v,t,r.value)),a?ee(r.disabled)&&W(v,t,r.disabled?void 0:g(v,t,ve(a._f))):U(t,!0),Se?{name:t}:Object.assign(Object.assign({name:t},ee(r.disabled)?{disabled:r.disabled}:{}),{onChange:_e,onBlur:_e,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(a){if(a){e(t,r);var i=g(l,t),o=b(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,u=ie(o);if(o===i._f.ref||u&&y(i._f.refs||[]).find((function(e){return e===o})))return;i={_f:u?Object.assign(Object.assign({},i._f),{refs:[].concat(Object(c.a)(y(i._f.refs||[]).filter(ue)),[o]),ref:{type:o.type,name:t}}):Object.assign(Object.assign({},i._f),{ref:o})},W(l,t,i),(!r||!r.disabled)&&U(t,!1,o)}else{var s=g(l,t,{}),f=n.shouldUnregister||r.shouldUnregister;s._f&&(s._f.mount=!1),f&&(!m(O.array,t)||!w.action)&&O.unMount.add(t)}}))})},Le=function(e,t){return function(){var o=Object(i.a)(a.a.mark((function i(o){var u,s,c,f,h;return a.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=!0,s=n.shouldUnregister?Y(v):Object.assign({},v),I.state.next({isSubmitting:!0}),a.prev=4,!n.resolver){a.next=15;break}return a.next=8,H();case 8:c=a.sent,f=c.errors,h=c.values,r.errors=f,s=h,a.next=17;break;case 15:return a.next=17,ce(l);case 17:if(!P(r.errors)||!Object.keys(r.errors).every((function(e){return g(s,e)}))){a.next=23;break}return I.state.next({errors:{},isSubmitting:!0}),a.next=21,e(s,o);case 21:a.next=28;break;case 23:if(a.t0=t,!a.t0){a.next=27;break}return a.next=27,t(r.errors,o);case 27:n.shouldFocusError&&G(l,(function(e){return g(r.errors,e)}),O.mount);case 28:a.next=34;break;case 30:throw a.prev=30,a.t1=a.catch(4),u=!1,a.t1;case 34:return a.prev=34,r.isSubmitted=!0,I.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:P(r.errors)&&u,submitCount:r.submitCount+1,errors:r.errors}),a.finish(34);case 38:case"end":return a.stop()}}),i,null,[[4,30,34,38]])})));return function(e){return o.apply(this,arguments)}}()},Me=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};b(t.defaultValue)?xe(e,g(p,e)):(xe(e,t.defaultValue),W(p,e,t.defaultValue)),t.keepTouched||se(r.touchedFields,e),t.keepDirty||(se(r.dirtyFields,e),r.isDirty=t.defaultValue?fe(e,g(p,e)):fe()),t.keepError||(se(r.errors,e),E.isValid&&D()),I.state.next(Object.assign({},r))},Fe=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=e||p,i=Y(a),c=P(e)?p:i;if(n.keepDefaultValues||(p=a),!n.keepValues){if(oe){var f,h=Object(o.a)(O.mount);try{for(h.s();!(f=h.n()).done;){var d=f.value,m=g(l,d);if(m&&m._f){var y=Array.isArray(m._f.refs)?m._f.refs[0]:m._f.ref;try{ne(y)&&y.closest("form").reset();break}catch(b){}}}}catch(k){h.e(k)}finally{h.f()}}v=t.shouldUnregister?n.keepDefaultValues?Y(p):{}:i,l={},I.watch.next({values:c}),I.array.next({values:c})}O={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},I.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty?r.isDirty:!!n.keepDefaultValues&&!X(e,p),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty?r.dirtyFields:n.keepDefaultValues&&e?Object.entries(e).reduce((function(e,t){var n=Object(s.a)(t,2),r=n[0],a=n[1];return Object.assign(Object.assign({},e),Object(u.a)({},r,a!==g(p,r)))}),{}):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1}),w.mount=!E.isValid||!!n.keepIsValid,w.watch=!!t.shouldUnregister},Ue=function(e){var t=g(l,e)._f;(t.ref.focus?t.ref:t.refs[0]).focus()};return{control:{register:Pe,unregister:De,_executeSchema:H,_getWatch:de,_getDirty:fe,_updateValid:D,_removeUnmounted:le,_updateFieldArray:L,_getFieldArray:pe,_subjects:I,_proxyFormState:E,get _fields(){return l},set _fields(e){l=e},get _formValues(){return v},set _formValues(e){v=e},get _stateFlags(){return w},set _stateFlags(e){w=e},get _defaultValues(){return p},set _defaultValues(e){p=e},get _names(){return O},set _names(e){O=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Object.assign(Object.assign({},n),e)}},trigger:Ee,register:Pe,handleSubmit:Le,watch:Re,setValue:xe,getValues:Ne,reset:Fe,resetField:Me,clearErrors:Ce,unregister:De,setError:Ae,setFocus:Ue}}function Ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l.useRef(),n=l.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),r=Object(s.a)(n,2),a=r[0],i=r[1];t.current?t.current.control._options=e:t.current=Object.assign(Object.assign({},Ne(e)),{formState:a});var o=t.current.control;return V({subject:o._subjects.state,callback:function(e){L(e,o._proxyFormState,!0)&&(o._formState=Object.assign(Object.assign({},o._formState),e),i(Object.assign({},o._formState)))}}),l.useEffect((function(){o._stateFlags.mount||(o._proxyFormState.isValid&&o._updateValid(),o._stateFlags.mount=!0),o._stateFlags.watch&&(o._stateFlags.watch=!1,o._subjects.state.next({})),o._removeUnmounted()})),t.current.formState=D(a,o._proxyFormState),t.current}},function(e,t,n){"use strict";function r(e){return e&&e.ownerDocument||document}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=!("undefined"===typeof window||!window.document||!window.document.createElement)},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r,a=n(6),i=n(14),o=n(5),u=n(16),s=n.n(u),c=n(1),l=n(32),f=n(55),h=n(75),d=n(59),p=n(8),v=["className","children","transitionClasses"],m=(r={},Object(o.a)(r,l.b,"show"),Object(o.a)(r,l.a,"show"),r),y=c.forwardRef((function(e,t){var n=e.className,r=e.children,o=e.transitionClasses,u=void 0===o?{}:o,l=Object(i.a)(e,v),y=Object(c.useCallback)((function(e,t){Object(h.a)(e),null==l.onEnter||l.onEnter(e,t)}),[l]);return Object(p.jsx)(d.a,Object(a.a)(Object(a.a)({ref:t,addEndListener:f.a},l),{},{onEnter:y,childRef:r.ref,children:function(e,t){return c.cloneElement(r,Object(a.a)(Object(a.a)({},t),{},{className:s()("fade",n,r.props.className,m[e],u[e])}))}}))}));y.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},y.displayName="Fade",t.a=y},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return a}));function r(e){return"".concat("data-rr-ui-").concat(e)}function a(e){return"".concat("rrUi").concat(e)}},function(e,t,n){"use strict";var r=n(39);n.d(t,"a",(function(){return r.a}));r.a.registerVersion("firebase","9.4.1","app-compat")},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(52),a=n(73);function i(e,t,n){return(i=Object(a.a)()?Reflect.construct:function(e,t,n){var a=[null];a.push.apply(a,t);var i=new(Function.bind.apply(e,a));return n&&Object(r.a)(i,n.prototype),i}).apply(null,arguments)}},function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(33),a=n(83);function i(e,t){var n=Object(r.a)(e,t)||"",a=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*a}function o(e,t){var n=i(e,"transitionDuration"),r=i(e,"transitionDelay"),o=Object(a.a)(e,(function(n){n.target===e&&(o(),t(n))}),n+r)}},function(e,t,n){"use strict";var r=n(1),a=r.createContext({onHide:function(){}});t.a=a},function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n(15),a=n(1),i=n(8),o=["as","disabled"];function u(e){var t=e.tagName,n=e.disabled,r=e.href,a=e.target,i=e.rel,o=e.onClick,u=e.tabIndex,s=void 0===u?0:u,c=e.type;t||(t=null!=r||null!=a||null!=i?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:s,href:"a"===t&&n?void 0:r,target:"a"===t?a:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var s=a.forwardRef((function(e,t){var n=e.as,a=e.disabled,s=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,o),c=u(Object.assign({tagName:n,disabled:a},s)),l=Object(r.a)(c,2),f=l[0],h=l[1].tagName;return Object(i.jsx)(h,Object.assign({},s,f,{ref:t}))}));s.displayName="Button",t.a=s},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(30),a=n(54),i=n(1);n(87);function o(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function u(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function s(e,t){return Object.keys(t).reduce((function(n,s){var c,l=n,f=l[o(s)],h=l[s],d=Object(a.a)(l,[o(s),s].map(u)),p=t[s],v=function(e,t,n){var r=Object(i.useRef)(void 0!==e),a=Object(i.useState)(t),o=a[0],u=a[1],s=void 0!==e,c=r.current;return r.current=s,!s&&c&&o!==t&&u(t),[s?e:o,Object(i.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),a=1;a<t;a++)r[a-1]=arguments[a];n&&n.apply(void 0,[e].concat(r)),u(e)}),[n])]}(h,f,e[p]),m=v[0],y=v[1];return Object(r.a)({},d,((c={})[s]=m,c[p]=y,c))}),e)}n(84);function c(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function l(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function f(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}c.__suppressDeprecationWarning=!0,l.__suppressDeprecationWarning=!0,f.__suppressDeprecationWarning=!0},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(1),o=n.n(i),u=n(32),s=n(76),c=n(41),l=n.n(c);var f=n(8),h=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],d=o.a.forwardRef((function(e,t){var n=e.onEnter,c=e.onEntering,d=e.onEntered,p=e.onExit,v=e.onExiting,m=e.onExited,y=e.addEndListener,b=e.children,g=e.childRef,k=Object(a.a)(e,h),w=Object(i.useRef)(null),O=Object(s.a)(w,g),j=function(e){var t;O((t=e)&&"setState"in t?l.a.findDOMNode(t):null!=t?t:null)},x=function(e){return function(t){e&&w.current&&e(w.current,t)}},_=Object(i.useCallback)(x(n),[n]),E=Object(i.useCallback)(x(c),[c]),I=Object(i.useCallback)(x(d),[d]),T=Object(i.useCallback)(x(p),[p]),S=Object(i.useCallback)(x(v),[v]),N=Object(i.useCallback)(x(m),[m]),C=Object(i.useCallback)(x(y),[y]);return Object(f.jsx)(u.e,Object(r.a)(Object(r.a)({ref:t},k),{},{onEnter:_,onEntered:I,onEntering:E,onExit:T,onExited:N,onExiting:S,addEndListener:C,nodeRef:w,children:"function"===typeof b?function(e,t){return b(e,Object(r.a)(Object(r.a)({},t),{},{ref:j}))}:o.a.cloneElement(b,{ref:j})}))}));t.a=d},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(29),c=n(17),l=n(8),f=["id","bsPrefix","className","type","isValid","isInvalid","as"],h=u.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,h=e.className,d=e.type,p=void 0===d?"checkbox":d,v=e.isValid,m=void 0!==v&&v,y=e.isInvalid,b=void 0!==y&&y,g=e.as,k=void 0===g?"input":g,w=Object(a.a)(e,f),O=Object(u.useContext)(s.a).controlId;return i=Object(c.a)(i,"form-check-input"),Object(l.jsx)(k,Object(r.a)(Object(r.a)({},w),{},{ref:t,type:p,id:n||O,className:o()(h,i,m&&"is-valid",b&&"is-invalid")}))}));h.displayName="FormCheckInput",t.a=h},function(e,t,n){"use strict";var r=n(77),a=n(63);t.a=function(e,t,n,i){return Object(r.a)(e,t,n,i),function(){Object(a.a)(e,t,n,i)}}},function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";t.a=function(e,t,n,r){var a=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,a),n.__once&&e.removeEventListener(t,n.__once,a)}},function(e,t,n){"use strict";var r=n(6),a=n(15),i=n(14),o=n(16),u=n.n(o),s=n(1),c=n(57),l=n(17),f=n(8),h=["as","bsPrefix","variant","size","active","className"],d=s.forwardRef((function(e,t){var n=e.as,o=e.bsPrefix,s=e.variant,d=e.size,p=e.active,v=e.className,m=Object(i.a)(e,h),y=Object(l.a)(o,"btn"),b=Object(c.b)(Object(r.a)({tagName:n},m)),g=Object(a.a)(b,2),k=g[0],w=g[1].tagName;return Object(f.jsx)(w,Object(r.a)(Object(r.a)(Object(r.a)({},m),k),{},{ref:t,className:u()(v,y,p&&"active",s&&"".concat(y,"-").concat(s),d&&"".concat(y,"-").concat(d),m.href&&m.disabled&&"disabled")}))}));d.displayName="Button",d.defaultProps={variant:"primary",active:!1,disabled:!1},t.a=d},function(e,t,n){"use strict";n.d(t,"b",(function(){return g}));var r=n(5),a=n(3),i=n(4),o=n(24),u=n(22),s=n(12),c=n(13);var l=n(33),f=n(43);function h(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var d,p=n(66),v=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",m=".sticky-top",y=".navbar-toggler",b=function(e){Object(s.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"adjustAndStore",value:function(e,t,n){var a=t.style[e];t.dataset[e]=a,Object(l.a)(t,Object(r.a)({},e,"".concat(parseFloat(Object(l.a)(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Object(l.a)(t,Object(r.a)({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;Object(o.a)(Object(u.a)(n.prototype),"setContainerStyle",this).call(this,e);var r,a,i=this.getElement();if(a="modal-open",(r=i).classList?r.classList.add(a):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,a)||("string"===typeof r.className?r.className=r.className+" "+a:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+a)),e.scrollBarWidth){var s=this.isRTL?"paddingLeft":"paddingRight",c=this.isRTL?"marginLeft":"marginRight";Object(f.a)(i,v).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)})),Object(f.a)(i,m).forEach((function(n){return t.adjustAndStore(c,n,-e.scrollBarWidth)})),Object(f.a)(i,y).forEach((function(n){return t.adjustAndStore(c,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;Object(o.a)(Object(u.a)(n.prototype),"removeContainerStyle",this).call(this,e);var r,a,i=this.getElement();a="modal-open",(r=i).classList?r.classList.remove(a):"string"===typeof r.className?r.className=h(r.className,a):r.setAttribute("class",h(r.className&&r.className.baseVal||"",a));var s=this.isRTL?"paddingLeft":"paddingRight",c=this.isRTL?"marginLeft":"marginRight";Object(f.a)(i,v).forEach((function(e){return t.restore(s,e)})),Object(f.a)(i,m).forEach((function(e){return t.restore(c,e)})),Object(f.a)(i,y).forEach((function(e){return t.restore(c,e)}))}}]),n}(p.a);function g(e){return d||(d=new b(e)),d}t.a=b},function(e,t,n){"use strict";var r=n(20),a=n(5),i=n(3),o=n(4),u=n(33),s=n(50);var c=Object(s.a)("modal-open"),l=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.handleContainerOverflow,r=void 0===n||n,a=t.isRTL,o=void 0!==a&&a;Object(i.a)(this,e),this.handleContainerOverflow=r,this.isRTL=o,this.modals=[]}return Object(o.a)(e,[{key:"getScrollbarWidth",value:function(){return Math.abs(window.innerWidth-document.documentElement.clientWidth)}},{key:"getElement",value:function(){return document.body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style=Object(a.a)({overflow:r.style.overflow},n,r.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Object(u.a)(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(c,""),Object(u.a)(r,t)}},{key:"reset",value:function(){var e=this;Object(r.a)(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(c),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}();t.a=l},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function a(){var e=Object(r.useRef)(!0),t=Object(r.useRef)((function(){return e.current}));return Object(r.useEffect)((function(){return function(){e.current=!1}}),[]),t.current}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function a(e){var t=Object(r.useRef)(null);return Object(r.useEffect)((function(){t.current=e})),t.current}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(26),c=n.n(s),l=n(8),f=["as","className","type","tooltip"],h={type:c.a.string,tooltip:c.a.bool,as:c.a.elementType},d=u.forwardRef((function(e,t){var n=e.as,i=void 0===n?"div":n,u=e.className,s=e.type,c=void 0===s?"valid":s,h=e.tooltip,d=void 0!==h&&h,p=Object(a.a)(e,f);return Object(l.jsx)(i,Object(r.a)(Object(r.a)({},p),{},{ref:t,className:o()(u,"".concat(c,"-").concat(d?"tooltip":"feedback"))}))}));d.displayName="Feedback",d.propTypes=h,t.a=d},function(e,t,n){"use strict";function r(e){e.offsetHeight}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";var r=n(1),a=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};t.a=function(e,t){return Object(r.useMemo)((function(){return function(e,t){var n=a(e),r=a(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])}},function(e,t,n){"use strict";var r=n(47),a=!1,i=!1;try{var o={get passive(){return a=!0},get once(){return i=a=!0}};r.a&&(window.addEventListener("test",o,o),window.removeEventListener("test",o,!0))}catch(u){}t.a=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!i){var o=r.once,u=r.capture,s=n;!i&&o&&(s=n.__once||function e(r){this.removeEventListener(t,e,u),n.call(this,r)},n.__once=s),e.addEventListener(t,s,a?r:u)}e.addEventListener(t,n,r)}},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(1),o=n(37),u=n(79),s=n(56),c=n(8),l=["closeLabel","closeVariant","closeButton","onHide","children"],f=i.forwardRef((function(e,t){var n=e.closeLabel,f=e.closeVariant,h=e.closeButton,d=e.onHide,p=e.children,v=Object(a.a)(e,l),m=Object(i.useContext)(s.a),y=Object(o.a)((function(){null==m||m.onHide(),null==d||d()}));return Object(c.jsxs)("div",Object(r.a)(Object(r.a)({ref:t},v),{},{children:[p,h&&Object(c.jsx)(u.a,{"aria-label":n,variant:f,onClick:y})]}))}));f.defaultProps={closeLabel:"Close",closeButton:!1},t.a=f},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(26),o=n.n(i),u=n(1),s=n(16),c=n.n(s),l=n(8),f=["className","variant"],h={"aria-label":o.a.string,onClick:o.a.func,variant:o.a.oneOf(["white"])},d=u.forwardRef((function(e,t){var n=e.className,i=e.variant,o=Object(a.a)(e,f);return Object(l.jsx)("button",Object(r.a)({ref:t,type:"button",className:c()("btn-close",i&&"btn-close-".concat(i),n)},o))}));d.displayName="CloseButton",d.propTypes=h,d.defaultProps={"aria-label":"Close"},t.a=d},function(e,t,n){"use strict";var r=n(1),a=r.createContext(null);a.displayName="CardHeaderContext",t.a=a},function(e,t,n){"use strict";var r=n(15),a=n(1);n(40);var i=n(36);n(68),n(69);n(92),new WeakMap;var o=n(57),u=n(8),s=["onKeyDown"];var c=a.forwardRef((function(e,t){var n,a=e.onKeyDown,c=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,s),l=Object(o.b)(Object.assign({tagName:"a"},c)),f=Object(r.a)(l,1)[0],h=Object(i.a)((function(e){f.onKeyDown(e),null==a||a(e)}));return((n=c.href)&&"#"!==n.trim()||c.role)&&"button"!==c.role?Object(u.jsx)("a",Object.assign({ref:t},c,{onKeyDown:a})):Object(u.jsx)("a",Object.assign({ref:t},c,f,{onKeyDown:h}))}));c.displayName="Anchor";t.a=c},function(e,t,n){"use strict";var r=n(15),a=n(46);function i(e){void 0===e&&(e=Object(a.a)());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(n){return e.body}}function o(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var u=n(47),s=n(61),c=n(1),l=n(41),f=n.n(l),h=n(68);function d(e){var t=function(e){var t=Object(c.useRef)(e);return t.current=e,t}(e);Object(c.useEffect)((function(){return function(){return t.current()}}),[])}var p=n(69),v=n(36),m=n(66),y=function(e){var t;return"undefined"===typeof document?null:null==e?Object(a.a)().body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(t=e)&&t.nodeType&&e||null)};var b,g=n(8),k=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function w(e){var t=e||(b||(b=new m.a),b),n=Object(c.useRef)({dialog:null,backdrop:null});return Object.assign(n.current,{add:function(){return t.add(n.current)},remove:function(){return t.remove(n.current)},isTopModal:function(){return t.isTopModal(n.current)},setDialogRef:Object(c.useCallback)((function(e){n.current.dialog=e}),[]),setBackdropRef:Object(c.useCallback)((function(e){n.current.backdrop=e}),[])})}var O=Object(c.forwardRef)((function(e,t){var n=e.show,a=void 0!==n&&n,l=e.role,m=void 0===l?"dialog":l,b=e.className,O=e.style,j=e.children,x=e.backdrop,_=void 0===x||x,E=e.keyboard,I=void 0===E||E,T=e.onBackdropClick,S=e.onEscapeKeyDown,N=e.transition,C=e.backdropTransition,A=e.autoFocus,R=void 0===A||A,D=e.enforceFocus,P=void 0===D||D,L=e.restoreFocus,M=void 0===L||L,F=e.restoreFocusOptions,U=e.renderDialog,V=e.renderBackdrop,B=void 0===V?function(e){return Object(g.jsx)("div",Object.assign({},e))}:V,q=e.manager,z=e.container,K=e.onShow,H=e.onHide,W=void 0===H?function(){}:H,G=e.onExit,Q=e.onExited,Y=e.onExiting,$=e.onEnter,J=e.onEntering,X=e.onEntered,Z=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,k),ee=function(e,t){var n=Object(c.useState)((function(){return y(e)})),a=Object(r.a)(n,2),i=a[0],o=a[1];if(!i){var u=y(e);u&&o(u)}return Object(c.useEffect)((function(){t&&i&&t(i)}),[t,i]),Object(c.useEffect)((function(){var t=y(e);t!==i&&o(t)}),[e,i]),i}(z),te=w(q),ne=Object(h.a)(),re=Object(p.a)(a),ae=Object(c.useState)(!a),ie=Object(r.a)(ae,2),oe=ie[0],ue=ie[1],se=Object(c.useRef)(null);Object(c.useImperativeHandle)(t,(function(){return te}),[te]),u.a&&!re&&a&&(se.current=i()),N||a||oe?a&&oe&&ue(!1):ue(!0);var ce=Object(v.a)((function(){if(te.add(),ve.current=Object(s.a)(document,"keydown",de),pe.current=Object(s.a)(document,"focus",(function(){return setTimeout(fe)}),!0),K&&K(),R){var e=i(document);te.dialog&&e&&!o(te.dialog,e)&&(se.current=e,te.dialog.focus())}})),le=Object(v.a)((function(){var e;(te.remove(),null==ve.current||ve.current(),null==pe.current||pe.current(),M)&&(null==(e=se.current)||null==e.focus||e.focus(F),se.current=null)}));Object(c.useEffect)((function(){a&&ee&&ce()}),[a,ee,ce]),Object(c.useEffect)((function(){oe&&le()}),[oe,le]),d((function(){le()}));var fe=Object(v.a)((function(){if(P&&ne()&&te.isTopModal()){var e=i();te.dialog&&e&&!o(te.dialog,e)&&te.dialog.focus()}})),he=Object(v.a)((function(e){e.target===e.currentTarget&&(null==T||T(e),!0===_&&W())})),de=Object(v.a)((function(e){I&&27===e.keyCode&&te.isTopModal()&&(null==S||S(e),e.defaultPrevented||W())})),pe=Object(c.useRef)(),ve=Object(c.useRef)(),me=N;if(!ee||!(a||me&&!oe))return null;var ye=Object.assign({role:m,ref:te.setDialogRef,"aria-modal":"dialog"===m||void 0},Z,{style:O,className:b,tabIndex:-1}),be=U?U(ye):Object(g.jsx)("div",Object.assign({},ye,{children:c.cloneElement(j,{role:"document"})}));me&&(be=Object(g.jsx)(me,{appear:!0,unmountOnExit:!0,in:!!a,onExit:G,onExiting:Y,onExited:function(){ue(!0),null==Q||Q.apply(void 0,arguments)},onEnter:$,onEntering:J,onEntered:X,children:be}));var ge=null;if(_){var ke=C;ge=B({ref:te.setBackdropRef,onClick:he}),ke&&(ge=Object(g.jsx)(ke,{appear:!0,in:!!a,children:ge}))}return Object(g.jsx)(g.Fragment,{children:f.a.createPortal(Object(g.jsxs)(g.Fragment,{children:[ge,be]}),ee)})}));O.displayName="Modal";t.a=Object.assign(O,{Manager:m.a})},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(33),a=n(61);function i(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var a=document.createEvent("HTMLEvents");a.initEvent(t,n,r),e.dispatchEvent(a)}}(e,"transitionend",!0)}),t+n),o=Object(a.a)(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),o()}}function o(e,t,n,o){null==n&&(n=function(e){var t=Object(r.a)(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var u=i(e,n,o),s=Object(a.a)(e,"transitionend",t);return function(){u(),s()}}},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,r(e,t)}n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(22),a=n(52);var i=n(53);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(i.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(a.a)(o,e)})(e)}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(a){return!1}}()?Object.assign:function(e,t){for(var n,u,s=o(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(s[l]=n[l]);if(r){u=r(n);for(var f=0;f<u.length;f++)i.call(n,u[f])&&(s[u[f]]=n[u[f]])}}return s}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,i,o,u){if(!e){var s;if(void 0===t)s=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,u],l=0;(s=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw s.framesToPop=1,s}}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var a,i=new Promise((function(i,o){n(a=e[t].apply(e,r)).then(i,o)}));return i.request=a,i}function a(e,t,n){var a=r(e,t,n);return a.then((function(e){if(e)return new l(e,a.request)}))}function i(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function o(e,t,n,a){a.forEach((function(a){a in n.prototype&&(e.prototype[a]=function(){return r(this[t],a,arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return a(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}i(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),s(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),i(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},i(f,"_store",["name","keyPath","indexNames","autoIncrement"]),o(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),s(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),u(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},i(h,"_tx",["objectStoreNames","mode"]),u(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},i(d,"_db",["name","version","objectStoreNames"]),u(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},i(p,"_db",["name","version","objectStoreNames"]),u(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],a=this._store||this._index,i=a[e].apply(a,n.slice(0,-1));i.onsuccess=function(){r(i.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(a){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():a(r)):a(r)}))}))})})),e.openDb=function(e,t,n){var a=r(indexedDB,"open",[e,t]),i=a.request;return i&&(i.onupgradeneeded=function(e){n&&n(new d(i.result,e.oldVersion,i.transaction))}),a.then((function(e){return new p(e)}))},e.deleteDb=function(e){return r(indexedDB,"deleteDatabase",[e])},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";var r=n(6),a=n(5),i=n(14),o=n(16),u=n.n(o),s=n(1),c=(n(88),n(74)),l=n(29),f=n(17),h=n(8),d=["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"],p=s.forwardRef((function(e,t){var n,o,c=e.bsPrefix,p=e.type,v=e.size,m=e.htmlSize,y=e.id,b=e.className,g=e.isValid,k=void 0!==g&&g,w=e.isInvalid,O=void 0!==w&&w,j=e.plaintext,x=e.readOnly,_=e.as,E=void 0===_?"input":_,I=Object(i.a)(e,d),T=Object(s.useContext)(l.a).controlId;(c=Object(f.a)(c,"form-control"),j)?n=Object(a.a)({},"".concat(c,"-plaintext"),!0):(o={},Object(a.a)(o,c,!0),Object(a.a)(o,"".concat(c,"-").concat(v),v),n=o);return Object(h.jsx)(E,Object(r.a)(Object(r.a)({},I),{},{type:p,size:m,ref:t,readOnly:x,id:y||T,className:u()(b,n,k&&"is-valid",O&&"is-invalid","color"===p&&"".concat(c,"-color"))}))}));p.displayName="FormControl",t.a=Object.assign(p,{Feedback:c.a})},,function(e,t,n){"use strict";(function(e){var r=n(1),a="undefined"!==typeof e&&e.navigator&&"ReactNative"===e.navigator.product,i="undefined"!==typeof document;t.a=i||a?r.useLayoutEffect:r.useEffect}).call(this,n(67))},,function(e,t,n){"use strict";var r=n(15),a=n(6),i=n(14),o=n(16),u=n.n(o),s=n(1),c=n(17),l=n(8),f=["as","bsPrefix","className"],h=["className"],d=["xxl","xl","lg","md","sm","xs"];var p=s.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,o=Object(i.a)(e,f);n=Object(c.a)(n,"col");var s=[],l=[];return d.forEach((function(e){var t,r,a,i=o[e];delete o[e],"object"===typeof i&&null!=i?(t=i.span,r=i.offset,a=i.order):t=i;var u="xs"!==e?"-".concat(e):"";t&&s.push(!0===t?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(t)),null!=a&&l.push("order".concat(u,"-").concat(a)),null!=r&&l.push("offset".concat(u,"-").concat(r))})),[Object(a.a)(Object(a.a)({},o),{},{className:u.a.apply(void 0,[r].concat(s,l))}),{as:t,bsPrefix:n,spans:s}]}(e),o=Object(r.a)(n,2),s=o[0],p=s.className,v=Object(i.a)(s,h),m=o[1],y=m.as,b=void 0===y?"div":y,g=m.bsPrefix,k=m.spans;return Object(l.jsx)(b,Object(a.a)(Object(a.a)({},v),{},{ref:t,className:u()(p,!k.length&&g)}))}));p.displayName="Col",t.a=p},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(1);function a(e){var t=function(e){var t=Object(r.useRef)(e);return t.current=e,t}(e);Object(r.useEffect)((function(){return function(){return t.current()}}),[])}},,function(e,t,n){"use strict";var r=n(86),a=60103,i=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,u=60110,s=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;a=f("react.element"),i=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),u=f("react.context"),s=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var g=b.prototype=new y;g.constructor=b,r(g,m.prototype),g.isPureReactComponent=!0;var k={current:null},w=Object.prototype.hasOwnProperty,O={key:!0,ref:!0,__self:!0,__source:!0};function j(e,t,n){var r,i={},o=null,u=null;if(null!=t)for(r in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!O.hasOwnProperty(r)&&(i[r]=t[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];i.children=c}if(e&&e.defaultProps)for(r in s=e.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:a,type:e,key:o,ref:u,props:i,_owner:k.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===a}var _=/\/+/g;function E(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,n,r,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case a:case i:s=!0}}if(s)return o=o(s=e),e=""===r?"."+E(s,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(_,"$&/")+"/"),I(o,t,n,"",(function(e){return e}))):null!=o&&(x(o)&&(o=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(_,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+E(u=e[c],c);s+=I(u,t,n,l,o)}else if("function"===typeof(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e)))for(e=l.call(e),c=0;!(u=e.next()).done;)s+=I(u=u.value,t,n,l=r+E(u,c++),o);else if("object"===u)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return s}function T(e,t,n){if(null==e)return e;var r=[],a=0;return I(e,r,"","",(function(e){return t.call(n,e,a++)})),r}function S(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var N={current:null};function C(){var e=N.current;if(null===e)throw Error(d(321));return e}var A={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:k,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:T,forEach:function(e,t,n){T(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return T(e,(function(){t++})),t},toArray:function(e){return T(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=b,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var i=r({},e.props),o=e.key,u=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(u=t.ref,s=k.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!O.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];i.children=c}return{$$typeof:a,type:e.type,key:o,ref:u,props:i,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:u,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=j,t.createFactory=function(e){var t=j.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:s,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:S}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return C().useCallback(e,t)},t.useContext=function(e,t){return C().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return C().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return C().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return C().useLayoutEffect(e,t)},t.useMemo=function(e,t){return C().useMemo(e,t)},t.useReducer=function(e,t,n){return C().useReducer(e,t,n)},t.useRef=function(e){return C().useRef(e)},t.useState=function(e){return C().useState(e)},t.version="17.0.2"},function(e,t,n){"use strict";var r=n(1),a=n(86),i=n(99);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var u=new Set,s={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)u.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,a,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var b=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var a=y.hasOwnProperty(t)?y[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(b,g);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(b,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(b,g);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=60103,j=60106,x=60107,_=60108,E=60114,I=60109,T=60110,S=60112,N=60113,C=60120,A=60115,R=60116,D=60121,P=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;O=U("react.element"),j=U("react.portal"),x=U("react.fragment"),_=U("react.strict_mode"),E=U("react.profiler"),I=U("react.provider"),T=U("react.context"),S=U("react.forward_ref"),N=U("react.suspense"),C=U("react.suspense_list"),A=U("react.memo"),R=U("react.lazy"),D=U("react.block"),U("react.scope"),P=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,B="function"===typeof Symbol&&Symbol.iterator;function q(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=B&&e[B]||e["@@iterator"])?e:null}function z(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var K=!1;function H(e,t){if(!e||K)return"";K=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var r=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){r=s}e.call(t.prototype)}else{try{throw Error()}catch(s){r=s}e()}}catch(s){if(s&&r&&"string"===typeof s.stack){for(var a=s.stack.split("\n"),i=r.stack.split("\n"),o=a.length-1,u=i.length-1;1<=o&&0<=u&&a[o]!==i[u];)u--;for(;1<=o&&0<=u;o--,u--)if(a[o]!==i[u]){if(1!==o||1!==u)do{if(o--,0>--u||a[o]!==i[u])return"\n"+a[o].replace(" at new "," at ")}while(1<=o&&0<=u);break}}}finally{K=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function W(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=H(e.type,!1);case 11:return e=H(e.type.render,!1);case 22:return e=H(e.type._render,!1);case 1:return e=H(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case j:return"Portal";case E:return"Profiler";case _:return"StrictMode";case N:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case I:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case A:return G(e.type);case D:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Y(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ae(e,t.type,n):t.hasOwnProperty("defaultValue")&&ae(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ae(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ie(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ue(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe="http://www.w3.org/1999/xhtml",he="http://www.w3.org/2000/svg";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ve,me=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==he||"innerHTML"in e)e.innerHTML=t;else{for((ve=ve||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ve.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var be={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function ke(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||be.hasOwnProperty(e)&&be[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=ke(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(be).forEach((function(e){ge.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),be[t]=be[e]}))}));var Oe=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function je(e,t){if(t){if(Oe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function xe(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ie=null,Te=null;function Se(e){if(e=Xr(e)){if("function"!==typeof Ee)throw Error(o(280));var t=e.stateNode;t&&(t=ea(t),Ee(e.stateNode,e.type,t))}}function Ne(e){Ie?Te?Te.push(e):Te=[e]:Ie=e}function Ce(){if(Ie){var e=Ie,t=Te;if(Te=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Re(e,t,n,r,a){return e(t,n,r,a)}function De(){}var Pe=Ae,Le=!1,Me=!1;function Fe(){null===Ie&&null===Te||(De(),Ce())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ea(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var Be={};Object.defineProperty(Be,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(ic){Ve=!1}function qe(e,t,n,r,a,i,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var ze=!1,Ke=null,He=!1,We=null,Ge={onError:function(e){ze=!0,Ke=e}};function Qe(e,t,n,r,a,i,o,u,s){ze=!1,Ke=null,qe.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Je(e){if(Ye(e)!==e)throw Error(o(188))}function Xe(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return Je(a),e;if(i===r)return Je(a),t;i=i.sibling}throw Error(o(188))}if(n.return!==r.return)n=a,r=i;else{for(var u=!1,s=a.child;s;){if(s===n){u=!0,n=a,r=i;break}if(s===r){u=!0,r=a,n=i;break}s=s.sibling}if(!u){for(s=i.child;s;){if(s===n){u=!0,n=i,r=a;break}if(s===r){u=!0,r=i,n=a;break}s=s.sibling}if(!u)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,at=!1,it=[],ot=null,ut=null,st=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,a){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:a,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":ut=null;break;case"mouseover":case"mouseout":st=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,a,i){return null===e||e.nativeEvent!==i?(e=dt(t,n,r,a,i),null!==t&&(null!==(t=Xr(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function mt(e){var t=Jr(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){i.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Xr(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function bt(e,t,n){yt(e)&&n.delete(t)}function gt(){for(at=!1;0<it.length;){var e=it[0];if(null!==e.blockedOn){null!==(e=Xr(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Xt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&it.shift()}null!==ot&&yt(ot)&&(ot=null),null!==ut&&yt(ut)&&(ut=null),null!==st&&yt(st)&&(st=null),ct.forEach(bt),lt.forEach(bt)}function kt(e,t){e.blockedOn===t&&(e.blockedOn=null,at||(at=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,gt)))}function wt(e){function t(t){return kt(t,e)}if(0<it.length){kt(it[0],e);for(var n=1;n<it.length;n++){var r=it[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&kt(ot,e),null!==ut&&kt(ut,e),null!==st&&kt(st,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function Ot(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jt={animationend:Ot("Animation","AnimationEnd"),animationiteration:Ot("Animation","AnimationIteration"),animationstart:Ot("Animation","AnimationStart"),transitionend:Ot("Transition","TransitionEnd")},xt={},_t={};function Et(e){if(xt[e])return xt[e];if(!jt[e])return e;var t,n=jt[e];for(t in n)if(n.hasOwnProperty(t)&&t in _t)return xt[e]=n[t];return e}f&&(_t=document.createElement("div").style,"AnimationEvent"in window||(delete jt.animationend.animation,delete jt.animationiteration.animation,delete jt.animationstart.animation),"TransitionEvent"in window||delete jt.transitionend.transition);var It=Et("animationend"),Tt=Et("animationiteration"),St=Et("animationstart"),Nt=Et("transitionend"),Ct=new Map,At=new Map,Rt=["abort","abort",It,"animationEnd",Tt,"animationIteration",St,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Nt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];a="on"+(a[0].toUpperCase()+a.slice(1)),At.set(r,t),Ct.set(r,a),c(a,[r])}}(0,i.unstable_now)();var Pt=8;function Lt(e){if(0!==(1&e))return Pt=15,1;if(0!==(2&e))return Pt=14,2;if(0!==(4&e))return Pt=13,4;var t=24&e;return 0!==t?(Pt=12,t):0!==(32&e)?(Pt=11,32):0!==(t=192&e)?(Pt=10,t):0!==(256&e)?(Pt=9,256):0!==(t=3584&e)?(Pt=8,t):0!==(4096&e)?(Pt=7,4096):0!==(t=4186112&e)?(Pt=6,t):0!==(t=62914560&e)?(Pt=5,t):67108864&e?(Pt=4,67108864):0!==(134217728&e)?(Pt=3,134217728):0!==(t=805306368&e)?(Pt=2,t):0!==(1073741824&e)?(Pt=1,1073741824):(Pt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return Pt=0;var r=0,a=0,i=e.expiredLanes,o=e.suspendedLanes,u=e.pingedLanes;if(0!==i)r=i,a=Pt=15;else if(0!==(i=134217727&n)){var s=i&~o;0!==s?(r=Lt(s),a=Pt):0!==(u&=i)&&(r=Lt(u),a=Pt)}else 0!==(i=n&~o)?(r=Lt(i),a=Pt):0!==u&&(r=Lt(u),a=Pt);if(0===r)return 0;if(r=n&((0>(r=31-zt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),a<=Pt)return t;Pt=a}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-zt(t)),r|=e[n],t&=~a;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function Bt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function qt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-zt(t)]=n}var zt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Kt(e)/Ht|0)|0},Kt=Math.log,Ht=Math.LN2;var Wt=i.unstable_UserBlockingPriority,Gt=i.unstable_runWithPriority,Qt=!0;function Yt(e,t,n,r){Le||De();var a=Jt,i=Le;Le=!0;try{Re(a,e,t,n,r)}finally{(Le=i)||Fe()}}function $t(e,t,n,r){Gt(Wt,Jt.bind(null,e,t,n,r))}function Jt(e,t,n,r){var a;if(Qt)if((a=0===(4&t))&&0<it.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),it.push(e);else{var i=Xt(e,t,n,r);if(null===i)a&&pt(e,r);else{if(a){if(-1<ht.indexOf(e))return e=dt(i,e,t,n,r),void it.push(e);if(function(e,t,n,r,a){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,a),!0;case"dragenter":return ut=vt(ut,e,t,n,r,a),!0;case"mouseover":return st=vt(st,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return ct.set(i,vt(ct.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,lt.set(i,vt(lt.get(i)||null,e,t,n,r,a)),!0}return!1}(i,e,t,n,r))return;pt(e,r)}Nr(e,t,r,null,n)}}}function Xt(e,t,n,r){var a=_e(r);if(null!==(a=Jr(a))){var i=Ye(a);if(null===i)a=null;else{var o=i.tag;if(13===o){if(null!==(a=$e(i)))return a;a=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return Nr(e,t,r,a,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,a="value"in Zt?Zt.value:Zt.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return tn=a.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function un(e){function t(t,n,r,a,i){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?an:on,this.isPropagationStopped=on,this}return a(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var sn,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=un(fn),dn=a({},fn,{view:0,detail:0}),pn=un(dn),vn=a({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=un(vn),yn=un(a({},vn,{dataTransfer:0})),bn=un(a({},dn,{relatedTarget:0})),gn=un(a({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),kn=un(a({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=un(a({},fn,{data:0})),On={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _n(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function En(){return _n}var In=un(a({},dn,{key:function(e){if(e.key){var t=On[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),Tn=un(a({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Sn=un(a({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=un(a({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Cn=un(a({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),An=[9,13,27,32],Rn=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var Pn=f&&"TextEvent"in window&&!Dn,Ln=f&&(!Rn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==An.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ne(r),0<(t=Ar(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Gn(e){xr(e,0)}function Qn(e){if(J(Zr(e)))return e}function Yn(e,t){if("change"===e)return t}var $n=!1;if(f){var Jn;if(f){var Xn="oninput"in document;if(!Xn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Xn="function"===typeof Zn.oninput}Jn=Xn}else Jn=!1;$n=Jn&&(!document.documentMode||9<document.documentMode)}function er(){Hn&&(Hn.detachEvent("onpropertychange",tr),Wn=Hn=null)}function tr(e){if("value"===e.propertyName&&Qn(Wn)){var t=[];if(Kn(t,Wn,e,_e(e)),e=Gn,Le)e(t);else{Le=!0;try{Ae(e,t)}finally{Le=!1,Fe()}}}}function nr(e,t,n){"focusin"===e?(er(),Wn=n,(Hn=t).attachEvent("onpropertychange",tr)):"focusout"===e&&er()}function rr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Wn)}function ar(e,t){if("click"===e)return Qn(t)}function ir(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},ur=Object.prototype.hasOwnProperty;function sr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ur.call(t,n[r])||!or(e[n[r]],t[n[r]]))return!1;return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var dr=f&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,mr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==pr||pr!==X(r)||("selectionStart"in(r=pr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&sr(mr,r)||(mr=r,0<(r=Ar(vr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(Rt,2);for(var gr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),kr=0;kr<gr.length;kr++)At.set(gr[kr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(wr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,u,s,c){if(Qe.apply(this,arguments),ze){if(!ze)throw Error(o(198));var l=Ke;ze=!1,Ke=null,He||(He=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function xr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==i&&a.isPropagationStopped())break e;jr(a,u,c),i=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==i&&a.isPropagationStopped())break e;jr(a,u,c),i=s}}}if(He)throw e=We,He=!1,We=null,e}function _r(e,t){var n=ta(t),r=e+"__bubble";n.has(r)||(Sr(t,e,2,!1),n.add(r))}var Er="_reactListening"+Math.random().toString(36).slice(2);function Ir(e){e[Er]||(e[Er]=!0,u.forEach((function(t){Or.has(t)||Tr(t,!1,e,null),Tr(t,!0,e,null)})))}function Tr(e,t,n,r){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,i=n;if("selectionchange"===e&&9!==n.nodeType&&(i=n.ownerDocument),null!==r&&!t&&Or.has(e)){if("scroll"!==e)return;a|=2,i=r}var o=ta(i),u=e+"__"+(t?"capture":"bubble");o.has(u)||(t&&(a|=4),Sr(i,e,a,t),o.add(u))}function Sr(e,t,n,r){var a=At.get(t);switch(void 0===a?2:a){case 0:a=Yt;break;case 1:a=$t;break;default:a=Jt}n=a.bind(null,t,n,e),a=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Nr(e,t,n,r,a){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===a||8===u.nodeType&&u.parentNode===a)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===a||8===s.nodeType&&s.parentNode===a))return;o=o.return}for(;null!==u;){if(null===(o=Jr(u)))return;if(5===(s=o.tag)||6===s){r=i=o;continue e}u=u.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{Pe(e,t,n)}finally{Me=!1,Fe()}}((function(){var r=i,a=_e(n),o=[];e:{var u=Ct.get(e);if(void 0!==u){var s=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":s=In;break;case"focusin":c="focus",s=bn;break;case"focusout":c="blur",s=bn;break;case"beforeblur":case"afterblur":s=bn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Sn;break;case It:case Tt:case St:s=gn;break;case Nt:s=Nn;break;case"scroll":s=pn;break;case"wheel":s=Cn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Tn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(Cr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,a),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!Jr(c)&&!c[Yr])&&(s||u)&&(u=a.window===a?a:(u=a.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?Jr(c):null)&&(c!==(f=Ye(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Tn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:Zr(s),d=null==c?u:Zr(c),(u=new l(v,p+"leave",s,n,a)).target=f,u.relatedTarget=d,v=null,Jr(a)===r&&((l=new l(h,p+"enter",c,n,a)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Rr(d))p++;for(d=0,v=h;v;v=Rr(v))d++;for(;0<p-d;)l=Rr(l),p--;for(;0<d-p;)h=Rr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Rr(l),h=Rr(h)}l=null}else l=null;null!==s&&Dr(o,u,s,l,!1),null!==c&&null!==f&&Dr(o,f,c,l,!0)}if("select"===(s=(u=r?Zr(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(zn(u))if($n)m=ir;else{m=rr;var y=nr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,a):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ae(u,"number",u.value)),y=r?Zr(r):window,e){case"focusin":(zn(y)||"true"===y.contentEditable)&&(pr=y,vr=r,mr=null);break;case"focusout":mr=vr=pr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(o,n,a);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":br(o,n,a)}var b;if(Rn)e:{switch(e){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Bn?Un(e,n)&&(g="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(g="onCompositionStart");g&&(Ln&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==g?"onCompositionEnd"===g&&Bn&&(b=nn()):(en="value"in(Zt=a)?Zt.value:Zt.textContent,Bn=!0)),0<(y=Ar(r,g)).length&&(g=new wn(g,e,null,n,a),o.push({event:g,listeners:y}),b?g.data=b:null!==(b=Vn(n))&&(g.data=b))),(b=Pn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Rn&&Un(e,t)?(e=nn(),tn=en=Zt=null,Bn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ar(r,"onBeforeInput")).length&&(a=new wn("onBeforeInput","beforeinput",null,n,a),o.push({event:a,listeners:r}),a.data=b))}xr(o,t)}))}function Cr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ar(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,i=a.stateNode;5===a.tag&&null!==i&&(a=i,null!=(i=Ue(e,n))&&r.unshift(Cr(e,i,a)),null!=(i=Ue(e,t))&&r.push(Cr(e,i,a))),e=e.return}return r}function Rr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Dr(e,t,n,r,a){for(var i=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,a?null!=(s=Ue(n,i))&&o.unshift(Cr(n,s,u)):a||null!=(s=Ue(n,i))&&o.push(Cr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Pr(){}var Lr=null,Mr=null;function Fr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ur(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vr="function"===typeof setTimeout?setTimeout:void 0,Br="function"===typeof clearTimeout?clearTimeout:void 0;function qr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function zr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Kr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Hr=0;var Wr=Math.random().toString(36).slice(2),Gr="__reactFiber$"+Wr,Qr="__reactProps$"+Wr,Yr="__reactContainer$"+Wr,$r="__reactEvents$"+Wr;function Jr(e){var t=e[Gr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Yr]||n[Gr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Kr(e);null!==e;){if(n=e[Gr])return n;e=Kr(e)}return t}n=(e=n).parentNode}return null}function Xr(e){return!(e=e[Gr]||e[Yr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Zr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ea(e){return e[Qr]||null}function ta(e){var t=e[$r];return void 0===t&&(t=e[$r]=new Set),t}var na=[],ra=-1;function aa(e){return{current:e}}function ia(e){0>ra||(e.current=na[ra],na[ra]=null,ra--)}function oa(e,t){ra++,na[ra]=e.current,e.current=t}var ua={},sa=aa(ua),ca=aa(!1),la=ua;function fa(e,t){var n=e.type.contextTypes;if(!n)return ua;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ha(e){return null!==(e=e.childContextTypes)&&void 0!==e}function da(){ia(ca),ia(sa)}function pa(e,t,n){if(sa.current!==ua)throw Error(o(168));oa(sa,t),oa(ca,n)}function va(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in e))throw Error(o(108,G(t)||"Unknown",i));return a({},n,r)}function ma(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ua,la=sa.current,oa(sa,e),oa(ca,ca.current),!0}function ya(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=va(e,t,la),r.__reactInternalMemoizedMergedChildContext=e,ia(ca),ia(sa),oa(sa,e)):ia(ca),oa(ca,n)}var ba=null,ga=null,ka=i.unstable_runWithPriority,wa=i.unstable_scheduleCallback,Oa=i.unstable_cancelCallback,ja=i.unstable_shouldYield,xa=i.unstable_requestPaint,_a=i.unstable_now,Ea=i.unstable_getCurrentPriorityLevel,Ia=i.unstable_ImmediatePriority,Ta=i.unstable_UserBlockingPriority,Sa=i.unstable_NormalPriority,Na=i.unstable_LowPriority,Ca=i.unstable_IdlePriority,Aa={},Ra=void 0!==xa?xa:function(){},Da=null,Pa=null,La=!1,Ma=_a(),Fa=1e4>Ma?_a:function(){return _a()-Ma};function Ua(){switch(Ea()){case Ia:return 99;case Ta:return 98;case Sa:return 97;case Na:return 96;case Ca:return 95;default:throw Error(o(332))}}function Va(e){switch(e){case 99:return Ia;case 98:return Ta;case 97:return Sa;case 96:return Na;case 95:return Ca;default:throw Error(o(332))}}function Ba(e,t){return e=Va(e),ka(e,t)}function qa(e,t,n){return e=Va(e),wa(e,t,n)}function za(){if(null!==Pa){var e=Pa;Pa=null,Oa(e)}Ka()}function Ka(){if(!La&&null!==Da){La=!0;var e=0;try{var t=Da;Ba(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Da=null}catch(n){throw null!==Da&&(Da=Da.slice(e+1)),wa(Ia,za),n}finally{La=!1}}}var Ha=w.ReactCurrentBatchConfig;function Wa(e,t){if(e&&e.defaultProps){for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ga=aa(null),Qa=null,Ya=null,$a=null;function Ja(){$a=Ya=Qa=null}function Xa(e){var t=Ga.current;ia(Ga),e.type._context._currentValue=t}function Za(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ei(e,t){Qa=e,$a=Ya=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Ao=!0),e.firstContext=null)}function ti(e,t){if($a!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||($a=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ya){if(null===Qa)throw Error(o(308));Ya=t,Qa.dependencies={lanes:0,firstContext:t,responders:null}}else Ya=Ya.next=t;return e._currentValue}var ni=!1;function ri(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function oi(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function ui(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?a=i=o:i=i.next=o,n=n.next}while(null!==n);null===i?a=i=t:i=i.next=t}else a=i=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function si(e,t,n,r){var i=e.updateQueue;ni=!1;var o=i.firstBaseUpdate,u=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===u?o=l:u.next=l,u=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==u&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=i.baseState,u=0,f=l=c=null;;){s=o.lane;var d=o.eventTime;if((r&s)===s){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(s=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,s);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(s="function"===typeof(p=v.payload)?p.call(d,h,s):p)||void 0===s)break e;h=a({},h,s);break e;case 2:ni=!0}}null!==o.callback&&(e.flags|=32,null===(s=i.effects)?i.effects=[o]:s.push(o))}else d={eventTime:d,lane:s,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,u|=s;if(null===(o=o.next)){if(null===(s=i.shared.pending))break;o=s.next,s.next=null,i.lastBaseUpdate=s,i.shared.pending=null}}null===f&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=f,Du|=u,e.lanes=u,e.memoizedState=h}}function ci(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(o(191,a));a.call(r)}}}var li=(new r.Component).refs;function fi(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:a({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var hi={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=is(),a=os(e),i=ii(r,a);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),oi(e,i),us(e,a,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=is(),a=os(e),i=ii(r,a);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),oi(e,i),us(e,a,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=is(),r=os(e),a=ii(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),oi(e,a),us(e,r,n)}};function di(e,t,n,r,a,i,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(a,i))}function pi(e,t,n){var r=!1,a=ua,i=t.contextType;return"object"===typeof i&&null!==i?i=ti(i):(a=ha(t)?la:sa.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?fa(e,a):ua),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=hi,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function vi(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&hi.enqueueReplaceState(t,t.state,null)}function mi(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=li,ri(e);var i=t.contextType;"object"===typeof i&&null!==i?a.context=ti(i):(i=ha(t)?la:sa.current,a.context=fa(e,i)),si(e,n,a,r),a.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(fi(e,t,i,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&hi.enqueueReplaceState(a,a.state,null),si(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4)}var yi=Array.isArray;function bi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===li&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function gi(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function ki(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Us(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function u(t){return e&&null===t.alternate&&(t.flags=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=zs(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=bi(e,t,n),r.return=e,r):((r=Vs(n.type,n.key,n.props,null,e.mode,r)).ref=bi(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Ks(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function f(e,t,n,r,i){return null===t||7!==t.tag?((t=Bs(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=zs(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case O:return(n=Vs(t.type,t.key,t.props,null,e.mode,n)).ref=bi(e,null,t),n.return=e,n;case j:return(t=Ks(t,e.mode,n)).return=e,t}if(yi(t)||q(t))return(t=Bs(t,e.mode,n,null)).return=e,t;gi(e,t)}return null}function d(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==a?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case O:return n.key===a?n.type===x?f(e,t,n.props.children,r,a):c(e,t,n,r):null;case j:return n.key===a?l(e,t,n,r):null}if(yi(n)||q(n))return null!==a?null:f(e,t,n,r,null);gi(e,n)}return null}function p(e,t,n,r,a){if("string"===typeof r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case O:return e=e.get(null===r.key?n:r.key)||null,r.type===x?f(t,e,r.props.children,a,r.key):c(t,e,r,a);case j:return l(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(yi(r)||q(r))return f(t,e=e.get(n)||null,r,a,null);gi(t,r)}return null}function v(a,o,u,s){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(a,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(a,f),o=i(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(a,f),c;if(null===f){for(;v<u.length;v++)null!==(f=h(a,u[v],s))&&(o=i(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(a,f);v<u.length;v++)null!==(m=p(f,a,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=i(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(a,e)})),c}function m(a,u,s,c){var l=q(s);if("function"!==typeof l)throw Error(o(150));if(null==(s=l.call(s)))throw Error(o(151));for(var f=l=null,v=u,m=u=0,y=null,b=s.next();null!==v&&!b.done;m++,b=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var g=d(a,v,b.value,c);if(null===g){null===v&&(v=y);break}e&&v&&null===g.alternate&&t(a,v),u=i(g,u,m),null===f?l=g:f.sibling=g,f=g,v=y}if(b.done)return n(a,v),l;if(null===v){for(;!b.done;m++,b=s.next())null!==(b=h(a,b.value,c))&&(u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return l}for(v=r(a,v);!b.done;m++,b=s.next())null!==(b=p(v,a,m,b.value,c))&&(e&&null!==b.alternate&&v.delete(null===b.key?m:b.key),u=i(b,u,m),null===f?l=b:f.sibling=b,f=b);return e&&v.forEach((function(e){return t(a,e)})),l}return function(e,r,i,s){var c="object"===typeof i&&null!==i&&i.type===x&&null===i.key;c&&(i=i.props.children);var l="object"===typeof i&&null!==i;if(l)switch(i.$$typeof){case O:e:{for(l=i.key,c=r;null!==c;){if(c.key===l){switch(c.tag){case 7:if(i.type===x){n(e,c.sibling),(r=a(c,i.props.children)).return=e,e=r;break e}break;default:if(c.elementType===i.type){n(e,c.sibling),(r=a(c,i.props)).ref=bi(e,c,i),r.return=e,e=r;break e}}n(e,c);break}t(e,c),c=c.sibling}i.type===x?((r=Bs(i.props.children,e.mode,s,i.key)).return=e,e=r):((s=Vs(i.type,i.key,i.props,null,e.mode,s)).ref=bi(e,r,i),s.return=e,e=s)}return u(e);case j:e:{for(c=i.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Ks(i,e.mode,s)).return=e,e=r}return u(e)}if("string"===typeof i||"number"===typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=zs(i,e.mode,s)).return=e,e=r),u(e);if(yi(i))return v(e,r,i,s);if(q(i))return m(e,r,i,s);if(l&&gi(e,i),"undefined"===typeof i&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var wi=ki(!0),Oi=ki(!1),ji={},xi=aa(ji),_i=aa(ji),Ei=aa(ji);function Ii(e){if(e===ji)throw Error(o(174));return e}function Ti(e,t){switch(oa(Ei,t),oa(_i,e),oa(xi,ji),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ia(xi),oa(xi,t)}function Si(){ia(xi),ia(_i),ia(Ei)}function Ni(e){Ii(Ei.current);var t=Ii(xi.current),n=pe(t,e.type);t!==n&&(oa(_i,e),oa(xi,n))}function Ci(e){_i.current===e&&(ia(xi),ia(_i))}var Ai=aa(0);function Ri(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Di=null,Pi=null,Li=!1;function Mi(e,t){var n=Ms(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Fi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Ui(e){if(Li){var t=Pi;if(t){var n=t;if(!Fi(e,t)){if(!(t=zr(n.nextSibling))||!Fi(e,t))return e.flags=-1025&e.flags|2,Li=!1,void(Di=e);Mi(Di,n)}Di=e,Pi=zr(t.firstChild)}else e.flags=-1025&e.flags|2,Li=!1,Di=e}}function Vi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Di=e}function Bi(e){if(e!==Di)return!1;if(!Li)return Vi(e),Li=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ur(t,e.memoizedProps))for(t=Pi;t;)Mi(e,t),t=zr(t.nextSibling);if(Vi(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pi=zr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pi=null}}else Pi=Di?zr(e.stateNode.nextSibling):null;return!0}function qi(){Pi=Di=null,Li=!1}var zi=[];function Ki(){for(var e=0;e<zi.length;e++)zi[e]._workInProgressVersionPrimary=null;zi.length=0}var Hi=w.ReactCurrentDispatcher,Wi=w.ReactCurrentBatchConfig,Gi=0,Qi=null,Yi=null,$i=null,Ji=!1,Xi=!1;function Zi(){throw Error(o(321))}function eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function to(e,t,n,r,a,i){if(Gi=i,Qi=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hi.current=null===e||null===e.memoizedState?To:So,e=n(r,a),Xi){i=0;do{if(Xi=!1,!(25>i))throw Error(o(301));i+=1,$i=Yi=null,t.updateQueue=null,Hi.current=No,e=n(r,a)}while(Xi)}if(Hi.current=Io,t=null!==Yi&&null!==Yi.next,Gi=0,$i=Yi=Qi=null,Ji=!1,t)throw Error(o(300));return e}function no(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===$i?Qi.memoizedState=$i=e:$i=$i.next=e,$i}function ro(){if(null===Yi){var e=Qi.alternate;e=null!==e?e.memoizedState:null}else e=Yi.next;var t=null===$i?Qi.memoizedState:$i.next;if(null!==t)$i=t,Yi=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Yi=e).memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},null===$i?Qi.memoizedState=$i=e:$i=$i.next=e}return $i}function ao(e,t){return"function"===typeof t?t(e):t}function io(e){var t=ro(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Yi,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var u=a.next;a.next=i.next,i.next=u}r.baseQueue=a=i,n.pending=null}if(null!==a){a=a.next,r=r.baseState;var s=u=i=null,c=a;do{var l=c.lane;if((Gi&l)===l)null!==s&&(s=s.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(u=s=f,i=r):s=s.next=f,Qi.lanes|=l,Du|=l}c=c.next}while(null!==c&&c!==a);null===s?i=r:s.next=u,or(r,t.memoizedState)||(Ao=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=s,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function oo(e){var t=ro(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var u=a=a.next;do{i=e(i,u.action),u=u.next}while(u!==a);or(i,t.memoizedState)||(Ao=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function uo(e,t,n){var r=t._getVersion;r=r(t._source);var a=t._workInProgressVersionPrimary;if(null!==a?e=a===r:(e=e.mutableReadLanes,(e=(Gi&e)===e)&&(t._workInProgressVersionPrimary=r,zi.push(t))),e)return n(t._source);throw zi.push(t),Error(o(350))}function so(e,t,n,r){var a=Eu;if(null===a)throw Error(o(349));var i=t._getVersion,u=i(t._source),s=Hi.current,c=s.useState((function(){return uo(a,t,n)})),l=c[1],f=c[0];c=$i;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Qi;return e.memoizedState={refs:d,source:t,subscribe:r},s.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=i(t._source);if(!or(u,e)){e=n(t._source),or(f,e)||(l(e),e=os(m),a.mutableReadLanes|=e&a.pendingLanes),e=a.mutableReadLanes,a.entangledLanes|=e;for(var r=a.entanglements,o=e;0<o;){var s=31-zt(o),c=1<<s;r[s]|=e,o&=~c}}}),[n,t,r]),s.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=os(m);a.mutableReadLanes|=r&a.pendingLanes}catch(i){n((function(){throw i}))}}))}),[t,r]),or(p,n)&&or(v,t)&&or(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:ao,lastRenderedState:f}).dispatch=l=Eo.bind(null,Qi,e),c.queue=e,c.baseQueue=null,f=uo(a,t,n),c.memoizedState=c.baseState=f),f}function co(e,t,n){return so(ro(),e,t,n)}function lo(e){var t=no();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ao,lastRenderedState:e}).dispatch=Eo.bind(null,Qi,e),[t.memoizedState,e]}function fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Qi.updateQueue)?(t={lastEffect:null},Qi.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ho(e){return e={current:e},no().memoizedState=e}function po(){return ro().memoizedState}function vo(e,t,n,r){var a=no();Qi.flags|=e,a.memoizedState=fo(1|t,n,void 0,void 0===r?null:r)}function mo(e,t,n,r){var a=ro();r=void 0===r?null:r;var i=void 0;if(null!==Yi){var o=Yi.memoizedState;if(i=o.destroy,null!==r&&eo(r,o.deps))return void fo(t,n,i,r)}Qi.flags|=e,a.memoizedState=fo(1|t,n,i,r)}function yo(e,t){return vo(516,4,e,t)}function bo(e,t){return mo(516,4,e,t)}function go(e,t){return mo(4,2,e,t)}function ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function wo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,mo(4,2,ko.bind(null,t,e),n)}function Oo(){}function jo(e,t){var n=ro();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function xo(e,t){var n=ro();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _o(e,t){var n=Ua();Ba(98>n?98:n,(function(){e(!0)})),Ba(97<n?97:n,(function(){var n=Wi.transition;Wi.transition=1;try{e(!1),t()}finally{Wi.transition=n}}))}function Eo(e,t,n){var r=is(),a=os(e),i={lane:a,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===Qi||null!==o&&o===Qi)Xi=Ji=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var u=t.lastRenderedState,s=o(u,n);if(i.eagerReducer=o,i.eagerState=s,or(s,u))return}catch(c){}us(e,a,r)}}var Io={readContext:ti,useCallback:Zi,useContext:Zi,useEffect:Zi,useImperativeHandle:Zi,useLayoutEffect:Zi,useMemo:Zi,useReducer:Zi,useRef:Zi,useState:Zi,useDebugValue:Zi,useDeferredValue:Zi,useTransition:Zi,useMutableSource:Zi,useOpaqueIdentifier:Zi,unstable_isNewReconciler:!1},To={readContext:ti,useCallback:function(e,t){return no().memoizedState=[e,void 0===t?null:t],e},useContext:ti,useEffect:yo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,vo(4,2,ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return vo(4,2,e,t)},useMemo:function(e,t){var n=no();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=no();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Eo.bind(null,Qi,e),[r.memoizedState,e]},useRef:ho,useState:lo,useDebugValue:Oo,useDeferredValue:function(e){var t=lo(e),n=t[0],r=t[1];return yo((function(){var t=Wi.transition;Wi.transition=1;try{r(e)}finally{Wi.transition=t}}),[e]),n},useTransition:function(){var e=lo(!1),t=e[0];return ho(e=_o.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=no();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},so(r,e,t,n)},useOpaqueIdentifier:function(){if(Li){var e=!1,t=function(e){return{$$typeof:P,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Hr++).toString(36))),Error(o(355))})),n=lo(t)[1];return 0===(2&Qi.mode)&&(Qi.flags|=516,fo(5,(function(){n("r:"+(Hr++).toString(36))}),void 0,null)),t}return lo(t="r:"+(Hr++).toString(36)),t},unstable_isNewReconciler:!1},So={readContext:ti,useCallback:jo,useContext:ti,useEffect:bo,useImperativeHandle:wo,useLayoutEffect:go,useMemo:xo,useReducer:io,useRef:po,useState:function(){return io(ao)},useDebugValue:Oo,useDeferredValue:function(e){var t=io(ao),n=t[0],r=t[1];return bo((function(){var t=Wi.transition;Wi.transition=1;try{r(e)}finally{Wi.transition=t}}),[e]),n},useTransition:function(){var e=io(ao)[0];return[po().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return io(ao)[0]},unstable_isNewReconciler:!1},No={readContext:ti,useCallback:jo,useContext:ti,useEffect:bo,useImperativeHandle:wo,useLayoutEffect:go,useMemo:xo,useReducer:oo,useRef:po,useState:function(){return oo(ao)},useDebugValue:Oo,useDeferredValue:function(e){var t=oo(ao),n=t[0],r=t[1];return bo((function(){var t=Wi.transition;Wi.transition=1;try{r(e)}finally{Wi.transition=t}}),[e]),n},useTransition:function(){var e=oo(ao)[0];return[po().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return oo(ao)[0]},unstable_isNewReconciler:!1},Co=w.ReactCurrentOwner,Ao=!1;function Ro(e,t,n,r){t.child=null===e?Oi(t,null,n,r):wi(t,e.child,n,r)}function Do(e,t,n,r,a){n=n.render;var i=t.ref;return ei(t,a),r=to(e,t,n,r,i,a),null===e||Ao?(t.flags|=1,Ro(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,eu(e,t,a))}function Po(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!==typeof o||Fs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Vs(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Lo(e,t,o,r,a,i))}return o=e.child,0===(a&i)&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:sr)(a,r)&&e.ref===t.ref)?eu(e,t,i):(t.flags|=1,(e=Us(o,r)).ref=t.ref,e.return=t,t.child=e)}function Lo(e,t,n,r,a,i){if(null!==e&&sr(e.memoizedProps,r)&&e.ref===t.ref){if(Ao=!1,0===(i&a))return t.lanes=e.lanes,eu(e,t,i);0!==(16384&e.flags)&&(Ao=!0)}return Uo(e,t,n,r,i)}function Mo(e,t,n){var r=t.pendingProps,a=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},vs(t,n);else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},vs(t,e),null;t.memoizedState={baseLanes:0},vs(t,null!==i?i.baseLanes:n)}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,vs(t,r);return Ro(e,t,a,n),t.child}function Fo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Uo(e,t,n,r,a){var i=ha(n)?la:sa.current;return i=fa(t,i),ei(t,a),n=to(e,t,n,r,i,a),null===e||Ao?(t.flags|=1,Ro(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~a,eu(e,t,a))}function Vo(e,t,n,r,a){if(ha(n)){var i=!0;ma(t)}else i=!1;if(ei(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pi(t,n,r),mi(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ti(c):c=fa(t,c=ha(n)?la:sa.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&vi(t,o,r,c),ni=!1;var h=t.memoizedState;o.state=h,si(t,r,o,a),s=t.memoizedState,u!==r||h!==s||ca.current||ni?("function"===typeof l&&(fi(t,n,l,r),s=t.memoizedState),(u=ni||di(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ai(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Wa(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=ti(s):s=fa(t,s=ha(n)?la:sa.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&vi(t,o,r,s),ni=!1,h=t.memoizedState,o.state=h,si(t,r,o,a);var p=t.memoizedState;u!==f||h!==p||ca.current||ni?("function"===typeof d&&(fi(t,n,d,r),p=t.memoizedState),(c=ni||di(t,n,c,r,h,p,s))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Bo(e,t,n,r,i,a)}function Bo(e,t,n,r,a,i){Fo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return a&&ya(t,n,!1),eu(e,t,i);r=t.stateNode,Co.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=wi(t,e.child,null,i),t.child=wi(t,null,u,i)):Ro(e,t,u,i),t.memoizedState=r.state,a&&ya(t,n,!0),t.child}function qo(e){var t=e.stateNode;t.pendingContext?pa(0,t.pendingContext,t.pendingContext!==t.context):t.context&&pa(0,t.context,!1),Ti(e,t.containerInfo)}var zo,Ko,Ho,Wo={dehydrated:null,retryLane:0};function Go(e,t,n){var r,a=t.pendingProps,i=Ai.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===a.fallback||!0===a.unstable_avoidThisFallback||(i|=1),oa(Ai,1&i),null===e?(void 0!==a.fallback&&Ui(t),e=a.children,i=a.fallback,o?(e=Qo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wo,e):"number"===typeof a.unstable_expectedLoadTime?(e=Qo(t,e,i,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Wo,t.lanes=33554432,e):((n=qs({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(a=$o(e,t,a.children,a.fallback,n),o=t.child,i=e.child.memoizedState,o.memoizedState=null===i?{baseLanes:n}:{baseLanes:i.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Wo,a):(n=Yo(e,t,a.children,n),t.memoizedState=null,n))}function Qo(e,t,n,r){var a=e.mode,i=e.child;return t={mode:"hidden",children:t},0===(2&a)&&null!==i?(i.childLanes=0,i.pendingProps=t):i=qs(t,a,0,null),n=Bs(n,a,r,null),i.return=e,n.return=e,i.sibling=n,e.child=i,n}function Yo(e,t,n,r){var a=e.child;return e=a.sibling,n=Us(a,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function $o(e,t,n,r,a){var i=t.mode,o=e.child;e=o.sibling;var u={mode:"hidden",children:n};return 0===(2&i)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=u,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Us(o,u),null!==e?r=Us(e,r):(r=Bs(r,i,a,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Jo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Za(e.return,t)}function Xo(e,t,n,r,a,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a,lastEffect:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a,o.lastEffect=i)}function Zo(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(Ro(e,t,r.children,n),0!==(2&(r=Ai.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Jo(e,n);else if(19===e.tag)Jo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oa(Ai,r),0===(2&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===Ri(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Xo(t,!1,a,n,i,t.lastEffect);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===Ri(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Xo(t,!0,n,null,i,t.lastEffect);break;case"together":Xo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function eu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Du|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Us(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Us(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function tu(e,t){if(!Li)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nu(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return ha(t.type)&&da(),null;case 3:return Si(),ia(ca),ia(sa),Ki(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Bi(t)?t.flags|=4:r.hydrate||(t.flags|=256)),null;case 5:Ci(t);var i=Ii(Ei.current);if(n=t.type,null!==e&&null!=t.stateNode)Ko(e,t,n,r),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Ii(xi.current),Bi(t)){r=t.stateNode,n=t.type;var u=t.memoizedProps;switch(r[Gr]=t,r[Qr]=u,n){case"dialog":_r("cancel",r),_r("close",r);break;case"iframe":case"object":case"embed":_r("load",r);break;case"video":case"audio":for(e=0;e<wr.length;e++)_r(wr[e],r);break;case"source":_r("error",r);break;case"img":case"image":case"link":_r("error",r),_r("load",r);break;case"details":_r("toggle",r);break;case"input":ee(r,u),_r("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!u.multiple},_r("invalid",r);break;case"textarea":se(r,u),_r("invalid",r)}for(var c in je(n,u),e=null,u)u.hasOwnProperty(c)&&(i=u[c],"children"===c?"string"===typeof i?r.textContent!==i&&(e=["children",i]):"number"===typeof i&&r.textContent!==""+i&&(e=["children",""+i]):s.hasOwnProperty(c)&&null!=i&&"onScroll"===c&&_r("scroll",r));switch(n){case"input":$(r),re(r,u,!0);break;case"textarea":$(r),le(r);break;case"select":case"option":break;default:"function"===typeof u.onClick&&(r.onclick=Pr)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===i.nodeType?i:i.ownerDocument,e===fe&&(e=de(n)),e===fe?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Gr]=t,e[Qr]=r,zo(e,t),t.stateNode=e,c=xe(n,r),n){case"dialog":_r("cancel",e),_r("close",e),i=r;break;case"iframe":case"object":case"embed":_r("load",e),i=r;break;case"video":case"audio":for(i=0;i<wr.length;i++)_r(wr[i],e);i=r;break;case"source":_r("error",e),i=r;break;case"img":case"image":case"link":_r("error",e),_r("load",e),i=r;break;case"details":_r("toggle",e),i=r;break;case"input":ee(e,r),i=Z(e,r),_r("invalid",e);break;case"option":i=ie(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=a({},r,{value:void 0}),_r("invalid",e);break;case"textarea":se(e,r),i=ue(e,r),_r("invalid",e);break;default:i=r}je(n,i);var l=i;for(u in l)if(l.hasOwnProperty(u)){var f=l[u];"style"===u?we(e,f):"dangerouslySetInnerHTML"===u?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===u?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?null!=f&&"onScroll"===u&&_r("scroll",e):null!=f&&k(e,u,f,c))}switch(n){case"input":$(e),re(e,r,!1);break;case"textarea":$(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(u=r.value)?oe(e,!!r.multiple,u,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Pr)}Fr(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Ho(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Ii(Ei.current),Ii(xi.current),Bi(t)?(r=t.stateNode,n=t.memoizedProps,r[Gr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Gr]=t,t.stateNode=r)}return null;case 13:return ia(Ai),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Bi(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&Ai.current)?0===Cu&&(Cu=3):(0!==Cu&&3!==Cu||(Cu=4),null===Eu||0===(134217727&Du)&&0===(134217727&Pu)||fs(Eu,Tu))),(r||n)&&(t.flags|=4),null);case 4:return Si(),null===e&&Ir(t.stateNode.containerInfo),null;case 10:return Xa(t),null;case 17:return ha(t.type)&&da(),null;case 19:if(ia(Ai),null===(r=t.memoizedState))return null;if(u=0!==(64&t.flags),null===(c=r.rendering))if(u)tu(r,!1);else{if(0!==Cu||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ri(e))){for(t.flags|=64,tu(r,!1),null!==(u=c.updateQueue)&&(t.updateQueue=u,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(u=n).flags&=2,u.nextEffect=null,u.firstEffect=null,u.lastEffect=null,null===(c=u.alternate)?(u.childLanes=0,u.lanes=e,u.child=null,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=c.childLanes,u.lanes=c.lanes,u.child=c.child,u.memoizedProps=c.memoizedProps,u.memoizedState=c.memoizedState,u.updateQueue=c.updateQueue,u.type=c.type,e=c.dependencies,u.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oa(Ai,1&Ai.current|2),t.child}e=e.sibling}null!==r.tail&&Fa()>Uu&&(t.flags|=64,u=!0,tu(r,!1),t.lanes=33554432)}else{if(!u)if(null!==(e=Ri(c))){if(t.flags|=64,u=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),tu(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Li)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Fa()-r.renderingStartTime>Uu&&1073741824!==n&&(t.flags|=64,u=!0,tu(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Fa(),n.sibling=null,t=Ai.current,oa(Ai,u?1&t|2:1&t),n):null;case 23:case 24:return ms(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function ru(e){switch(e.tag){case 1:ha(e.type)&&da();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Si(),ia(ca),ia(sa),Ki(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Ci(e),null;case 13:return ia(Ai),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ia(Ai),null;case 4:return Si(),null;case 10:return Xa(e),null;case 23:case 24:return ms(),null;default:return null}}function au(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var a=n}catch(i){a="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:a}}function iu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}zo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ko=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ii(xi.current);var o,u=null;switch(n){case"input":i=Z(e,i),r=Z(e,r),u=[];break;case"option":i=ie(e,i),r=ie(e,r),u=[];break;case"select":i=a({},i,{value:void 0}),r=a({},r,{value:void 0}),u=[];break;case"textarea":i=ue(e,i),r=ue(e,r),u=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Pr)}for(f in je(n,r),n=null,i)if(!r.hasOwnProperty(f)&&i.hasOwnProperty(f)&&null!=i[f])if("style"===f){var c=i[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(s.hasOwnProperty(f)?u||(u=[]):(u=u||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=i?i[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(u||(u=[]),u.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(u=u||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(u=u||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(s.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&_r("scroll",e),u||c===l||(u=[])):"object"===typeof l&&null!==l&&l.$$typeof===P?l.toString():(u=u||[]).push(f,l))}n&&(u=u||[]).push("style",n);var f=u;(t.updateQueue=f)&&(t.flags|=4)}},Ho=function(e,t,n,r){n!==r&&(t.flags|=4)};var ou="function"===typeof WeakMap?WeakMap:Map;function uu(e,t,n){(n=ii(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Ku=r),iu(0,t)},n}function su(e,t,n){(n=ii(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return iu(0,t),r(a)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Hu?Hu=new Set([this]):Hu.add(this),iu(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var cu="function"===typeof WeakSet?WeakSet:Set;function lu(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Rs(e,n)}else t.current=null}function fu(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Wa(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&qr(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function hu(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var a=e;r=a.next,0!==(4&(a=a.tag))&&0!==(1&a)&&(Ns(n,e),Ss(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Wa(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&ci(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}ci(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Fr(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function du(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=void 0!==a&&null!==a&&a.hasOwnProperty("display")?a.display:null,r.style.display=ke("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pu(e,t){if(ga&&"function"===typeof ga.onCommitFiberUnmount)try{ga.onCommitFiberUnmount(ba,t)}catch(i){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,a=r.destroy;if(r=r.tag,void 0!==a)if(0!==(4&r))Ns(t,n);else{r=t;try{a()}catch(i){Rs(r,i)}}n=n.next}while(n!==e)}break;case 1:if(lu(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(i){Rs(t,i)}break;case 5:lu(t);break;case 4:bu(e,t)}}function vu(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function mu(e){return 5===e.tag||3===e.tag||4===e.tag}function yu(e){e:{for(var t=e.return;null!==t;){if(mu(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||mu(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Pr));else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t):function e(t,n,r){var a=t.tag,i=5===a||6===a;if(i)t=i?t.stateNode:t.stateNode.instance,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==a&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,n,t)}function bu(e,t){for(var n,r,a=t,i=!1;;){if(!i){i=a.return;e:for(;;){if(null===i)throw Error(o(160));switch(n=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===a.tag||6===a.tag){e:for(var u=e,s=a,c=s;;)if(pu(u,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===s)break e;for(;null===c.sibling;){if(null===c.return||c.return===s)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(u=n,s=a.stateNode,8===u.nodeType?u.parentNode.removeChild(s):u.removeChild(s)):n.removeChild(a.stateNode)}else if(4===a.tag){if(null!==a.child){n=a.stateNode.containerInfo,r=!0,a.child.return=a,a=a.child;continue}}else if(pu(e,a),null!==a.child){a.child.return=a,a=a.child;continue}if(a===t)break;for(;null===a.sibling;){if(null===a.return||a.return===t)return;4===(a=a.return).tag&&(i=!1)}a.sibling.return=a.return,a=a.sibling}}function gu(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var a=null!==e?e.memoizedProps:r;e=t.type;var i=t.updateQueue;if(t.updateQueue=null,null!==i){for(n[Qr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),xe(e,a),t=xe(e,r),a=0;a<i.length;a+=2){var u=i[a],s=i[a+1];"style"===u?we(n,s):"dangerouslySetInnerHTML"===u?me(n,s):"children"===u?ye(n,s):k(n,u,s,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(i=r.value)?oe(n,!!r.multiple,i,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Fu=Fa(),du(t.child,!0)),void ku(t);case 19:return void ku(t);case 17:return;case 23:case 24:return void du(t,null!==t.memoizedState)}throw Error(o(163))}function ku(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new cu),t.forEach((function(t){var r=Ps.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function wu(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ou=Math.ceil,ju=w.ReactCurrentDispatcher,xu=w.ReactCurrentOwner,_u=0,Eu=null,Iu=null,Tu=0,Su=0,Nu=aa(0),Cu=0,Au=null,Ru=0,Du=0,Pu=0,Lu=0,Mu=null,Fu=0,Uu=1/0;function Vu(){Uu=Fa()+500}var Bu,qu=null,zu=!1,Ku=null,Hu=null,Wu=!1,Gu=null,Qu=90,Yu=[],$u=[],Ju=null,Xu=0,Zu=null,es=-1,ts=0,ns=0,rs=null,as=!1;function is(){return 0!==(48&_u)?Fa():-1!==es?es:es=Fa()}function os(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===Ua()?1:2;if(0===ts&&(ts=Ru),0!==Ha.transition){0!==ns&&(ns=null!==Mu?Mu.pendingLanes:0),e=ts;var t=4186112&~ns;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=Ua(),0!==(4&_u)&&98===e?e=Ut(12,ts):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),ts),e}function us(e,t,n){if(50<Xu)throw Xu=0,Zu=null,Error(o(185));if(null===(e=ss(e,t)))return null;qt(e,t,n),e===Eu&&(Pu|=t,4===Cu&&fs(e,Tu));var r=Ua();1===t?0!==(8&_u)&&0===(48&_u)?hs(e):(cs(e,n),0===_u&&(Vu(),za())):(0===(4&_u)||98!==r&&99!==r||(null===Ju?Ju=new Set([e]):Ju.add(e)),cs(e,n)),Mu=e}function ss(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cs(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,a=e.pingedLanes,i=e.expirationTimes,u=e.pendingLanes;0<u;){var s=31-zt(u),c=1<<s,l=i[s];if(-1===l){if(0===(c&r)||0!==(c&a)){l=t,Lt(c);var f=Pt;i[s]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);u&=~c}if(r=Mt(e,e===Eu?Tu:0),t=Pt,0===r)null!==n&&(n!==Aa&&Oa(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Aa&&Oa(n)}15===t?(n=hs.bind(null,e),null===Da?(Da=[n],Pa=wa(Ia,Ka)):Da.push(n),n=Aa):14===t?n=qa(99,hs.bind(null,e)):n=qa(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),ls.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function ls(e){if(es=-1,ns=ts=0,0!==(48&_u))throw Error(o(327));var t=e.callbackNode;if(Ts()&&e.callbackNode!==t)return null;var n=Mt(e,e===Eu?Tu:0);if(0===n)return null;var r=n,a=_u;_u|=16;var i=gs();for(Eu===e&&Tu===r||(Vu(),ys(e,r));;)try{Os();break}catch(s){bs(e,s)}if(Ja(),ju.current=i,_u=a,null!==Iu?r=0:(Eu=null,Tu=0,r=Cu),0!==(Ru&Pu))ys(e,0);else if(0!==r){if(2===r&&(_u|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(n=Ft(e))&&(r=ks(e,n))),1===r)throw t=Au,ys(e,0),fs(e,n),cs(e,Fa()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:_s(e);break;case 3:if(fs(e,n),(62914560&n)===n&&10<(r=Fu+500-Fa())){if(0!==Mt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){is(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Vr(_s.bind(null,e),r);break}_s(e);break;case 4:if(fs(e,n),(4186112&n)===n)break;for(r=e.eventTimes,a=-1;0<n;){var u=31-zt(n);i=1<<u,(u=r[u])>a&&(a=u),n&=~i}if(n=a,10<(n=(120>(n=Fa()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ou(n/1960))-n)){e.timeoutHandle=Vr(_s.bind(null,e),n);break}_s(e);break;case 5:_s(e);break;default:throw Error(o(329))}}return cs(e,Fa()),e.callbackNode===t?ls.bind(null,e):null}function fs(e,t){for(t&=~Lu,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-zt(t),r=1<<n;e[n]=-1,t&=~r}}function hs(e){if(0!==(48&_u))throw Error(o(327));if(Ts(),e===Eu&&0!==(e.expiredLanes&Tu)){var t=Tu,n=ks(e,t);0!==(Ru&Pu)&&(n=ks(e,t=Mt(e,t)))}else n=ks(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(_u|=64,e.hydrate&&(e.hydrate=!1,qr(e.containerInfo)),0!==(t=Ft(e))&&(n=ks(e,t))),1===n)throw n=Au,ys(e,0),fs(e,t),cs(e,Fa()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,_s(e),cs(e,Fa()),null}function ds(e,t){var n=_u;_u|=1;try{return e(t)}finally{0===(_u=n)&&(Vu(),za())}}function ps(e,t){var n=_u;_u&=-2,_u|=8;try{return e(t)}finally{0===(_u=n)&&(Vu(),za())}}function vs(e,t){oa(Nu,Su),Su|=t,Ru|=t}function ms(){Su=Nu.current,ia(Nu)}function ys(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Br(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&da();break;case 3:Si(),ia(ca),ia(sa),Ki();break;case 5:Ci(r);break;case 4:Si();break;case 13:case 19:ia(Ai);break;case 10:Xa(r);break;case 23:case 24:ms()}n=n.return}Eu=e,Iu=Us(e.current,null),Tu=Su=Ru=t,Cu=0,Au=null,Lu=Pu=Du=0}function bs(e,t){for(;;){var n=Iu;try{if(Ja(),Hi.current=Io,Ji){for(var r=Qi.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}Ji=!1}if(Gi=0,$i=Yi=Qi=null,Xi=!1,xu.current=null,null===n||null===n.return){Cu=1,Au=t,Iu=null;break}e:{var i=e,o=n.return,u=n,s=t;if(t=Tu,u.flags|=2048,u.firstEffect=u.lastEffect=null,null!==s&&"object"===typeof s&&"function"===typeof s.then){var c=s;if(0===(2&u.mode)){var l=u.alternate;l?(u.updateQueue=l.updateQueue,u.memoizedState=l.memoizedState,u.lanes=l.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=0!==(1&Ai.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,u.flags|=16384,u.flags&=-2981,1===u.tag)if(null===u.alternate)u.tag=17;else{var b=ii(-1,1);b.tag=2,oi(u,b)}u.lanes|=1;break e}s=void 0,u=t;var g=i.pingCache;if(null===g?(g=i.pingCache=new ou,s=new Set,g.set(c,s)):void 0===(s=g.get(c))&&(s=new Set,g.set(c,s)),!s.has(u)){s.add(u);var k=Ds.bind(null,i,c,u);c.then(k,k)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);s=Error((G(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Cu&&(Cu=2),s=au(s,u),h=o;do{switch(h.tag){case 3:i=s,h.flags|=4096,t&=-t,h.lanes|=t,ui(h,uu(0,i,t));break e;case 1:i=s;var w=h.type,O=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==O&&"function"===typeof O.componentDidCatch&&(null===Hu||!Hu.has(O)))){h.flags|=4096,t&=-t,h.lanes|=t,ui(h,su(h,i,t));break e}}h=h.return}while(null!==h)}xs(n)}catch(j){t=j,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function gs(){var e=ju.current;return ju.current=Io,null===e?Io:e}function ks(e,t){var n=_u;_u|=16;var r=gs();for(Eu===e&&Tu===t||ys(e,t);;)try{ws();break}catch(a){bs(e,a)}if(Ja(),_u=n,ju.current=r,null!==Iu)throw Error(o(261));return Eu=null,Tu=0,Cu}function ws(){for(;null!==Iu;)js(Iu)}function Os(){for(;null!==Iu&&!ja();)js(Iu)}function js(e){var t=Bu(e.alternate,e,Su);e.memoizedProps=e.pendingProps,null===t?xs(e):Iu=t,xu.current=null}function xs(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=nu(n,t,Su)))return void(Iu=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Su)||0===(4&n.mode)){for(var r=0,a=n.child;null!==a;)r|=a.lanes|a.childLanes,a=a.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=ru(t)))return n.flags&=2047,void(Iu=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Cu&&(Cu=5)}function _s(e){var t=Ua();return Ba(99,Es.bind(null,e,t)),null}function Es(e,t){do{Ts()}while(null!==Gu);if(0!==(48&_u))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,a=r,i=e.pendingLanes&~a;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=a,e.mutableReadLanes&=a,e.entangledLanes&=a,a=e.entanglements;for(var u=e.eventTimes,s=e.expirationTimes;0<i;){var c=31-zt(i),l=1<<c;a[c]=0,u[c]=-1,s[c]=-1,i&=~l}if(null!==Ju&&0===(24&r)&&Ju.has(e)&&Ju.delete(e),e===Eu&&(Iu=Eu=null,Tu=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(a=_u,_u|=32,xu.current=null,Lr=Qt,hr(u=fr())){if("selectionStart"in u)s={start:u.selectionStart,end:u.selectionEnd};else e:if(s=(s=u.ownerDocument)&&s.defaultView||window,(l=s.getSelection&&s.getSelection())&&0!==l.rangeCount){s=l.anchorNode,i=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{s.nodeType,c.nodeType}catch(E){s=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=u,y=null;t:for(;;){for(var b;m!==s||0!==i&&3!==m.nodeType||(h=f+i),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(b=m.firstChild);)y=m,m=b;for(;;){if(m===u)break t;if(y===s&&++p===i&&(h=f),y===c&&++v===l&&(d=f),null!==(b=m.nextSibling))break;y=(m=y).parentNode}m=b}s=-1===h||-1===d?null:{start:h,end:d}}else s=null;s=s||{start:0,end:0}}else s=null;Mr={focusedElem:u,selectionRange:s},Qt=!1,rs=null,as=!1,qu=r;do{try{Is()}catch(E){if(null===qu)throw Error(o(330));Rs(qu,E),qu=qu.nextEffect}}while(null!==qu);rs=null,qu=r;do{try{for(u=e;null!==qu;){var g=qu.flags;if(16&g&&ye(qu.stateNode,""),128&g){var k=qu.alternate;if(null!==k){var w=k.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&g){case 2:yu(qu),qu.flags&=-3;break;case 6:yu(qu),qu.flags&=-3,gu(qu.alternate,qu);break;case 1024:qu.flags&=-1025;break;case 1028:qu.flags&=-1025,gu(qu.alternate,qu);break;case 4:gu(qu.alternate,qu);break;case 8:bu(u,s=qu);var O=s.alternate;vu(s),null!==O&&vu(O)}qu=qu.nextEffect}}catch(E){if(null===qu)throw Error(o(330));Rs(qu,E),qu=qu.nextEffect}}while(null!==qu);if(w=Mr,k=fr(),g=w.focusedElem,u=w.selectionRange,k!==g&&g&&g.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(g.ownerDocument.documentElement,g)){null!==u&&hr(g)&&(k=u.start,void 0===(w=u.end)&&(w=k),"selectionStart"in g?(g.selectionStart=k,g.selectionEnd=Math.min(w,g.value.length)):(w=(k=g.ownerDocument||document)&&k.defaultView||window).getSelection&&(w=w.getSelection(),s=g.textContent.length,O=Math.min(u.start,s),u=void 0===u.end?O:Math.min(u.end,s),!w.extend&&O>u&&(s=u,u=O,O=s),s=lr(g,O),i=lr(g,u),s&&i&&(1!==w.rangeCount||w.anchorNode!==s.node||w.anchorOffset!==s.offset||w.focusNode!==i.node||w.focusOffset!==i.offset)&&((k=k.createRange()).setStart(s.node,s.offset),w.removeAllRanges(),O>u?(w.addRange(k),w.extend(i.node,i.offset)):(k.setEnd(i.node,i.offset),w.addRange(k))))),k=[];for(w=g;w=w.parentNode;)1===w.nodeType&&k.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof g.focus&&g.focus(),g=0;g<k.length;g++)(w=k[g]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Lr,Mr=Lr=null,e.current=n,qu=r;do{try{for(g=e;null!==qu;){var j=qu.flags;if(36&j&&hu(g,qu.alternate,qu),128&j){k=void 0;var x=qu.ref;if(null!==x){var _=qu.stateNode;switch(qu.tag){case 5:k=_;break;default:k=_}"function"===typeof x?x(k):x.current=k}}qu=qu.nextEffect}}catch(E){if(null===qu)throw Error(o(330));Rs(qu,E),qu=qu.nextEffect}}while(null!==qu);qu=null,Ra(),_u=a}else e.current=n;if(Wu)Wu=!1,Gu=e,Qu=t;else for(qu=r;null!==qu;)t=qu.nextEffect,qu.nextEffect=null,8&qu.flags&&((j=qu).sibling=null,j.stateNode=null),qu=t;if(0===(r=e.pendingLanes)&&(Hu=null),1===r?e===Zu?Xu++:(Xu=0,Zu=e):Xu=0,n=n.stateNode,ga&&"function"===typeof ga.onCommitFiberRoot)try{ga.onCommitFiberRoot(ba,n,void 0,64===(64&n.current.flags))}catch(E){}if(cs(e,Fa()),zu)throw zu=!1,e=Ku,Ku=null,e;return 0!==(8&_u)||za(),null}function Is(){for(;null!==qu;){var e=qu.alternate;as||null===rs||(0!==(8&qu.flags)?Ze(qu,rs)&&(as=!0):13===qu.tag&&wu(e,qu)&&Ze(qu,rs)&&(as=!0));var t=qu.flags;0!==(256&t)&&fu(e,qu),0===(512&t)||Wu||(Wu=!0,qa(97,(function(){return Ts(),null}))),qu=qu.nextEffect}}function Ts(){if(90!==Qu){var e=97<Qu?97:Qu;return Qu=90,Ba(e,Cs)}return!1}function Ss(e,t){Yu.push(t,e),Wu||(Wu=!0,qa(97,(function(){return Ts(),null})))}function Ns(e,t){$u.push(t,e),Wu||(Wu=!0,qa(97,(function(){return Ts(),null})))}function Cs(){if(null===Gu)return!1;var e=Gu;if(Gu=null,0!==(48&_u))throw Error(o(331));var t=_u;_u|=32;var n=$u;$u=[];for(var r=0;r<n.length;r+=2){var a=n[r],i=n[r+1],u=a.destroy;if(a.destroy=void 0,"function"===typeof u)try{u()}catch(c){if(null===i)throw Error(o(330));Rs(i,c)}}for(n=Yu,Yu=[],r=0;r<n.length;r+=2){a=n[r],i=n[r+1];try{var s=a.create;a.destroy=s()}catch(c){if(null===i)throw Error(o(330));Rs(i,c)}}for(s=e.current.firstEffect;null!==s;)e=s.nextEffect,s.nextEffect=null,8&s.flags&&(s.sibling=null,s.stateNode=null),s=e;return _u=t,za(),!0}function As(e,t,n){oi(e,t=uu(0,t=au(n,t),1)),t=is(),null!==(e=ss(e,1))&&(qt(e,1,t),cs(e,t))}function Rs(e,t){if(3===e.tag)As(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){As(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r))){var a=su(n,e=au(t,e),1);if(oi(n,a),a=is(),null!==(n=ss(n,1)))qt(n,1,a),cs(n,a);else if("function"===typeof r.componentDidCatch&&(null===Hu||!Hu.has(r)))try{r.componentDidCatch(t,e)}catch(i){}break}}n=n.return}}function Ds(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=is(),e.pingedLanes|=e.suspendedLanes&n,Eu===e&&(Tu&n)===n&&(4===Cu||3===Cu&&(62914560&Tu)===Tu&&500>Fa()-Fu?ys(e,0):Lu|=n),cs(e,t)}function Ps(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===Ua()?1:2:(0===ts&&(ts=Ru),0===(t=Vt(62914560&~ts))&&(t=4194304))),n=is(),null!==(e=ss(e,t))&&(qt(e,t,n),cs(e,n))}function Ls(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Ms(e,t,n,r){return new Ls(e,t,n,r)}function Fs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Us(e,t){var n=e.alternate;return null===n?((n=Ms(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Vs(e,t,n,r,a,i){var u=2;if(r=e,"function"===typeof e)Fs(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case x:return Bs(n.children,a,i,t);case L:u=8,a|=16;break;case _:u=8,a|=1;break;case E:return(e=Ms(12,n,t,8|a)).elementType=E,e.type=E,e.lanes=i,e;case N:return(e=Ms(13,n,t,a)).type=N,e.elementType=N,e.lanes=i,e;case C:return(e=Ms(19,n,t,a)).elementType=C,e.lanes=i,e;case M:return qs(n,a,i,t);case F:return(e=Ms(24,n,t,a)).elementType=F,e.lanes=i,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case I:u=10;break e;case T:u=9;break e;case S:u=11;break e;case A:u=14;break e;case R:u=16,r=null;break e;case D:u=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ms(u,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Bs(e,t,n,r){return(e=Ms(7,e,r,t)).lanes=n,e}function qs(e,t,n,r){return(e=Ms(23,e,r,t)).elementType=M,e.lanes=n,e}function zs(e,t,n){return(e=Ms(6,e,null,t)).lanes=n,e}function Ks(e,t,n){return(t=Ms(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hs(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Bt(0),this.expirationTimes=Bt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bt(0),this.mutableSourceEagerHydrationData=null}function Ws(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gs(e,t,n,r){var a=t.current,i=is(),u=os(a);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(ha(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(ha(c)){n=va(n,c,s);break e}}n=s}else n=ua;return null===t.context?t.context=n:t.pendingContext=n,(t=ii(i,u)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),oi(a,t),us(a,u,i),u}function Qs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ys(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $s(e,t){Ys(e,t),(e=e.alternate)&&Ys(e,t)}function Js(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hs(e,t,null!=n&&!0===n.hydrate),t=Ms(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ri(t),e[Yr]=n.current,Ir(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var a=(t=r[e])._getVersion;a=a(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,a]:n.mutableSourceEagerHydrationData.push(t,a)}this._internalRoot=n}function Xs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zs(e,t,n,r,a){var i=n._reactRootContainer;if(i){var o=i._internalRoot;if("function"===typeof a){var u=a;a=function(){var e=Qs(o);u.call(e)}}Gs(t,o,e,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Js(e,0,t?{hydrate:!0}:void 0)}(n,r),o=i._internalRoot,"function"===typeof a){var s=a;a=function(){var e=Qs(o);s.call(e)}}ps((function(){Gs(t,o,e,a)}))}return Qs(o)}function ec(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xs(t))throw Error(o(200));return Ws(e,t,null,n)}Bu=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ca.current)Ao=!0;else{if(0===(n&r)){switch(Ao=!1,t.tag){case 3:qo(t),qi();break;case 5:Ni(t);break;case 1:ha(t.type)&&ma(t);break;case 4:Ti(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var a=t.type._context;oa(Ga,a._currentValue),a._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Go(e,t,n):(oa(Ai,1&Ai.current),null!==(t=eu(e,t,n))?t.sibling:null);oa(Ai,1&Ai.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return Zo(e,t,n);t.flags|=64}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),oa(Ai,Ai.current),r)break;return null;case 23:case 24:return t.lanes=0,Mo(e,t,n)}return eu(e,t,n)}Ao=0!==(16384&e.flags)}else Ao=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=fa(t,sa.current),ei(t,n),a=to(null,t,r,e,a,n),t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,ha(r)){var i=!0;ma(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,ri(t);var u=r.getDerivedStateFromProps;"function"===typeof u&&fi(t,r,u,e),a.updater=hi,t.stateNode=a,a._reactInternals=t,mi(t,r,e,n),t=Bo(null,t,r,!0,i,n)}else t.tag=0,Ro(null,t,a,n),t=t.child;return t;case 16:a=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,a=(i=a._init)(a._payload),t.type=a,i=t.tag=function(e){if("function"===typeof e)return Fs(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===A)return 14}return 2}(a),e=Wa(a,e),i){case 0:t=Uo(null,t,a,e,n);break e;case 1:t=Vo(null,t,a,e,n);break e;case 11:t=Do(null,t,a,e,n);break e;case 14:t=Po(null,t,a,Wa(a.type,e),r,n);break e}throw Error(o(306,a,""))}return t;case 0:return r=t.type,a=t.pendingProps,Uo(e,t,r,a=t.elementType===r?a:Wa(r,a),n);case 1:return r=t.type,a=t.pendingProps,Vo(e,t,r,a=t.elementType===r?a:Wa(r,a),n);case 3:if(qo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,a=null!==(a=t.memoizedState)?a.element:null,ai(e,t),si(t,r,null,n),(r=t.memoizedState.element)===a)qi(),t=eu(e,t,n);else{if((i=(a=t.stateNode).hydrate)&&(Pi=zr(t.stateNode.containerInfo.firstChild),Di=t,i=Li=!0),i){if(null!=(e=a.mutableSourceEagerHydrationData))for(a=0;a<e.length;a+=2)(i=e[a])._workInProgressVersionPrimary=e[a+1],zi.push(i);for(n=Oi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Ro(e,t,r,n),qi();t=t.child}return t;case 5:return Ni(t),null===e&&Ui(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,u=a.children,Ur(r,a)?u=null:null!==i&&Ur(r,i)&&(t.flags|=16),Fo(e,t),Ro(e,t,u,n),t.child;case 6:return null===e&&Ui(t),null;case 13:return Go(e,t,n);case 4:return Ti(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=wi(t,null,r,n):Ro(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Do(e,t,r,a=t.elementType===r?a:Wa(r,a),n);case 7:return Ro(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ro(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,a=t.pendingProps,u=t.memoizedProps,i=a.value;var s=t.type._context;if(oa(Ga,s._currentValue),s._currentValue=i,null!==u)if(s=u.value,0===(i=or(s,i)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(s,i):1073741823))){if(u.children===a.children&&!ca.current){t=eu(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){u=s.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&i)){1===s.tag&&((l=ii(-1,n&-n)).tag=2,oi(s,l)),s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Za(s.return,n),c.lanes|=n;break}l=l.next}}else u=10===s.tag&&s.type===t.type?null:s.child;if(null!==u)u.return=s;else for(u=s;null!==u;){if(u===t){u=null;break}if(null!==(s=u.sibling)){s.return=u.return,u=s;break}u=u.return}s=u}Ro(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,ei(t,n),r=r(a=ti(a,i.unstable_observedBits)),t.flags|=1,Ro(e,t,r,n),t.child;case 14:return i=Wa(a=t.type,t.pendingProps),Po(e,t,a,i=Wa(a.type,i),r,n);case 15:return Lo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:Wa(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,ha(r)?(e=!0,ma(t)):e=!1,ei(t,n),pi(t,r,a),mi(t,r,a,n),Bo(null,t,r,!0,e,n);case 19:return Zo(e,t,n);case 23:case 24:return Mo(e,t,n)}throw Error(o(156,t.tag))},Js.prototype.render=function(e){Gs(e,this._internalRoot,null,null)},Js.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Gs(null,e,null,(function(){t[Yr]=null}))},et=function(e){13===e.tag&&(us(e,4,is()),$s(e,4))},tt=function(e){13===e.tag&&(us(e,67108864,is()),$s(e,67108864))},nt=function(e){if(13===e.tag){var t=is(),n=os(e);us(e,n,t),$s(e,n)}},rt=function(e,t){return t()},Ee=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=ea(r);if(!a)throw Error(o(90));J(r),ne(r,a)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Ae=ds,Re=function(e,t,n,r,a){var i=_u;_u|=4;try{return Ba(98,e.bind(null,t,n,r,a))}finally{0===(_u=i)&&(Vu(),za())}},De=function(){0===(49&_u)&&(function(){if(null!==Ju){var e=Ju;Ju=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cs(e,Fa())}))}za()}(),Ts())},Pe=function(e,t){var n=_u;_u|=2;try{return e(t)}finally{0===(_u=n)&&(Vu(),za())}};var tc={Events:[Xr,Zr,ea,Ne,Ce,Ts,{current:!1}]},nc={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Xe(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{ba=ac.inject(rc),ga=ac}catch(ic){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=ec,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Xe(t))?null:e.stateNode},t.flushSync=function(e,t){var n=_u;if(0!==(48&n))return e(t);_u|=1;try{if(e)return Ba(99,e.bind(null,t))}finally{_u=n,za()}},t.hydrate=function(e,t,n){if(!Xs(t))throw Error(o(200));return Zs(null,e,t,!0,n)},t.render=function(e,t,n){if(!Xs(t))throw Error(o(200));return Zs(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xs(e))throw Error(o(40));return!!e._reactRootContainer&&(ps((function(){Zs(null,null,e,!1,(function(){e._reactRootContainer=null,e[Yr]=null}))})),!0)},t.unstable_batchedUpdates=ds,t.unstable_createPortal=function(e,t){return ec(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xs(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zs(e,t,n,!1,r)},t.version="17.0.2"},function(e,t,n){"use strict";e.exports=n(100)},function(e,t,n){"use strict";var r,a,i,o;if("object"===typeof performance&&"function"===typeof performance.now){var u=performance;t.unstable_now=function(){return u.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var l=null,f=null,h=function e(){if(null!==l)try{var n=t.unstable_now();l(!0,n),l=null}catch(r){throw setTimeout(e,0),r}};r=function(e){null!==l?setTimeout(r,0,e):(l=e,setTimeout(h,0))},a=function(e,t){f=setTimeout(e,t)},i=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},o=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var v=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof v&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,y=null,b=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},o=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var w=new MessageChannel,O=w.port2;w.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();k=e+g;try{y(!0,e)?O.postMessage(null):(m=!1,y=null)}catch(n){throw O.postMessage(null),n}}else m=!1},r=function(e){y=e,m||(m=!0,O.postMessage(null))},a=function(e,n){b=d((function(){e(t.unstable_now())}),n)},i=function(){p(b),b=-1}}function j(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,a=e[r];if(!(void 0!==a&&0<E(a,t)))break e;e[r]=t,e[n]=a,n=r}}function x(e){return void 0===(e=e[0])?null:e}function _(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length;r<a;){var i=2*(r+1)-1,o=e[i],u=i+1,s=e[u];if(void 0!==o&&0>E(o,n))void 0!==s&&0>E(s,o)?(e[r]=s,e[u]=n,r=u):(e[r]=o,e[i]=n,r=i);else{if(!(void 0!==s&&0>E(s,n)))break e;e[r]=s,e[u]=n,r=u}}}return t}return null}function E(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var I=[],T=[],S=1,N=null,C=3,A=!1,R=!1,D=!1;function P(e){for(var t=x(T);null!==t;){if(null===t.callback)_(T);else{if(!(t.startTime<=e))break;_(T),t.sortIndex=t.expirationTime,j(I,t)}t=x(T)}}function L(e){if(D=!1,P(e),!R)if(null!==x(I))R=!0,r(M);else{var t=x(T);null!==t&&a(L,t.startTime-e)}}function M(e,n){R=!1,D&&(D=!1,i()),A=!0;var r=C;try{for(P(n),N=x(I);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,C=N.priorityLevel;var u=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?N.callback=u:N===x(I)&&_(I),P(n)}else _(I);N=x(I)}if(null!==N)var s=!0;else{var c=x(T);null!==c&&a(L,c.startTime-n),s=!1}return s}finally{N=null,C=r,A=!1}}var F=o;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,r(M))},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return x(I)},t.unstable_next=function(e){switch(C){case 1:case 2:case 3:var t=3;break;default:t=C}var n=C;C=t;try{return e()}finally{C=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=C;C=e;try{return t()}finally{C=n}},t.unstable_scheduleCallback=function(e,n,o){var u=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?u+o:u:o=u,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:S++,callback:n,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>u?(e.sortIndex=o,j(T,e),null===x(I)&&e===x(T)&&(D?i():D=!0,a(L,o-u))):(e.sortIndex=s,j(I,e),R||A||(R=!0,r(M))),e},t.unstable_wrapCallback=function(e){var t=C;return function(){var n=C;C=t;try{return e.apply(this,arguments)}finally{C=n}}}},,,function(e,t,n){var r=function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"===typeof Symbol?Symbol:{},a=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(E){u=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var a=t&&t.prototype instanceof f?t:f,i=Object.create(a.prototype),o=new j(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(a,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===a)throw i;return _()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var u=k(o,n);if(u){if(u===l)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=c(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,o),i}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(E){return{type:"throw",arg:E}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};u(p,a,(function(){return this}));var v=Object.getPrototypeOf,m=v&&v(v(x([])));m&&m!==t&&n.call(m,a)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function b(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function g(e,t){var r;this._invoke=function(a,i){function o(){return new t((function(r,o){!function r(a,i,o,u){var s=c(e[a],e,i);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"===typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,o,u)}),(function(e){r("throw",e,o,u)})):t.resolve(f).then((function(e){l.value=e,o(l)}),(function(e){return r("throw",e,o,u)}))}u(s.arg)}(a,i,r,o)}))}return r=r?r.then(o,o):o()}}function k(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var a=r.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function w(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(w,this),this.reset(!0)}function x(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:_}}function _(){return{value:void 0,done:!0}}return h.prototype=d,u(y,"constructor",d),u(d,"constructor",h),h.displayName=u(d,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,u(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},b(g.prototype),u(g.prototype,i,(function(){return this})),e.AsyncIterator=g,e.async=function(t,n,r,a,i){void 0===i&&(i=Promise);var o=new g(s(t,n,r,a),i);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},b(y),u(y,o,"Generator"),u(y,a,(function(){return this})),u(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var u=n.call(i,"catchLoc"),s=n.call(i,"finallyLoc");if(u&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),O(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;O(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=r}catch(a){"object"===typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,c=[],l=!1,f=-1;function h(){l&&s&&(l=!1,s.length?c=s.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=u(h);l=!0;for(var t=c.length;t;){for(s=c,c=[];++f<t;)s&&s[f].run();f=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),1!==c.length||l||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=v,a.addListener=v,a.once=v,a.off=v,a.removeListener=v,a.removeAllListeners=v,a.emit=v,a.prependListener=v,a.prependOnceListener=v,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";n(106)},function(e,t,n){"use strict";(function(e){var t=n(0),r=n.n(t),a=n(3),i=n(4),o=n(2),u=n(39),s=n(10),c=n(23),l=n(7);function f(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.n)();return!("file:"!==f()&&"ionic:"!==f()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function d(){return Object(l.s)()&&11===(null===document||void 0===document?void 0:document.documentMode)}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.n)();return/Edge\/\d+/.test(e)}function v(){try{var e=self.localStorage,t=s.s();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(l.n)();return d()||p(e)}()||Object(l.t)()}catch(n){return m()&&Object(l.t)()}return!1}function m(){return"undefined"!==typeof e&&"WorkerGlobalScope"in e&&"importScripts"in e}function y(){return("http:"===f()||"https:"===f()||Object(l.p)()||h())&&!(Object(l.w)()||Object(l.v)())&&v()&&!m()}function b(){return h()&&"undefined"!==typeof document}function g(){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var w={LOCAL:"local",NONE:"none",SESSION:"session"},O=s.p;function j(e,t){O(Object.values(w).includes(t),e,"invalid-persistence-type"),Object(l.w)()?O(t!==w.SESSION,e,"unsupported-persistence-type"):Object(l.v)()?O(t===w.NONE,e,"unsupported-persistence-type"):m()?O(t===w.NONE||t===w.LOCAL&&Object(l.t)(),e,"unsupported-persistence-type"):O(t===w.NONE||v(),e,"unsupported-persistence-type")}function x(e){return _.apply(this,arguments)}function _(){return(_=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=E(),a=s.v("persistence",t.config.apiKey,t.name),(null===n||void 0===n?void 0:n.sessionStorage)&&n.sessionStorage.setItem(a,t._getPersistence());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(){return"undefined"!==typeof window?window:null}var I=s.p,T=function(){function e(){Object(a.a)(this,e),this.browserResolver=s.t(s.z),this.cordovaResolver=s.t(s.E),this.underlyingResolver=null,this._redirectPersistence=s.A,this._completeRedirectFn=s.u}return Object(i.a)(e,[{key:"_initialize",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,a,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n,a,i){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,a,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,a){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return b()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return I(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,g();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function S(e){return e.unwrap()}function N(e){var t=(e instanceof l.c?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof l.c)&&"temporaryProof"in t&&"phoneNumber"in t)return s.i.credentialFromResult(e);var n,r=t.providerId;if(!r||r===s.k.PASSWORD)return null;switch(r){case s.k.GOOGLE:n=s.f;break;case s.k.FACEBOOK:n=s.d;break;case s.k.GITHUB:n=s.e;break;case s.k.TWITTER:n=s.o;break;default:var a=t.oauthIdToken,i=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,c=t.nonce;return i||o||a||u?u?r.startsWith("saml.")?s.m._create(r,u):s.g._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:a,accessToken:i}):new s.h(r).credential({idToken:a,accessToken:i,rawNonce:c}):null}return e instanceof l.c?n.credentialFromError(e):n.credentialFromResult(e)}function C(e,t){return t.catch((function(t){throw t instanceof l.c&&function(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new D(e,s.J(e,t));else if(r){var a=N(t),i=t;a&&(i.credential=a,i.tenantId=r.tenantId||void 0,i.email=r.email||void 0,i.phoneNumber=r.phoneNumber||void 0)}}(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,N(t)),additionalUserInfo:s.I(e),user:P.getOrCreate(r)}}))}function A(e,t){return R.apply(this,arguments)}function R(){return(R=Object(o.a)(r.a.mark((function e(t,n){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return a=e.sent,e.abrupt("return",{verificationId:a.verificationId,confirm:function(e){return C(t,a.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var D=function(){function e(t,n){Object(a.a)(this,e),this.resolver=n,this.auth=t.wrapped()}return Object(i.a)(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return C(S(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),P=function(){function e(t){Object(a.a)(this,e),this._delegate=t,this.multiFactor=s.S(t)}return Object(i.a)(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(this.auth,s.O(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",A(this.auth,s.P(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(this.auth,s.Q(this._delegate,t,T)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(s.q(this.auth));case 2:return e.abrupt("return",s.R(this._delegate,t,T));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(this.auth,s.T(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return A(this.auth,s.U(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return C(this.auth,s.V(this._delegate,e,T))}},{key:"reauthenticateWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(s.q(this.auth));case 2:return e.abrupt("return",s.W(this._delegate,t,T));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return s.X(this._delegate,e)}},{key:"unlink",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.ib(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return s.jb(this._delegate,e)}},{key:"updatePassword",value:function(e){return s.kb(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return s.lb(this._delegate,e)}},{key:"updateProfile",value:function(e){return s.mb(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return s.nb(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();P.USER_MAP=new WeakMap;var L=s.p,M=function(){function e(t,n){if(Object(a.a)(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;L(r,"invalid-api-key",{appName:t.name});var i=[s.L];if("undefined"!==typeof window){i=function(e,t){var n=E();if(!(null===n||void 0===n?void 0:n.sessionStorage))return[];var r=s.v("persistence",e,t);switch(n.sessionStorage.getItem(r)){case w.NONE:return[s.L];case w.LOCAL:return[s.M,s.A];case w.SESSION:return[s.A];default:return[]}}(r,t.name);for(var o=0,u=[s.M,s.y,s.A];o<u.length;o++){var c=u[o];i.includes(c)||i.push(c)}}L(r,"invalid-api-key",{appName:t.name});var l="undefined"!==typeof window?T:void 0;this._delegate=n.initialize({options:{persistence:i,popupRedirectResolver:l}}),this._delegate._updateErrorMap(s.G),this.linkUnderlyingAuth()}return Object(i.a)(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?P.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){s.D(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return s.x(this._delegate,e)}},{key:"checkActionCode",value:function(e){return s.B(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return s.C(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Object(o.a)(r.a.mark((function e(t,n){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",C(this._delegate,s.F(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return s.H(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return s.N(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(y(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,s.K(this._delegate,T);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",C(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){s.w(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=F(e,t,n),a=r.next,i=r.error,o=r.complete;return this._delegate.onAuthStateChanged(a,i,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=F(e,t,n),a=r.next,i=r.error,o=r.complete;return this._delegate.onIdTokenChanged(a,i,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return s.Z(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return s.Y(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Object(o.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(this._delegate,t),e.t0=t,e.next=e.t0===w.SESSION?4:e.t0===w.LOCAL?6:e.t0===w.NONE?11:13;break;case 4:return n=s.A,e.abrupt("break",14);case 6:return e.next=8,s.t(s.M)._isAvailable();case 8:return a=e.sent,n=a?s.M:s.y,e.abrupt("break",14);case 11:return n=s.L,e.abrupt("break",14);case 13:return e.abrupt("return",s.r("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return C(this._delegate,s.ab(this._delegate))}},{key:"signInWithCredential",value:function(e){return C(this._delegate,s.bb(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return C(this._delegate,s.cb(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return C(this._delegate,s.db(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return C(this._delegate,s.eb(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return A(this._delegate,s.fb(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(y(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",C(this._delegate,s.gb(this._delegate,t,T)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Object(o.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(y(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,x(this._delegate);case 3:return e.abrupt("return",s.hb(this._delegate,t,T));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return s.ob(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function F(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var a=r;return{next:function(e){return a(e&&P.getOrCreate(e))},error:t,complete:n}}M.Persistence=w;var U=function(){function e(){Object(a.a)(this,e),this.providerId="phone",this._delegate=new s.i(S(u.a.auth()))}return Object(i.a)(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return s.i.credential(e,t)}}]),e}();U.PHONE_SIGN_IN_METHOD=s.i.PHONE_SIGN_IN_METHOD,U.PROVIDER_ID=s.i.PROVIDER_ID;var V,B=s.p,q=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.a.app();Object(a.a)(this,e),B(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new s.l(t,n,i.auth()),this.type=this._delegate.type}return Object(i.a)(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(V=u.a).INTERNAL.registerComponent(new c.a("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new M(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:s.a.EMAIL_SIGNIN,PASSWORD_RESET:s.a.PASSWORD_RESET,RECOVER_EMAIL:s.a.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:s.a.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:s.a.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:s.a.VERIFY_EMAIL}},EmailAuthProvider:s.c,FacebookAuthProvider:s.d,GithubAuthProvider:s.e,GoogleAuthProvider:s.f,OAuthProvider:s.h,SAMLAuthProvider:s.n,PhoneAuthProvider:U,PhoneMultiFactorGenerator:s.j,RecaptchaVerifier:q,TwitterAuthProvider:s.o,Auth:M,AuthCredential:s.b,Error:l.c}).setInstantiationMode("LAZY").setMultipleInstances(!1)),V.registerVersion("@firebase/auth-compat","0.2.3")}).call(this,n(67))},function(e,t,n){"use strict";var r=n(18);Object(r.registerVersion)("firebase","9.4.1","app")},function(e,t,n){"use strict";n(86);var r=n(1),a=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var i=Symbol.for;a=i("react.element"),t.Fragment=i("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u=Object.prototype.hasOwnProperty,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,i={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)u.call(t,r)&&!s.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:l,props:i,_owner:o.current}}t.jsx=c,t.jsxs=c},function(e,t,n){"use strict";var r=n(110);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var a=null;return t.forEach((function(e){if(null==a){var t=e.apply(void 0,n);null!=t&&(a=t)}})),a}return(0,i.default)(r)};var r,a=n(112),i=(r=a)&&r.__esModule?r:{default:r};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,a,i,o){var u=a||"<<anonymous>>",s=o||r;if(null==n[r])return t?new Error("Required "+i+" `"+s+"` was not specified in `"+u+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,u,i,s].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},function(e,t,n){},,function(e,t,n){"use strict";var r,a=n(15),i=n(9),o=n(3),u=n(4),s=n(5),c=n(0),l=n.n(c),f=n(2),h=n(18),d=n(25),p=n(7),v=n(23),m=n(20),y=n(89),b="w:".concat("0.5.4"),g=(r={},Object(s.a)(r,"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),Object(s.a)(r,"not-registered","Firebase Installation is not registered."),Object(s.a)(r,"installation-not-found","Firebase Installation not found."),Object(s.a)(r,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),Object(s.a)(r,"app-offline","Could not process request. Application offline."),Object(s.a)(r,"delete-pending-registration","Can't delete installation while there is a pending registration request."),r),k=new p.b("installations","Installations",g);function w(e){return e instanceof p.c&&e.code.includes("request-failed")}function O(e){var t=e.projectId;return"".concat("https://firebaseinstallations.googleapis.com/v1","/projects/").concat(t,"/installations")}function j(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function x(e,t){return _.apply(this,arguments)}function _(){return(_=Object(f.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,a=r.error,e.abrupt("return",k.create("request-failed",{requestName:t,serverCode:a.code,serverMessage:a.message,serverStatus:a.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function I(e,t){var n=t.refreshToken,r=E(e);return r.append("Authorization",function(e){return"".concat("FIS_v2"," ").concat(e)}(n)),r}function T(e){return S.apply(this,arguments)}function S(){return(S=Object(f.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(e,t){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(l.a.mark((function e(t,n){var r,a,i,o,u,s,c,f;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.fid,a=O(t),i=E(t),o={fid:r,authVersion:"FIS_v2",appId:t.appId,sdkVersion:b},u={method:"POST",headers:i,body:JSON.stringify(o)},e.next=7,T((function(){return fetch(a,u)}));case 7:if(!(s=e.sent).ok){e.next=16;break}return e.next=11,s.json();case 11:return c=e.sent,f={fid:c.fid||r,registrationStatus:2,refreshToken:c.refreshToken,authToken:j(c.authToken)},e.abrupt("return",f);case 16:return e.next=18,x("Create Installation",s);case 18:throw e.sent;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(e){return new Promise((function(t){setTimeout(t,e)}))}var R=/^[cdef][\w-]{21}$/;function D(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,Object(m.a)(t))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return R.test(t)?t:""}catch(n){return""}}function P(e){return"".concat(e.appName,"!").concat(e.appId)}var L=new Map;function M(e,t){var n=P(e);F(n,t),function(e,t){var n=V();n&&n.postMessage({key:e,fid:t});B()}(n,t)}function F(e,t){var n=L.get(e);if(n){var r,a=Object(i.a)(n);try{for(a.s();!(r=a.n()).done;){(0,r.value)(t)}}catch(o){a.e(o)}finally{a.f()}}}var U=null;function V(){return!U&&"BroadcastChannel"in self&&((U=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){F(e.data.key,e.data.fid)}),U}function B(){0===L.size&&U&&(U.close(),U=null)}var q="firebase-installations-store",z=null;function K(){return z||(z=Object(y.openDb)("firebase-installations-database",1,(function(e){switch(e.oldVersion){case 0:e.createObjectStore(q)}}))),z}function H(e,t){return W.apply(this,arguments)}function W(){return(W=Object(f.a)(l.a.mark((function e(t,n){var r,a,i,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.next=3,K();case 3:return a=e.sent,i=a.transaction(q,"readwrite"),o=i.objectStore(q),e.next=8,o.get(r);case 8:return u=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,i.complete;case 13:return u&&u.fid===n.fid||M(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(e){return Q.apply(this,arguments)}function Q(){return(Q=Object(f.a)(l.a.mark((function e(t){var n,r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),e.next=3,K();case 3:return r=e.sent,a=r.transaction(q,"readwrite"),e.next=7,a.objectStore(q).delete(n);case 7:return e.next=9,a.complete;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Y(e,t){return $.apply(this,arguments)}function $(){return($=Object(f.a)(l.a.mark((function e(t,n){var r,a,i,o,u,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.next=3,K();case 3:return a=e.sent,i=a.transaction(q,"readwrite"),o=i.objectStore(q),e.next=8,o.get(r);case 8:if(u=e.sent,void 0!==(s=n(u))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(s,r);case 17:return e.next=19,i.complete;case 19:return!s||u&&u.fid===s.fid||M(t,s.fid),e.abrupt("return",s);case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function J(e){return X.apply(this,arguments)}function X(){return(X=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t,(function(e){var r=Z(e),a=ee(t,r);return n=a.registrationPromise,a.installationEntry}));case 2:if(""!==(r=e.sent).fid){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return ie(e||{fid:D(),registrationStatus:0})}function ee(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(k.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return te.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:ne(e)}:{installationEntry:t}}function te(){return(te=Object(f.a)(l.a.mark((function e(t,n){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(t,n);case 3:return r=e.sent,e.abrupt("return",H(t,r));case 7:if(e.prev=7,e.t0=e.catch(0),!w(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,G(t);case 12:e.next=16;break;case 14:return e.next=16,H(t,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function ne(e){return re.apply(this,arguments)}function re(){return(re=Object(f.a)(l.a.mark((function e(t){var n,r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ae(t);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,A(100);case 6:return e.next=8,ae(t);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,J(t);case 14:if(r=e.sent,a=r.installationEntry,!(i=r.registrationPromise)){e.next=21;break}return e.abrupt("return",i);case 21:return e.abrupt("return",a);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(e){return Y(e,(function(e){if(!e)throw k.create("installation-not-found");return ie(e)}))}function ie(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function oe(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(f.a)(l.a.mark((function e(t,n){var r,a,i,o,u,s,c,f,h,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appConfig,a=t.platformLoggerProvider,i=se(r,n),o=I(r,n),(u=a.getImmediate({optional:!0}))&&o.append("x-firebase-client",u.getPlatformInfoString()),s={installation:{sdkVersion:b}},c={method:"POST",headers:o,body:JSON.stringify(s)},e.next=9,T((function(){return fetch(i,c)}));case 9:if(!(f=e.sent).ok){e.next=18;break}return e.next=13,f.json();case 13:return h=e.sent,d=j(h),e.abrupt("return",d);case 18:return e.next=20,x("Generate Auth Token",f);case 20:throw e.sent;case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(e,t){var n=t.fid;return"".concat(O(e),"/").concat(n,"/authTokens:generate")}function ce(e){return le.apply(this,arguments)}function le(){return(le=Object(f.a)(l.a.mark((function e(t){var n,r,a,i,o=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Y(t.appConfig,(function(e){if(!me(e))throw k.create("not-registered");var a=e.authToken;if(!n&&ye(a))return e;if(1===a.requestStatus)return r=fe(t,n),e;if(!navigator.onLine)throw k.create("app-offline");var i=be(e);return r=pe(t,i),i}));case 3:if(a=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=a.authToken;case 11:return i=e.t0,e.abrupt("return",i);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){return he.apply(this,arguments)}function he(){return(he=Object(f.a)(l.a.mark((function e(t,n){var r,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,de(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,A(100);case 6:return e.next=8,de(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(a=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",ce(t,n));case 16:return e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function de(e){return Y(e,(function(e){if(!me(e))throw k.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function pe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(f.a)(l.a.mark((function e(t,n){var r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,oe(t,n);case 3:return r=e.sent,a=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,H(t.appConfig,a);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!w(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,G(t.appConfig);case 15:e.next=20;break;case 17:return i=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,H(t.appConfig,i);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function me(e){return void 0!==e&&2===e.registrationStatus}function ye(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function be(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ge(){return(ge=Object(f.a)(l.a.mark((function e(t){var n,r,a,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,J(n.appConfig);case 3:return r=e.sent,a=r.installationEntry,(i=r.registrationPromise)?i.catch(console.error):ce(n).catch(console.error),e.abrupt("return",a.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(){return(ke=Object(f.a)(l.a.mark((function e(t){var n,r,a,i=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t,e.next=4,we(r.appConfig);case 4:return e.next=6,ce(r,n);case 6:return a=e.sent,e.abrupt("return",a.token);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function we(e){return Oe.apply(this,arguments)}function Oe(){return(Oe=Object(f.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e){return k.create("missing-app-config-values",{valueName:e})}var xe,_e=function(e){var t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw je("App Configuration");if(!e.name)throw je("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw je(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),platformLoggerProvider:Object(h._getProvider)(t,"platform-logger"),_delete:function(){return Promise.resolve()}}},Ee=function(e){var t=e.getProvider("app").getImmediate(),n=Object(h._getProvider)(t,"installations").getImmediate();return{getId:function(){return function(e){return ge.apply(this,arguments)}(n)},getToken:function(e){return function(e){return ke.apply(this,arguments)}(n,e)}}};Object(h._registerComponent)(new v.a("installations",_e,"PUBLIC")),Object(h._registerComponent)(new v.a("installations-internal",Ee,"PRIVATE")),Object(h.registerVersion)("@firebase/installations","0.5.4"),Object(h.registerVersion)("@firebase/installations","0.5.4","esm2017");var Ie="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Te="https://www.googletagmanager.com/gtag/js",Se=new d.b("@firebase/analytics");function Ne(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function Ce(e,t){var n=document.createElement("script");n.src="".concat(Te,"?l=").concat(e,"&id=").concat(t),n.async=!0,document.head.appendChild(n)}function Ae(e,t,n,r,a,i){return Re.apply(this,arguments)}function Re(){return(Re=Object(f.a)(l.a.mark((function e(t,n,r,a,i,o){var u,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=a[i],e.prev=1,!u){e.next=7;break}return e.next=5,n[u];case 5:e.next=14;break;case 7:return e.next=9,Ne(r);case 9:if(s=e.sent,!(c=s.find((function(e){return e.measurementId===i})))){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),Se.error(e.t0);case 19:t("config",i,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}function De(e,t,n,r,a){return Pe.apply(this,arguments)}function Pe(){return(Pe=Object(f.a)(l.a.mark((function e(t,n,r,a,o){var u,s,c,f,h,d;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,u=[],!o||!o.send_to){e.next=26;break}return s=o.send_to,Array.isArray(s)||(s=[s]),e.next=7,Ne(r);case 7:c=e.sent,f=Object(i.a)(s),e.prev=9,d=function(){var e=h.value,t=c.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return u=[],"break";u.push(r)},f.s();case 12:if((h=f.n()).done){e.next=18;break}if("break"!==d()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),f.e(e.t0);case 23:return e.prev=23,f.f(),e.finish(23);case 26:return 0===u.length&&(u=Object.values(n)),e.next=29,Promise.all(u);case 29:t("event",a,o||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),Se.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])})))).apply(this,arguments)}function Le(e,t,n,r,a){var i=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[a]&&"function"===typeof window[a]&&(i=window[a]),window[a]=function(e,t,n,r){function a(){return(a=Object(f.a)(l.a.mark((function a(i,o,u){return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,"event"!==i){a.next=6;break}return a.next=4,De(e,t,n,o,u);case 4:a.next=12;break;case 6:if("config"!==i){a.next=11;break}return a.next=9,Ae(e,t,n,r,o,u);case 9:a.next=12;break;case 11:e("set",o);case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),Se.error(a.t0);case 17:case"end":return a.stop()}}),a,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return a.apply(this,arguments)}}(i,e,t,n),{gtagCore:i,wrappedGtag:window[a]}}function Me(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(Te))return r}return null}var Fe=(xe={},Object(s.a)(xe,"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),Object(s.a)(xe,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),Object(s.a)(xe,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),Object(s.a)(xe,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),Object(s.a)(xe,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(s.a)(xe,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),Object(s.a)(xe,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),Object(s.a)(xe,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),Object(s.a)(xe,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),Object(s.a)(xe,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),xe),Ue=new p.b("analytics","Analytics",Fe),Ve=new(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;Object(o.a)(this,e),this.throttleMetadata=t,this.intervalMillis=n}return Object(u.a)(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}());function Be(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function qe(e){return ze.apply(this,arguments)}function ze(){return(ze=Object(f.a)(l.a.mark((function e(t){var n,r,a,i,o,u,s,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,a=t.apiKey,i={method:"GET",headers:Be(a)},o=Ie.replace("{app-id}",r),e.next=5,fetch(o,i);case 5:if(200===(u=e.sent).status||304===u.status){e.next=18;break}return s="",e.prev=8,e.next=11,u.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(s=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw Ue.create("config-fetch-failed",{httpStatus:u.status,responseMessage:s});case 18:return e.abrupt("return",u.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])})))).apply(this,arguments)}function Ke(e){return He.apply(this,arguments)}function He(){return(He=Object(f.a)(l.a.mark((function e(t){var n,r,a,i,o,u,s,c,h=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=h.length>1&&void 0!==h[1]?h[1]:Ve,r=h.length>2?h[2]:void 0,a=t.options,i=a.appId,o=a.apiKey,u=a.measurementId,i){e.next=5;break}throw Ue.create("no-app-id");case 5:if(o){e.next=9;break}if(!u){e.next=8;break}return e.abrupt("return",{measurementId:u,appId:i});case 8:throw Ue.create("no-api-key");case 9:return s=n.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new $e,setTimeout(Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:6e4),e.abrupt("return",We({appId:i,apiKey:o,measurementId:u},s,c,n));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function We(e,t,n){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(f.a)(l.a.mark((function e(t,n,r){var a,i,o,u,s,c,f,h,d=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.throttleEndTimeMillis,i=n.backoffCount,o=d.length>3&&void 0!==d[3]?d[3]:Ve,u=t.appId,s=t.measurementId,e.prev=3,e.next=6,Qe(r,a);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!s){e.next=13;break}return Se.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:s});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,qe(t);case 17:return c=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",c);case 22:if(e.prev=22,e.t1=e.catch(14),Ye(e.t1)){e.next=32;break}if(o.deleteThrottleMetadata(u),!s){e.next=31;break}return Se.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(s)+' provided in the "measurementId" field in the local Firebase config. ['.concat(e.t1.message,"]")),e.abrupt("return",{appId:u,measurementId:s});case 31:throw e.t1;case 32:return f=503===Number(e.t1.customData.httpStatus)?Object(p.f)(i,o.intervalMillis,30):Object(p.f)(i,o.intervalMillis),h={throttleEndTimeMillis:Date.now()+f,backoffCount:i+1},o.setThrottleMetadata(u,h),Se.debug("Calling attemptFetch again in ".concat(f," millis")),e.abrupt("return",We(t,h,r,o));case 37:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])})))).apply(this,arguments)}function Qe(e,t){return new Promise((function(n,r){var a=Math.max(t-Date.now(),0),i=setTimeout(n,a);e.addEventListener((function(){clearTimeout(i),r(Ue.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Ye(e){if(!(e instanceof p.c)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var $e=function(){function e(){Object(o.a)(this,e),this.listeners=[]}return Object(u.a)(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Je(){return Xe.apply(this,arguments)}function Xe(){return(Xe=Object(f.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(p.t)()){e.next=5;break}return Se.warn(Ue.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,Object(p.B)();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),Se.warn(Ue.create("indexeddb-unavailable",{errorInfo:e.t0}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function Ze(){return(Ze=Object(f.a)(l.a.mark((function e(t,n,r,i,o,u,s){var c,f,h,d,p,v,m,y;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(f=Ke(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&Se.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return Se.error(e)})),n.push(f),h=Je().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([f,h]);case 6:return d=e.sent,p=Object(a.a)(d,2),v=p[0],m=p[1],Me()||Ce(u,v.measurementId),o("js",new Date),(y=null!==(c=null===s||void 0===s?void 0:s.config)&&void 0!==c?c:{}).origin="firebase",y.update=!0,null!=m&&(y.firebase_id=m),o("config",v.measurementId,y),e.abrupt("return",v.measurementId);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var et,tt,nt=function(){function e(t){Object(o.a)(this,e),this.app=t}return Object(u.a)(e,[{key:"_delete",value:function(){return delete rt[this.app.options.appId],Promise.resolve()}}]),e}(),rt={},at=[],it={},ot="dataLayer",ut="gtag",st=!1;function ct(e,t,n){!function(){var e=[];if(Object(p.p)()&&e.push("This is a browser extension environment."),Object(p.d)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=Ue.create("invalid-analytics-context",{errorInfo:t});Se.warn(n.message)}}();var r=e.options.appId;if(!r)throw Ue.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Ue.create("no-api-key");Se.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=rt[r])throw Ue.create("already-exists",{id:r});if(!st){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(ot);var a=Le(rt,at,it,ot,ut),i=a.wrappedGtag,o=a.gtagCore;tt=i,et=o,st=!0}return rt[r]=function(e,t,n,r,a,i,o){return Ze.apply(this,arguments)}(e,at,it,t,et,ot,n),new nt(e)}function lt(){return(lt=Object(f.a)(l.a.mark((function e(t,n,r,a,i){var o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!i.global){e.next=5;break}return t("event",r,a),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,u=Object.assign(Object.assign({},a),{send_to:o}),t("event",r,u);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ft(e,t,n,r){e=Object(p.m)(e),function(e,t,n,r,a){return lt.apply(this,arguments)}(tt,rt[e.app.options.appId],t,n,r).catch((function(e){return Se.error(e)}))}Object(h._registerComponent)(new v.a("analytics",(function(e,t){var n=t.options;return ct(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Object(h._registerComponent)(new v.a("analytics-internal",(function(e){try{var t=e.getProvider("analytics").getImmediate();return{logEvent:function(e,n,r){return ft(t,e,n,r)}}}catch(n){throw Ue.create("interop-component-reg-failed",{reason:n})}}),"PRIVATE")),Object(h.registerVersion)("@firebase/analytics","0.7.4"),Object(h.registerVersion)("@firebase/analytics","0.7.4","esm2017")},function(e,t,n){"use strict";var r=n(53),a=n(12),i=n(13),o=n(9),u=n(3),s=n(4),c=n(39),l=n(11),f=n(7),h=n(23);function d(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new l.g("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function p(){if("undefined"===typeof Uint8Array)throw new l.g("unimplemented","Uint8Arrays are not available in this environment.")}function v(){if(!Object(l.r)())throw new l.g("unimplemented","Blobs are unavailable in Firestore in this environment.")}var m=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"toBase64",value:function(){return v(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return p(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return v(),new e(l.b.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return p(),new e(l.b.fromUint8Array(t))}}]),e}();function y(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,a=Object(o.a)(t);try{for(a.s();!(n=a.n()).done;){var i=n.value;if(i in r&&"function"===typeof r[i])return!0}}catch(u){a.e(u)}finally{a.f()}return!1}(e,["next","error","complete"])}var b=function(){function e(){Object(u.a)(this,e)}return Object(s.a)(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return Object(l.F)(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return Object(l.G)(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return Object(l.x)(e._delegate)}}]),e}(),g=function(){function e(t,n,r){var a=this;Object(u.a)(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return a.terminate()}},t instanceof l.m||(this._appCompat=t)}return Object(s.a)(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Object(l.s)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.A)(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return Object(l.H)(this._delegate)}},{key:"disableNetwork",value:function(){return Object(l.D)(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,Object(l.t)("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return Object(l.lb)(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return Object(l.Y)(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new l.g("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new R(this,Object(l.y)(this._delegate,e))}catch(t){throw _(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new x(this,Object(l.E)(this._delegate,e))}catch(t){throw _(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new N(this,Object(l.z)(this._delegate,e))}catch(t){throw _(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return Object(l.db)(this._delegate,(function(n){return e(new w(t,n))}))}},{key:"batch",value:function(){var e=this;return Object(l.K)(this._delegate),new O(new l.l(this._delegate,(function(t){return Object(l.L)(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return Object(l.V)(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return Object(l.W)(this._delegate,e).then((function(e){return e?new N(t,e):null}))}}]),e}(),k=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e){var r;return Object(u.a)(this,n),(r=t.call(this)).firestore=e,r}return Object(s.a)(n,[{key:"convertBytes",value:function(e){return new m(new l.b(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return x.forKey(t,this.firestore,null)}}]),n}(l.a);var w=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"get",value:function(e){var t=this,n=D(e);return this._delegate.get(n).then((function(e){return new T(t._firestore,new l.e(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=D(e);return n?(d("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var o,u=D(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(a));return this}},{key:"delete",value:function(e){var t=D(e);return this._delegate.delete(t),this}}]),e}(),O=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"set",value:function(e,t,n){var r=D(e);return n?(d("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,a=new Array(r>3?r-3:0),i=3;i<r;i++)a[i-3]=arguments[i];var o,u=D(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(a));return this}},{key:"delete",value:function(e){var t=D(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),j=function(){function e(t,n,r){Object(u.a)(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Object(s.a)(e,[{key:"fromFirestore",value:function(e,t){var n=new l.i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new S(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,a=r.get(t);a||(a=new WeakMap,r.set(t,a));var i=a.get(n);return i||(i=new e(t,new k(t),n),a.set(n,i)),i}}]),e}();j.INSTANCES=new WeakMap;var x=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new R(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new R(this.firestore,Object(l.y)(this._delegate,e))}catch(t){throw _(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Object(f.m)(e))instanceof l.d&&Object(l.cb)(this._delegate,e)}},{key:"set",value:function(e,t){t=d("DocumentReference.set",t);try{return t?Object(l.fb)(this._delegate,e,t):Object(l.fb)(this._delegate,e)}catch(n){throw _(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];try{return 1===arguments.length?Object(l.kb)(this._delegate,e):l.kb.apply(void 0,[this._delegate,e,t].concat(r))}catch(i){throw _(i,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return Object(l.B)(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=E(n),i=I(n,(function(t){return new T(e.firestore,new l.e(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return Object(l.X)(this._delegate,a,i)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.N)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.O)(this._delegate):Object(l.M)(this._delegate)).then((function(e){return new T(t.firestore,new l.e(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(j.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new l.g("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new l.d(n._delegate,r,new l.n(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new l.d(n._delegate,r,t))}}]),e}();function _(e,t,n){return e.message=e.message.replace(t,n),e}function E(e){var t,n=Object(o.a)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!y(r))return r}}catch(a){n.e(a)}finally{n.f()}return{}}function I(e,t){var n,r,a;return{next:function(e){a.next&&a.next(t(e))},error:null===(n=(a=y(e[0])?e[0]:y(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}var T=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"ref",get:function(){return new x(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),S=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return Object(l.q)(void 0!==t,"Document in a QueryDocumentSnapshot should exist"),t}}]),n}(T),N=function(){function e(t,n){Object(u.a)(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new k(t)}return Object(s.a)(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.mb)(t,n,r)))}catch(a){throw _(a,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.Z)(t,n)))}catch(r){throw _(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.T)(t)))}catch(n){throw _(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,Object(l.ab)(this._delegate,Object(l.U)(t)))}catch(n){throw _(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.jb.apply(void 0,arguments)))}catch(t){throw _(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.ib.apply(void 0,arguments)))}catch(t){throw _(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.J.apply(void 0,arguments)))}catch(t){throw _(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,Object(l.ab)(this._delegate,l.I.apply(void 0,arguments)))}catch(t){throw _(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return Object(l.bb)(this._delegate,e._delegate)}},{key:"get",value:function(e){var t=this;return("cache"===(null===e||void 0===e?void 0:e.source)?Object(l.Q)(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?Object(l.R)(this._delegate):Object(l.P)(this._delegate)).then((function(e){return new A(t.firestore,new l.j(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=E(n),i=I(n,(function(t){return new A(e.firestore,new l.j(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return Object(l.X)(this._delegate,a,i)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(j.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),C=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new S(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),A=function(){function e(t,n){Object(u.a)(this,e),this._firestore=t,this._delegate=n}return Object(s.a)(e,[{key:"query",get:function(){return new N(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new S(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new C(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new S(n._firestore,r))}))}},{key:"isEqual",value:function(e){return Object(l.hb)(this._delegate,e._delegate)}}]),e}(),R=function(e){Object(a.a)(n,e);var t=Object(i.a)(n);function n(e,r){var a;return Object(u.a)(this,n),(a=t.call(this,e,r)).firestore=e,a._delegate=r,a}return Object(s.a)(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new x(this.firestore,e):null}},{key:"doc",value:function(e){try{return new x(this.firestore,void 0===e?Object(l.E)(this._delegate):Object(l.E)(this._delegate,e))}catch(t){throw _(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return Object(l.u)(this._delegate,e).then((function(e){return new x(t.firestore,e)}))}},{key:"isEqual",value:function(e){return Object(l.cb)(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(j.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(N);function D(e){return Object(l.p)(e,l.d)}var P=function(){function e(){Object(u.a)(this,e);for(var t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];this._delegate=Object(r.a)(l.f,n)}return Object(s.a)(e,[{key:"isEqual",value:function(e){return(e=Object(f.m)(e))instanceof l.f&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(l.o.keyField().canonicalString())}}]),e}(),L=function(){function e(t){Object(u.a)(this,e),this._delegate=t}return Object(s.a)(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=Object(l.eb)();return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=Object(l.C)();return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=l.w.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=l.v.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=Object(l.S)(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),M={Firestore:g,GeoPoint:l.h,Timestamp:l.k,Blob:m,Transaction:w,WriteBatch:O,DocumentReference:x,DocumentSnapshot:T,Query:N,QueryDocumentSnapshot:S,QuerySnapshot:A,CollectionReference:R,FieldPath:P,FieldValue:L,setLogLevel:function(e){Object(l.gb)(e)},CACHE_SIZE_UNLIMITED:l.c};!function(e){var t;t=function(e,t){return new g(e,t,new b)},e.INTERNAL.registerComponent(new h.a("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},M))),e.registerVersion("@firebase/firestore-compat","0.1.7")}(c.a)},,function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(26),c=n.n(s),l=n(17),f=n(8),h=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],d=(c.a.string,c.a.bool,c.a.bool,c.a.bool,c.a.bool,u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.fluid,s=e.rounded,c=e.roundedCircle,d=e.thumbnail,p=Object(a.a)(e,h);return n=Object(l.a)(n,"img"),Object(f.jsx)("img",Object(r.a)(Object(r.a)({ref:t},p),{},{className:o()(i,u&&"".concat(n,"-fluid"),s&&"rounded",c&&"rounded-circle",d&&"".concat(n,"-thumbnail"))}))})));d.displayName="Image",d.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1},t.a=d},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(17),c=n(8),l=["bsPrefix","fluid","as","className"],f=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.fluid,u=e.as,f=void 0===u?"div":u,h=e.className,d=Object(a.a)(e,l),p=Object(s.a)(n,"container"),v="string"===typeof i?"-".concat(i):"-fluid";return Object(c.jsx)(f,Object(r.a)(Object(r.a)({ref:t},d),{},{className:o()(h,i?"".concat(p).concat(v):p)}))}));f.displayName="Container",f.defaultProps={fluid:!1},t.a=f},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(17),c=n(8),l=["bsPrefix","className","as"],f=["xxl","xl","lg","md","sm","xs"],h=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.as,h=void 0===u?"div":u,d=Object(a.a)(e,l),p=Object(s.a)(n,"row"),v="".concat(p,"-cols"),m=[];return f.forEach((function(e){var t,n=d[e];delete d[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&m.push("".concat(v).concat(r,"-").concat(t))})),Object(c.jsx)(h,Object(r.a)(Object(r.a)({ref:t},d),{},{className:o.a.apply(void 0,[i,p].concat(m))}))}));h.displayName="Row",t.a=h},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(17),c=n(8),l=["bsPrefix","variant","animation","size","as","className"],f=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.variant,u=e.animation,f=e.size,h=e.as,d=void 0===h?"div":h,p=e.className,v=Object(a.a)(e,l);n=Object(s.a)(n,"spinner");var m="".concat(n,"-").concat(u);return Object(c.jsx)(d,Object(r.a)(Object(r.a)({ref:t},v),{},{className:o()(p,m,f&&"".concat(m,"-").concat(f),i&&"text-".concat(i))}))}));f.displayName="Spinner",t.a=f},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(58),c=n(37),l=n(81),f=n(17),h=n(49),d=n(79),p=n(42),v=n(21),m=n(8),y=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],b=Object(p.a)("h4");b.displayName="DivStyledAsH4";var g=Object(v.a)("alert-heading",{Component:b}),k=Object(v.a)("alert-link",{Component:l.a}),w={variant:"primary",show:!0,transition:h.a,closeLabel:"Close alert"},O=u.forwardRef((function(e,t){var n=Object(s.a)(e,{show:"onClose"}),i=n.bsPrefix,u=n.show,l=n.closeLabel,p=n.closeVariant,v=n.className,b=n.children,g=n.variant,k=n.onClose,w=n.dismissible,O=n.transition,j=Object(a.a)(n,y),x=Object(f.a)(i,"alert"),_=Object(c.a)((function(e){k&&k(!1,e)})),E=!0===O?h.a:O,I=Object(m.jsxs)("div",Object(r.a)(Object(r.a)({role:"alert"},E?void 0:j),{},{ref:t,className:o()(v,x,g&&"".concat(x,"-").concat(g),w&&"".concat(x,"-dismissible")),children:[w&&Object(m.jsx)(d.a,{onClick:_,"aria-label":l,variant:p}),b]}));return E?Object(m.jsx)(E,Object(r.a)(Object(r.a)({unmountOnExit:!0},j),{},{ref:void 0,in:u,children:I})):u?I:null}));O.displayName="Alert",O.defaultProps=w,t.a=Object.assign(O,{Link:k,Heading:g})},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n.n(u),c=n(38),l=n(58),f=n(21),h=n(17),d=n(8),p=["bsPrefix","className","as"],v=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.as,s=Object(a.a)(e,p);n=Object(h.a)(n,"navbar-brand");var c=u||(s.href?"a":"span");return Object(d.jsx)(c,Object(r.a)(Object(r.a)({},s),{},{ref:t,className:o()(i,n)}))}));v.displayName="NavbarBrand";var m=v,y=n(5),b=n(33),g=n(32),k=n(55);var w,O=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];e.apply(this,r),t.apply(this,r)}}),null)},j=n(75),x=n(59),_=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],E={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function I(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=E[e];return n+parseInt(Object(b.a)(t,r[0]),10)+parseInt(Object(b.a)(t,r[1]),10)}var T=(w={},Object(y.a)(w,g.c,"collapse"),Object(y.a)(w,g.d,"collapsing"),Object(y.a)(w,g.b,"collapsing"),Object(y.a)(w,g.a,"collapse show"),w),S={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:I},N=s.a.forwardRef((function(e,t){var n=e.onEnter,i=e.onEntering,c=e.onEntered,l=e.onExit,f=e.onExiting,h=e.className,p=e.children,v=e.dimension,m=void 0===v?"height":v,y=e.getDimensionValue,b=void 0===y?I:y,g=Object(a.a)(e,_),w="function"===typeof m?m():m,E=Object(u.useMemo)((function(){return O((function(e){e.style[w]="0"}),n)}),[w,n]),S=Object(u.useMemo)((function(){return O((function(e){var t="scroll".concat(w[0].toUpperCase()).concat(w.slice(1));e.style[w]="".concat(e[t],"px")}),i)}),[w,i]),N=Object(u.useMemo)((function(){return O((function(e){e.style[w]=null}),c)}),[w,c]),C=Object(u.useMemo)((function(){return O((function(e){e.style[w]="".concat(b(w,e),"px"),Object(j.a)(e)}),l)}),[l,b,w]),A=Object(u.useMemo)((function(){return O((function(e){e.style[w]=null}),f)}),[w,f]);return Object(d.jsx)(x.a,Object(r.a)(Object(r.a)({ref:t,addEndListener:k.a},g),{},{"aria-expanded":g.role?g.in:null,onEnter:E,onEntering:S,onEntered:N,onExit:C,onExiting:A,childRef:p.ref,children:function(e,t){return s.a.cloneElement(p,Object(r.a)(Object(r.a)({},t),{},{className:o()(h,p.props.className,T[e],"width"===w&&"collapse-horizontal")}))}}))}));N.defaultProps=S;var C=N,A=n(35),R=["children","bsPrefix"],D=u.forwardRef((function(e,t){var n=e.children,i=e.bsPrefix,o=Object(a.a)(e,R);i=Object(h.a)(i,"navbar-collapse");var s=Object(u.useContext)(A.a);return Object(d.jsx)(C,Object(r.a)(Object(r.a)({in:!(!s||!s.expanded)},o),{},{children:Object(d.jsx)("div",{ref:t,className:i,children:n})}))}));D.displayName="NavbarCollapse";var P=D,L=n(37),M=["bsPrefix","className","children","label","as","onClick"],F=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,s=e.children,c=e.label,l=e.as,f=void 0===l?"button":l,p=e.onClick,v=Object(a.a)(e,M);n=Object(h.a)(n,"navbar-toggler");var m=Object(u.useContext)(A.a)||{},y=m.onToggle,b=m.expanded,g=Object(L.a)((function(e){p&&p(e),y&&y()}));return"button"===f&&(v.type="button"),Object(d.jsx)(f,Object(r.a)(Object(r.a)({},v),{},{ref:t,onClick:g,"aria-label":c,className:o()(i,n,!b&&"collapsed"),children:s||Object(d.jsx)("span",{className:"".concat(n,"-icon")})}))}));F.displayName="NavbarToggle",F.defaultProps={label:"Toggle navigation"};var U,V=F,B=n(82),q=n(49),z=Object(f.a)("offcanvas-body"),K=["bsPrefix","className","children"],H=(U={},Object(y.a)(U,g.b,"show"),Object(y.a)(U,g.a,"show"),U),W=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,s=e.children,c=Object(a.a)(e,K);return n=Object(h.a)(n,"offcanvas"),Object(d.jsx)(x.a,Object(r.a)(Object(r.a)({ref:t,addEndListener:k.a},c),{},{childRef:s.ref,children:function(e,t){return u.cloneElement(s,Object(r.a)(Object(r.a)({},t),{},{className:o()(i,s.props.className,(e===g.b||e===g.d)&&"".concat(n,"-toggling"),H[e])}))}}))}));W.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},W.displayName="OffcanvasToggling";var G=W,Q=n(56),Y=n(78),$=["bsPrefix","className"],J=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=Object(a.a)(e,$);return n=Object(h.a)(n,"offcanvas-header"),Object(d.jsx)(Y.a,Object(r.a)(Object(r.a)({ref:t},u),{},{className:o()(i,n)}))}));J.displayName="OffcanvasHeader",J.defaultProps={closeLabel:"Close",closeButton:!1};var X=J,Z=n(42),ee=Object(Z.a)("h5"),te=Object(f.a)("offcanvas-title",{Component:ee}),ne=n(65),re=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function ae(e){return Object(d.jsx)(G,Object(r.a)({},e))}function ie(e){return Object(d.jsx)(q.a,Object(r.a)({},e))}var oe=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,s=e.children,c=e["aria-labelledby"],l=e.placement,f=e.show,p=e.backdrop,v=e.keyboard,m=e.scroll,y=e.onEscapeKeyDown,b=e.onShow,g=e.onHide,k=e.container,w=e.autoFocus,O=e.enforceFocus,j=e.restoreFocus,x=e.restoreFocusOptions,_=e.onEntered,E=e.onExit,I=e.onExiting,T=e.onEnter,S=e.onEntering,N=e.onExited,C=e.backdropClassName,R=e.manager,D=Object(a.a)(e,re),P=Object(u.useRef)();n=Object(h.a)(n,"offcanvas");var M=(Object(u.useContext)(A.a)||{}).onToggle,F=Object(L.a)((function(){null==M||M(),null==g||g()})),U=Object(u.useMemo)((function(){return{onHide:F}}),[F]);var V=Object(u.useCallback)((function(e){return Object(d.jsx)("div",Object(r.a)(Object(r.a)({},e),{},{className:o()("".concat(n,"-backdrop"),C)}))}),[C,n]);return Object(d.jsx)(Q.a.Provider,{value:U,children:Object(d.jsx)(B.a,{show:f,ref:t,backdrop:p,container:k,keyboard:v,autoFocus:w,enforceFocus:O&&!m,restoreFocus:j,restoreFocusOptions:x,onEscapeKeyDown:y,onShow:b,onHide:F,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T.apply(void 0,[e].concat(n))},onEntering:S,onEntered:_,onExit:E,onExiting:I,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N.apply(void 0,n)},manager:R||(m?(P.current||(P.current=new ne.a({handleContainerOverflow:!1})),P.current):Object(ne.b)()),transition:ae,backdropTransition:ie,renderBackdrop:V,renderDialog:function(e){return Object(d.jsx)("div",Object(r.a)(Object(r.a)(Object(r.a)({role:"dialog"},e),D),{},{className:o()(i,n,"".concat(n,"-").concat(l)),"aria-labelledby":c,children:s}))}})})}));oe.displayName="Offcanvas",oe.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var ue=Object.assign(oe,{Body:z,Header:X,Title:te}),se=u.forwardRef((function(e,t){var n=Object(u.useContext)(A.a);return Object(d.jsx)(ue,Object(r.a)({ref:t,show:!(null==n||!n.expanded)},e))}));se.displayName="NavbarOffcanvas";var ce=se,le=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],fe=Object(f.a)("navbar-text",{Component:"span"}),he=u.forwardRef((function(e,t){var n=Object(l.a)(e,{expanded:"onToggle"}),i=n.bsPrefix,s=n.expand,f=n.variant,p=n.bg,v=n.fixed,m=n.sticky,y=n.className,b=n.as,g=void 0===b?"nav":b,k=n.expanded,w=n.onToggle,O=n.onSelect,j=n.collapseOnSelect,x=Object(a.a)(n,le),_=Object(h.a)(i,"navbar"),E=Object(u.useCallback)((function(){null==O||O.apply(void 0,arguments),j&&k&&(null==w||w(!1))}),[O,j,k,w]);void 0===x.role&&"nav"!==g&&(x.role="navigation");var I="".concat(_,"-expand");"string"===typeof s&&(I="".concat(I,"-").concat(s));var T=Object(u.useMemo)((function(){return{onToggle:function(){return null==w?void 0:w(!k)},bsPrefix:_,expanded:!!k}}),[_,k,w]);return Object(d.jsx)(A.a.Provider,{value:T,children:Object(d.jsx)(c.a.Provider,{value:E,children:Object(d.jsx)(g,Object(r.a)(Object(r.a)({ref:t},x),{},{className:o()(y,_,s&&I,f&&"".concat(_,"-").concat(f),p&&"bg-".concat(p),m&&"sticky-".concat(m),v&&"fixed-".concat(v))}))})})}));he.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},he.displayName="Navbar";t.a=Object.assign(he,{Brand:m,Collapse:P,Offcanvas:ce,Text:fe,Toggle:V})},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(26),s=n.n(u),c=n(1),l=n(74),f=n(60),h=n(29),d=n(17),p=n(8),v=["bsPrefix","className","htmlFor"],m=c.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.htmlFor,s=Object(a.a)(e,v),l=Object(c.useContext)(h.a).controlId;return n=Object(d.a)(n,"form-check-label"),Object(p.jsx)("label",Object(r.a)(Object(r.a)({},s),{},{ref:t,htmlFor:u||l,className:o()(i,n)}))}));m.displayName="FormCheckLabel";var y=m,b=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],g=c.forwardRef((function(e,t){var n=e.id,i=e.bsPrefix,u=e.bsSwitchPrefix,s=e.inline,v=void 0!==s&&s,m=e.disabled,g=void 0!==m&&m,k=e.isValid,w=void 0!==k&&k,O=e.isInvalid,j=void 0!==O&&O,x=e.feedbackTooltip,_=void 0!==x&&x,E=e.feedback,I=e.feedbackType,T=e.className,S=e.style,N=e.title,C=void 0===N?"":N,A=e.type,R=void 0===A?"checkbox":A,D=e.label,P=e.children,L=e.as,M=void 0===L?"input":L,F=Object(a.a)(e,b);i=Object(d.a)(i,"form-check"),u=Object(d.a)(u,"form-switch");var U=Object(c.useContext)(h.a).controlId,V=Object(c.useMemo)((function(){return{controlId:n||U}}),[U,n]),B=null!=D&&!1!==D&&!P,q=Object(p.jsx)(f.a,Object(r.a)(Object(r.a)({},F),{},{type:"switch"===R?"checkbox":R,ref:t,isValid:w,isInvalid:j,disabled:g,as:M}));return Object(p.jsx)(h.a.Provider,{value:V,children:Object(p.jsx)("div",{style:S,className:o()(T,D&&i,v&&"".concat(i,"-inline"),"switch"===R&&u),children:P||Object(p.jsxs)(p.Fragment,{children:[q,B&&Object(p.jsx)(y,{title:C,children:D}),E&&Object(p.jsx)(l.a,{type:I,tooltip:_,children:E})]})})})}));g.displayName="FormCheck";var k=Object.assign(g,{Input:f.a,Label:y}),w=n(90),O=n(21),j=Object(O.a)("form-floating"),x=["controlId","as"],_=c.forwardRef((function(e,t){var n=e.controlId,i=e.as,o=void 0===i?"div":i,u=Object(a.a)(e,x),s=Object(c.useMemo)((function(){return{controlId:n}}),[n]);return Object(p.jsx)(h.a.Provider,{value:s,children:Object(p.jsx)(o,Object(r.a)(Object(r.a)({},u),{},{ref:t}))})}));_.displayName="FormGroup";var E=_,I=(n(88),n(94)),T=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],S=c.forwardRef((function(e,t){var n=e.as,i=void 0===n?"label":n,u=e.bsPrefix,s=e.column,l=e.visuallyHidden,f=e.className,v=e.htmlFor,m=Object(a.a)(e,T),y=Object(c.useContext)(h.a).controlId;u=Object(d.a)(u,"form-label");var b="col-form-label";"string"===typeof s&&(b="".concat(b," ").concat(b,"-").concat(s));var g=o()(f,u,l&&"visually-hidden",s&&b);return v=v||y,s?Object(p.jsx)(I.a,Object(r.a)({ref:t,as:"label",className:g,htmlFor:v},m)):Object(p.jsx)(i,Object(r.a)({ref:t,className:g,htmlFor:v},m))}));S.displayName="FormLabel",S.defaultProps={column:!1,visuallyHidden:!1};var N=S,C=["bsPrefix","className","id"],A=c.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.id,s=Object(a.a)(e,C),l=Object(c.useContext)(h.a).controlId;return n=Object(d.a)(n,"form-range"),Object(p.jsx)("input",Object(r.a)(Object(r.a)({},s),{},{type:"range",ref:t,className:o()(i,n),id:u||l}))}));A.displayName="FormRange";var R=A,D=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],P=c.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,u=e.htmlSize,s=e.className,l=e.isValid,f=void 0!==l&&l,v=e.isInvalid,m=void 0!==v&&v,y=e.id,b=Object(a.a)(e,D),g=Object(c.useContext)(h.a).controlId;return n=Object(d.a)(n,"form-select"),Object(p.jsx)("select",Object(r.a)(Object(r.a)({},b),{},{size:u,ref:t,className:o()(s,n,i&&"".concat(n,"-").concat(i),f&&"is-valid",m&&"is-invalid"),id:y||g}))}));P.displayName="FormSelect";var L=P,M=["bsPrefix","className","as","muted"],F=c.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.as,s=void 0===u?"small":u,c=e.muted,l=Object(a.a)(e,M);return n=Object(d.a)(n,"form-text"),Object(p.jsx)(s,Object(r.a)(Object(r.a)({},l),{},{ref:t,className:o()(i,n,c&&"text-muted")}))}));F.displayName="FormText";var U=F,V=c.forwardRef((function(e,t){return Object(p.jsx)(k,Object(r.a)(Object(r.a)({},e),{},{ref:t,type:"switch"}))}));V.displayName="Switch";var B=Object.assign(V,{Input:k.Input,Label:k.Label}),q=["bsPrefix","className","children","controlId","label"],z=c.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.children,s=e.controlId,c=e.label,l=Object(a.a)(e,q);return n=Object(d.a)(n,"form-floating"),Object(p.jsxs)(E,Object(r.a)(Object(r.a)({ref:t,className:o()(i,n),controlId:s},l),{},{children:[u,Object(p.jsx)("label",{htmlFor:s,children:c})]}))}));z.displayName="FloatingLabel";var K=z,H=["className","validated","as"],W={_ref:s.a.any,validated:s.a.bool,as:s.a.elementType},G=c.forwardRef((function(e,t){var n=e.className,i=e.validated,u=e.as,s=void 0===u?"form":u,c=Object(a.a)(e,H);return Object(p.jsx)(s,Object(r.a)(Object(r.a)({},c),{},{ref:t,className:o()(n,i&&"was-validated")}))}));G.displayName="Form",G.propTypes=W;t.a=Object.assign(G,{Group:E,Control:w.a,Floating:j,Check:k,Switch:B,Label:N,Text:U,Range:R,Select:L,FloatingLabel:K})},function(e,t,n){"use strict";var r=n(5),a=n(6),i=n(14),o=n(16),u=n.n(o),s=(n(111),n(1)),c=n(58),l=n(43);var f=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var h=function(e,t){return Object(s.useMemo)((function(){return function(e,t){var n=f(e),r=f(t);return function(e){n&&n(e),r&&r(e)}}(e,t)}),[e,t])},d=s.createContext(null);d.displayName="NavContext";var p=d,v=n(38),m=s.createContext(null),y=n(50),b=n(15),g=n(36),k=n(57),w=n(8),O=["as","active","eventKey"];function j(e){var t=e.key,n=e.onClick,r=e.active,a=e.id,i=e.role,o=e.disabled,u=Object(s.useContext)(v.a),c=Object(s.useContext)(p),l=r,f={role:i};if(c){i||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=t?t:null),d=c.getControlledId(null!=t?t:null);f[Object(y.a)("event-key")]=t,f.id=h||a,f["aria-controls"]=d,l=null==r&&null!=t?c.activeKey===t:r}return"tab"===f.role&&(o&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=Object(g.a)((function(e){o||(null==n||n(e),null!=t&&u&&!e.isPropagationStopped()&&u(t,e))})),[f,{isActive:l}]}var x=s.forwardRef((function(e,t){var n=e.as,r=void 0===n?k.a:n,a=e.active,i=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,O),u=j(Object.assign({key:Object(v.b)(i,o.href),active:a},o)),s=Object(b.a)(u,2),c=s[0],l=s[1];return c[Object(y.a)("active")]=l.isActive,Object(w.jsx)(r,Object.assign({},o,c,{ref:t}))}));x.displayName="NavItem";var _=x,E=["as","onSelect","activeKey","role","onKeyDown"];var I=function(){},T=Object(y.a)("event-key"),S=s.forwardRef((function(e,t){var n,r,a=e.as,i=void 0===a?"div":a,o=e.onSelect,u=e.activeKey,c=e.role,f=e.onKeyDown,d=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,E),b=Object(s.useReducer)((function(e){return!e}),!1)[1],g=Object(s.useRef)(!1),k=Object(s.useContext)(v.a),O=Object(s.useContext)(m);O&&(c=c||"tablist",u=O.activeKey,n=O.getControlledId,r=O.getControllerId);var j=Object(s.useRef)(null),x=function(e){var t=j.current;if(!t)return null;var n=Object(l.a)(t,"[".concat(T,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var a=n.indexOf(r);if(-1===a)return null;var i=a+e;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},_=function(e,t){null!=e&&(null==o||o(e,t),null==k||k(e,t))};Object(s.useEffect)((function(){if(j.current&&g.current){var e=j.current.querySelector("[".concat(T,"][aria-selected=true]"));null==e||e.focus()}g.current=!1}));var S=h(t,j);return Object(w.jsx)(v.a.Provider,{value:_,children:Object(w.jsx)(p.Provider,{value:{role:c,activeKey:Object(v.b)(u),getControlledId:n||I,getControllerId:r||I},children:Object(w.jsx)(i,Object.assign({},d,{onKeyDown:function(e){if(null==f||f(e),O){var t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=x(-1);break;case"ArrowRight":case"ArrowDown":t=x(1);break;default:return}t&&(e.preventDefault(),_(t.dataset[Object(y.b)("EventKey")]||null,e),g.current=!0,b())}},ref:S,role:c}))})})}));S.displayName="Nav";var N=Object.assign(S,{Item:_}),C=n(17),A=n(35),R=n(80),D=n(21),P=Object(D.a)("nav-item"),L=n(81),M=["bsPrefix","className","as","active","eventKey"],F=s.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,o=e.as,s=void 0===o?L.a:o,c=e.active,l=e.eventKey,f=Object(i.a)(e,M);n=Object(C.a)(n,"nav-link");var h=j(Object(a.a)({key:Object(v.b)(l,f.href),active:c},f)),d=Object(b.a)(h,2),p=d[0],m=d[1];return Object(w.jsx)(s,Object(a.a)(Object(a.a)(Object(a.a)({},f),p),{},{ref:t,className:u()(r,n,f.disabled&&"disabled",m.isActive&&"active")}))}));F.displayName="NavLink",F.defaultProps={disabled:!1};var U=F,V=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],B=s.forwardRef((function(e,t){var n,o,l,f=Object(c.a)(e,{activeKey:"onSelect"}),h=f.as,d=void 0===h?"div":h,p=f.bsPrefix,v=f.variant,m=f.fill,y=f.justify,b=f.navbar,g=f.navbarScroll,k=f.className,O=f.activeKey,j=Object(i.a)(f,V),x=Object(C.a)(p,"nav"),_=!1,E=Object(s.useContext)(A.a),I=Object(s.useContext)(R.a);return E?(o=E.bsPrefix,_=null==b||b):I&&(l=I.cardHeaderBsPrefix),Object(w.jsx)(N,Object(a.a)({as:d,ref:t,activeKey:O,className:u()(k,(n={},Object(r.a)(n,x,!_),Object(r.a)(n,"".concat(o,"-nav"),_),Object(r.a)(n,"".concat(o,"-nav-scroll"),_&&g),Object(r.a)(n,"".concat(l,"-").concat(v),!!l),Object(r.a)(n,"".concat(x,"-").concat(v),!!v),Object(r.a)(n,"".concat(x,"-fill"),m),Object(r.a)(n,"".concat(x,"-justified"),y),n))},j))}));B.displayName="Nav",B.defaultProps={justify:!1,fill:!1};t.a=Object.assign(B,{Item:P,Link:U})},function(e,t,n){"use strict";var r,a=n(15),i=n(14),o=n(6),u=n(16),s=n.n(u),c=n(77),l=n(47),f=n(46),h=n(63);function d(e){if((!r&&0!==r||e)&&l.a){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),r=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return r}var p=n(1);var v=n(37),m=n(76),y=n(95),b=n(83),g=n(82),k=n(65),w=n(49),O=n(21),j=Object(O.a)("modal-body"),x=n(56),_=n(17),E=n(8),I=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],T=p.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=e.contentClassName,u=e.centered,c=e.size,l=e.fullscreen,f=e.children,h=e.scrollable,d=Object(i.a)(e,I);n=Object(_.a)(n,"modal");var p="".concat(n,"-dialog"),v="string"===typeof l?"".concat(n,"-fullscreen-").concat(l):"".concat(n,"-fullscreen");return Object(E.jsx)("div",Object(o.a)(Object(o.a)({},d),{},{ref:t,className:s()(p,r,c&&"".concat(n,"-").concat(c),u&&"".concat(p,"-centered"),h&&"".concat(p,"-scrollable"),l&&v),children:Object(E.jsx)("div",{className:s()("".concat(n,"-content"),a),children:f})}))}));T.displayName="ModalDialog";var S=T,N=Object(O.a)("modal-footer"),C=n(78),A=["bsPrefix","className"],R=p.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,a=Object(i.a)(e,A);return n=Object(_.a)(n,"modal-header"),Object(E.jsx)(C.a,Object(o.a)(Object(o.a)({ref:t},a),{},{className:s()(r,n)}))}));R.displayName="ModalHeader",R.defaultProps={closeLabel:"Close",closeButton:!1};var D=R,P=n(42),L=Object(P.a)("h4"),M=Object(O.a)("modal-title",{Component:L}),F=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],U={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:S};function V(e){return Object(E.jsx)(w.a,Object(o.a)(Object(o.a)({},e),{},{timeout:null}))}function B(e){return Object(E.jsx)(w.a,Object(o.a)(Object(o.a)({},e),{},{timeout:null}))}var q=p.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,u=e.style,w=e.dialogClassName,O=e.contentClassName,j=e.children,I=e.dialogAs,T=e["aria-labelledby"],S=e.show,N=e.animation,C=e.backdrop,A=e.keyboard,R=e.onEscapeKeyDown,D=e.onShow,P=e.onHide,L=e.container,M=e.autoFocus,U=e.enforceFocus,q=e.restoreFocus,z=e.restoreFocusOptions,K=e.onEntered,H=e.onExit,W=e.onExiting,G=e.onEnter,Q=e.onEntering,Y=e.onExited,$=e.backdropClassName,J=e.manager,X=Object(i.a)(e,F),Z=Object(p.useState)({}),ee=Object(a.a)(Z,2),te=ee[0],ne=ee[1],re=Object(p.useState)(!1),ae=Object(a.a)(re,2),ie=ae[0],oe=ae[1],ue=Object(p.useRef)(!1),se=Object(p.useRef)(!1),ce=Object(p.useRef)(null),le=Object(p.useState)(null),fe=Object(a.a)(le,2),he=fe[0],de=fe[1],pe=Object(m.a)(t,de),ve=Object(v.a)(P),me=Object(_.b)();n=Object(_.a)(n,"modal");var ye=Object(p.useMemo)((function(){return{onHide:ve}}),[ve]);function be(){return J||Object(k.b)({isRTL:me})}function ge(e){if(l.a){var t=be().getScrollbarWidth()>0,n=e.scrollHeight>Object(f.a)(e).documentElement.clientHeight;ne({paddingRight:t&&!n?d():void 0,paddingLeft:!t&&n?d():void 0})}}var ke=Object(v.a)((function(){he&&ge(he.dialog)}));Object(y.a)((function(){Object(h.a)(window,"resize",ke),null==ce.current||ce.current()}));var we=function(){ue.current=!0},Oe=function(e){ue.current&&he&&e.target===he.dialog&&(se.current=!0),ue.current=!1},je=function(){oe(!0),ce.current=Object(b.a)(he.dialog,(function(){oe(!1)}))},xe=function(e){"static"!==C?se.current||e.target!==e.currentTarget?se.current=!1:null==P||P():function(e){e.target===e.currentTarget&&je()}(e)},_e=Object(p.useCallback)((function(e){return Object(E.jsx)("div",Object(o.a)(Object(o.a)({},e),{},{className:s()("".concat(n,"-backdrop"),$,!N&&"show")}))}),[N,$,n]),Ee=Object(o.a)(Object(o.a)({},u),te);N||(Ee.display="block");return Object(E.jsx)(x.a.Provider,{value:ye,children:Object(E.jsx)(g.a,{show:S,ref:pe,backdrop:C,container:L,keyboard:!0,autoFocus:M,enforceFocus:U,restoreFocus:q,restoreFocusOptions:z,onEscapeKeyDown:function(e){A||"static"!==C?A&&R&&R(e):(e.preventDefault(),je())},onShow:D,onHide:P,onEnter:function(e,t){e&&(e.style.display="block",ge(e)),null==G||G(e,t)},onEntering:function(e,t){null==Q||Q(e,t),Object(c.a)(window,"resize",ke)},onEntered:K,onExit:function(e){null==ce.current||ce.current(),null==H||H(e)},onExiting:W,onExited:function(e){e&&(e.style.display=""),null==Y||Y(e),Object(h.a)(window,"resize",ke)},manager:be(),transition:N?V:void 0,backdropTransition:N?B:void 0,renderBackdrop:_e,renderDialog:function(e){return Object(E.jsx)("div",Object(o.a)(Object(o.a)({role:"dialog"},e),{},{style:Ee,className:s()(r,n,ie&&"".concat(n,"-static")),onClick:C?xe:void 0,onMouseUp:Oe,"aria-labelledby":T,children:Object(E.jsx)(I,Object(o.a)(Object(o.a)({},X),{},{onMouseDown:we,className:w,contentClassName:O,children:j}))}))}})})}));q.displayName="Modal",q.defaultProps=U;t.a=Object.assign(q,{Body:j,Header:D,Title:M,Footer:N,Dialog:S,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150})},function(e,t,n){"use strict";var r=n(6),a=n(14),i=n(16),o=n.n(i),u=n(1),s=n(17),c=n(21),l=n(42),f=n(8),h=["bsPrefix","className","variant","as"],d=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.variant,c=e.as,l=void 0===c?"img":c,d=Object(a.a)(e,h),p=Object(s.a)(n,"card-img");return Object(f.jsx)(l,Object(r.a)({ref:t,className:o()(u?"".concat(p,"-").concat(u):p,i)},d))}));d.displayName="CardImg";var p=d,v=n(80),m=["bsPrefix","className","as"],y=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,c=e.as,l=void 0===c?"div":c,h=Object(a.a)(e,m),d=Object(s.a)(n,"card-header"),p=Object(u.useMemo)((function(){return{cardHeaderBsPrefix:d}}),[d]);return Object(f.jsx)(v.a.Provider,{value:p,children:Object(f.jsx)(l,Object(r.a)(Object(r.a)({ref:t},h),{},{className:o()(i,d)}))})}));y.displayName="CardHeader";var b=y,g=["bsPrefix","className","bg","text","border","body","children","as"],k=Object(l.a)("h5"),w=Object(l.a)("h6"),O=Object(c.a)("card-body"),j=Object(c.a)("card-title",{Component:k}),x=Object(c.a)("card-subtitle",{Component:w}),_=Object(c.a)("card-link",{Component:"a"}),E=Object(c.a)("card-text",{Component:"p"}),I=Object(c.a)("card-footer"),T=Object(c.a)("card-img-overlay"),S=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.className,u=e.bg,c=e.text,l=e.border,h=e.body,d=e.children,p=e.as,v=void 0===p?"div":p,m=Object(a.a)(e,g),y=Object(s.a)(n,"card");return Object(f.jsx)(v,Object(r.a)(Object(r.a)({ref:t},m),{},{className:o()(i,y,u&&"bg-".concat(u),c&&"text-".concat(c),l&&"border-".concat(l)),children:h?Object(f.jsx)(O,{children:d}):d}))}));S.displayName="Card",S.defaultProps={body:!1};t.a=Object.assign(S,{Img:p,Title:j,Subtitle:x,Body:O,Link:_,Text:E,Header:b,Footer:I,ImgOverlay:T})},function(e,t,n){"use strict";var r=n(14),a=n(6),i=n(16),o=n.n(i),u=n(1),s=n(21),c=n(17),l=n(60),f=u.createContext(null);f.displayName="InputGroupContext";var h=f,d=n(8),p=["bsPrefix","size","hasValidation","className","as"],v=Object(s.a)("input-group-text",{Component:"span"}),m=u.forwardRef((function(e,t){var n=e.bsPrefix,i=e.size,s=e.hasValidation,l=e.className,f=e.as,v=void 0===f?"div":f,m=Object(r.a)(e,p);n=Object(c.a)(n,"input-group");var y=Object(u.useMemo)((function(){return{}}),[]);return Object(d.jsx)(h.Provider,{value:y,children:Object(d.jsx)(v,Object(a.a)(Object(a.a)({ref:t},m),{},{className:o()(l,n,i&&"".concat(n,"-").concat(i),s&&"has-validation")}))})}));m.displayName="InputGroup";t.a=Object.assign(m,{Text:v,Radio:function(e){return Object(d.jsx)(v,{children:Object(d.jsx)(l.a,Object(a.a)({type:"radio"},e))})},Checkbox:function(e){return Object(d.jsx)(v,{children:Object(d.jsx)(l.a,Object(a.a)({type:"checkbox"},e))})}})}]]);
//# sourceMappingURL=2.c3438100.chunk.js.map